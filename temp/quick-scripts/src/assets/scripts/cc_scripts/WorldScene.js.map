{"version":3,"sources":["assets\\scripts\\cc_scripts\\WorldScene.js"],"names":["KBEngine","require","bindjs","cc","Class","Component","properties","seat1","type","Node","seat2","showwangfa","introduce","active","hidewangfa","showsetting","isshowsetting","settingNode","showchat","isshowchat","chatNode","log","onLoad","installEvents","RoomID","find","getComponent","Label","node","getChildByName","window","matching","stopAllActions","action1","fadeIn","action2","fadeOut","repeat","repeatForever","sequence","runAction","_timeLabel","sys","platform","WECHAT_GAME","enableWxShare","card1","card2","card3","card4","opt","label","act","card1num","card2num","card3num","card4num","lasttouchcard","on","EventType","TOUCH_END","onTouchEndedcard1","onTouchEndedcard2","onTouchEndedcard3","onTouchEndedcard4","card1selected","card2selected","card3selected","card4selected","gameState","clock","sp","i","card1origpos","position","card2origpos","card3origpos","card4origpos","delta","Sprite","spriteFrame","getOriginalSize","height","out","v2","seat1cardpos","convertToWorldSpaceAR","convertToNodeSpaceAR","y","seat2cardpos","gameHint","opacity","length","setScale","push","getBatteryPercent","isNative","os","OS_ANDROID","jsb","reflection","callStaticMethod","ANDROID_API","OS_IOS","IOS_API","update","dt","string","join","minutes","Math","floor","Date","now","_lastMinute","date","h","getHours","m","getMinutes","power","scaleX","onaddact","onreduceact","onmulact","ondivact","onlefact","onrigact","ondelact","num","pop","onsureact","action","fadeTo","str","res","eval2","player","app","pickUped","event","Event","register","entity_updateroomkey","roomKeyc","avatar","wx","showShareMenu","withShareTicket","onShareAppMessage","title","imageUrl","SHARE_PICTURE","enablePhysicManager","director","getPhysicsManager","enabled","manager","getCollisionManager","enablePhysicsDebugDraw","enabledDebugDraw","enabledDrawBoundingBox","debugDrawFlags","PhysicsManager","DrawBits","e_centerOfMassBit","e_shapeBit","e_rayCast","unInstallEvents","deregister","onjoinPrivateRoom","loadScene","loginres","onquick_chat","eid","idx","strstr","getQuickChatInfo","id","chat","onemoji","name","emoji","oniptChat","playerReadyStateChange","state","_isReady","refresh","onupdateGamestates","curID","time","newTurn","updategamestuts","onotherNetcut","entities","accountName","onsyncsureact","strs","onDisconnected","INFO_MSG","Destroyplayer","reloginBaseapp","onReloginBaseappTimer","self","reloginCount","onReloginBaseappFailed","failedcode","serverErr","onReloginBaseappSuccessfully","onConnectionState","success","ERROR_MSG","ip","port","reqChangeReadyState","setReady","entity_updateholds","holds","entity","className","_holds","game_begin_push","onEnterWorld","isPlayer","ae","_userName","avatarUrl","onEnterWorld2","entityID","onLeaveWorld","onAvatarEnterWorld","createPlayer","updatePosition","set_position","setCameraTarget","checkPlayerHasItem","left","second","card01","card02","card03","card04","isGameStart","setGameStart","A_act1","A_act2","A_act3","A_act4","B_act1","B_act2","B_act3","B_act4","x1","x","y1","x2","y2","card1origposx","card1origposy","card2origposx","card2origposy","card3origposx","card3origposy","card4origposx","card4origposy","moveTo","parseInt","funcount1","callFunc","target","refreshcount1","funcount2","refreshcount2","fun1","url","fun2","fun3","fun4","fun11","fun22","fun33","fun44","delayTime","resetItem","otherAvatarOnPickUpItem","avatarID","itemID","otherAvatarThrowItem","force","otherAvatarOnStopWalk","pos","otherAvatarOnStartWalk","moveFlag","otherAvatarRecoverItem","otherAvatarOnLeftJump","otherAvatarOnRightJump","onRecvDamage","harm","hp","onAvatarDie","onGameOver","isWin","totalTime","totalHarm","score","HP","TOTAL_TIME","OtherHP","SCORE","LVlevel","round","onResetItem","modelID","setPosition","SCALE","z","onAvatarContinueGame","enableControlPlayer","disEnableControlPlayer"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,IAAIA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAtB,EACA;;;AACA,IAAIC,MAAM,GAACD,OAAO,CAAC,OAAD,CAAlB;;AAEAE,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAGLC,EAAAA,UAAU,EAAE;AACRC,IAAAA,KAAK,EAAE;AACH,iBAAS,IADN;AAEHC,MAAAA,IAAI,EAAEL,EAAE,CAACM;AAFN,KADC;AAMRC,IAAAA,KAAK,EAAE;AACH,iBAAS,IADN;AAEHF,MAAAA,IAAI,EAAEL,EAAE,CAACM;AAFN;AAIP;;;;;;;;;;;AAUA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AApBQ,GAHP;AA0ELE,EAAAA,UAAU,EAAC,sBAAU;AACjB,SAAKC,SAAL,CAAeC,MAAf,GAAsB,IAAtB;AACH,GA5EI;AA6ELC,EAAAA,UAAU,EAAC,sBAAU;AACjB,SAAKF,SAAL,CAAeC,MAAf,GAAsB,KAAtB;AACH,GA/EI;AAgFLE,EAAAA,WAAW,EAAC,uBAAU;AACnB;AACC,SAAKC,aAAL,GAAqB,CAAC,KAAKC,WAAL,CAAiBJ,MAAvC;AACA,SAAKI,WAAL,CAAiBJ,MAAjB,GAA0B,KAAKG,aAA/B;AAEH,GArFI;AAsFLE,EAAAA,QAAQ,EAAC,oBAAU;AACf;AACA,SAAKC,UAAL,GAAkB,CAAC,KAAKC,QAAL,CAAcP,MAAjC;AACA,SAAKO,QAAL,CAAcP,MAAd,GAAuB,KAAKM,UAA5B;AACAhB,IAAAA,EAAE,CAACkB,GAAH,CAAO,UAAP;AAEH,GA5FI;AA6FLC,EAAAA,MA7FK,oBA6FK;AACN,SAAKC,aAAL;AACA,SAAKC,MAAL,GAAYrB,EAAE,CAACsB,IAAH,CAAQ,mBAAR,EAA6BC,YAA7B,CAA0CvB,EAAE,CAACwB,KAA7C,CAAZ;AACA,SAAKf,SAAL,GAAe,KAAKgB,IAAL,CAAUC,cAAV,CAAyB,WAAzB,CAAf;AACA,SAAKjB,SAAL,CAAeC,MAAf,GAAsB,KAAtB;;AAEA,QAAGiB,MAAM,CAACtB,IAAP,IAAa,CAAhB,EAAkB;AACd,WAAKuB,QAAL,GAAc,KAAKH,IAAL,CAAUC,cAAV,CAAyB,KAAzB,EAAgCA,cAAhC,CAA+C,UAA/C,CAAd;AAEH,KAHD,MAII;AACA,WAAKE,QAAL,GAAc,KAAKH,IAAL,CAAUC,cAAV,CAAyB,KAAzB,EAAgCA,cAAhC,CAA+C,WAA/C,CAAd;AACH,KAZK,CAaN;;;AACA,SAAKE,QAAL,CAAclB,MAAd,GAAqB,IAArB;AACA,SAAKkB,QAAL,CAAcC,cAAd;AACA,QAAIC,OAAO,GAAG9B,EAAE,CAAC+B,MAAH,CAAU,GAAV,CAAd,CAhBM,CAgBuB;;AAC7B,QAAIC,OAAO,GAAGhC,EAAE,CAACiC,OAAH,CAAW,GAAX,CAAd,CAjBM,CAiBwB;;AAC9B,QAAIC,MAAM,GAAClC,EAAE,CAACmC,aAAH,CAAiBnC,EAAE,CAACoC,QAAH,CAAYJ,OAAZ,EAAoBF,OAApB,CAAjB,CAAX;AACA,SAAKF,QAAL,CAAcS,SAAd,CAAwBH,MAAxB;AACA;;;;;;;;;;;;;;;AAeA;;AAEA,SAAKI,UAAL,GAAkBtC,EAAE,CAACsB,IAAH,CAAQ,iBAAR,EAA2BC,YAA3B,CAAwCvB,EAAE,CAACwB,KAA3C,CAAlB;AACA,SAAKX,aAAL,GAAmB,KAAnB,CAtCM,CAuCN;AACA;AACA;;AACA,SAAKC,WAAL,GAAiBd,EAAE,CAACsB,IAAH,CAAQ,iBAAR,CAAjB;AACA,SAAKR,WAAL,CAAiBJ,MAAjB,GAA0B,KAAKG,aAA/B;AAEA,SAAKG,UAAL,GAAgB,KAAhB,CA7CM,CA8CN;AACA;;AACA,SAAKC,QAAL,GAAcjB,EAAE,CAACsB,IAAH,CAAQ,aAAR,CAAd;AACA,SAAKL,QAAL,CAAcP,MAAd,GAAuB,KAAKM,UAA5B;;AAEA,QAAGhB,EAAE,CAACuC,GAAH,CAAOC,QAAP,IAAmBxC,EAAE,CAACuC,GAAH,CAAOE,WAA7B,EAA0C;AACtC,WAAKC,aAAL;AACH;;AACD,SAAKC,KAAL,GAAW,KAAKlB,IAAL,CAAUC,cAAV,CAAyB,OAAzB,CAAX;AACA,SAAKkB,KAAL,GAAW,KAAKnB,IAAL,CAAUC,cAAV,CAAyB,OAAzB,CAAX;AACA,SAAKmB,KAAL,GAAW,KAAKpB,IAAL,CAAUC,cAAV,CAAyB,OAAzB,CAAX;AACA,SAAKoB,KAAL,GAAW,KAAKrB,IAAL,CAAUC,cAAV,CAAyB,OAAzB,CAAX;AACA,SAAKiB,KAAL,CAAWjC,MAAX,GAAkB,KAAlB;AACA,SAAKkC,KAAL,CAAWlC,MAAX,GAAkB,KAAlB;AACA,SAAKmC,KAAL,CAAWnC,MAAX,GAAkB,KAAlB;AACA,SAAKoC,KAAL,CAAWpC,MAAX,GAAkB,KAAlB;AACA,SAAKqC,GAAL,GAAS,KAAKtB,IAAL,CAAUC,cAAV,CAAyB,KAAzB,EAAgCA,cAAhC,CAA+C,KAA/C,CAAT;AACA,SAAKqB,GAAL,CAASrC,MAAT,GAAgB,KAAhB;AAEA,SAAKsC,KAAL,GAAW,KAAKvB,IAAL,CAAUC,cAAV,CAAyB,KAAzB,EAAgCA,cAAhC,CAA+C,QAA/C,EAAyDH,YAAzD,CAAsEvB,EAAE,CAACwB,KAAzE,CAAX;AACA,SAAKyB,GAAL,GAAS,EAAT;AACA,SAAKC,QAAL,GAAc,CAAd;AACA,SAAKC,QAAL,GAAc,CAAd;AACA,SAAKC,QAAL,GAAc,CAAd;AACA,SAAKC,QAAL,GAAc,CAAd;AAEA,SAAKC,aAAL,GAAmB,IAAnB;AAEA,SAAKX,KAAL,CAAWY,EAAX,CAAcvD,EAAE,CAACM,IAAH,CAAQkD,SAAR,CAAkBC,SAAhC,EAA2C,KAAKC,iBAAhD,EAAmE,IAAnE;AACA,SAAKd,KAAL,CAAWW,EAAX,CAAcvD,EAAE,CAACM,IAAH,CAAQkD,SAAR,CAAkBC,SAAhC,EAA2C,KAAKE,iBAAhD,EAAmE,IAAnE;AACA,SAAKd,KAAL,CAAWU,EAAX,CAAcvD,EAAE,CAACM,IAAH,CAAQkD,SAAR,CAAkBC,SAAhC,EAA2C,KAAKG,iBAAhD,EAAmE,IAAnE;AACA,SAAKd,KAAL,CAAWS,EAAX,CAAcvD,EAAE,CAACM,IAAH,CAAQkD,SAAR,CAAkBC,SAAhC,EAA2C,KAAKI,iBAAhD,EAAmE,IAAnE;AAEA,SAAKC,aAAL,GAAmB,KAAnB;AACA,SAAKC,aAAL,GAAmB,KAAnB;AACA,SAAKC,aAAL,GAAmB,KAAnB;AACA,SAAKC,aAAL,GAAmB,KAAnB;AAIA,SAAKC,SAAL,GAAiB,KAAKzC,IAAL,CAAUF,YAAV,CAAuB,WAAvB,CAAjB;AACA,SAAK4C,KAAL,GAAW,KAAK1C,IAAL,CAAUC,cAAV,CAAyB,KAAzB,EAAgCA,cAAhC,CAA+C,OAA/C,CAAX;AACA,SAAKyC,KAAL,CAAWzD,MAAX,GAAkB,KAAlB;AAEA,QAAI0D,EAAE,GAAC,IAAP;;AACA,SAAI,IAAIC,CAAC,GAAC,IAAV,EAAeA,CAAC,GAAC,IAAjB,EAAsBA,CAAC,EAAvB,EAA0B;AACtBD,MAAAA,EAAE,GAAC,KAAK3C,IAAL,CAAUC,cAAV,CAAyB,UAAQ2C,CAAR,GAAU,KAAnC,CAAH;AACAD,MAAAA,EAAE,CAAC1D,MAAH,GAAU,KAAV;AACH;;AACD,SAAK4D,YAAL,GAAkB,KAAK3B,KAAL,CAAW4B,QAA7B;AACA,SAAKC,YAAL,GAAkB,KAAK5B,KAAL,CAAW2B,QAA7B;AACA,SAAKE,YAAL,GAAkB,KAAK5B,KAAL,CAAW0B,QAA7B;AACA,SAAKG,YAAL,GAAkB,KAAK5B,KAAL,CAAWyB,QAA7B;AAGA5C,IAAAA,MAAM,CAACgD,KAAP,GAAa,KAAKlD,IAAL,CAAUC,cAAV,CAAyB,KAAzB,EAAgCA,cAAhC,CAA+C,OAA/C,EAAwDA,cAAxD,CAAuE,MAAvE,EAA+EH,YAA/E,CAA4FvB,EAAE,CAAC4E,MAA/F,EAAuGC,WAAvG,CAAmHC,eAAnH,GAAqIC,MAArI,GAA4I,GAAzJ,CArGM,CAsGN;;AACA,QAAIC,GAAG,GAAChF,EAAE,CAACiF,EAAH,CAAM,CAAN,EAAS,CAAT,CAAR,CAvGM,CAwGN;;AACA,QAAIC,YAAY,GAAC,KAAKzD,IAAL,CAAUC,cAAV,CAAyB,KAAzB,EAAgCA,cAAhC,CAA+C,OAA/C,EAAwDA,cAAxD,CAAuE,MAAvE,EAA+E6C,QAAhG;AACA,SAAK9C,IAAL,CAAUC,cAAV,CAAyB,KAAzB,EAAgCA,cAAhC,CAA+C,OAA/C,EAAwDyD,qBAAxD,CAA+ED,YAA/E,EAA6FF,GAA7F;AACA,SAAKE,YAAL,GAAkB,KAAKzD,IAAL,CAAU2D,oBAAV,CAA+BJ,GAA/B,CAAlB;AACA,SAAKE,YAAL,CAAkBG,CAAlB,GAAoB,KAAKH,YAAL,CAAkBG,CAAlB,GAAoB,KAAK5D,IAAL,CAAUC,cAAV,CAAyB,KAAzB,EAAgCA,cAAhC,CAA+C,OAA/C,EAAwDA,cAAxD,CAAuE,MAAvE,EAA+EH,YAA/E,CAA4FvB,EAAE,CAAC4E,MAA/F,EAAuGC,WAAvG,CAAmHC,eAAnH,GAAqIC,MAArI,GAA4I,GAApL,CA5GM,CA6GN;AACA;;AACAC,IAAAA,GAAG,GAAChF,EAAE,CAACiF,EAAH,CAAM,CAAN,EAAS,CAAT,CAAJ;AACA,QAAIK,YAAY,GAAC,KAAK7D,IAAL,CAAUC,cAAV,CAAyB,KAAzB,EAAgCA,cAAhC,CAA+C,OAA/C,EAAwDA,cAAxD,CAAuE,MAAvE,EAA+E6C,QAAhG;AACA,SAAK9C,IAAL,CAAUC,cAAV,CAAyB,KAAzB,EAAgCA,cAAhC,CAA+C,OAA/C,EAAwDyD,qBAAxD,CAA+EG,YAA/E,EAA6FN,GAA7F;AACA,SAAKM,YAAL,GAAkB,KAAK7D,IAAL,CAAU2D,oBAAV,CAA+BJ,GAA/B,CAAlB,CAlHM,CAqHN;AACA;AACA;AACA;AACA;AACA;;AAGA,SAAKO,QAAL,GAAc,KAAK9D,IAAL,CAAUC,cAAV,CAAyB,UAAzB,EAAqCH,YAArC,CAAkDvB,EAAE,CAACwB,KAArD,CAAd;AACA,SAAK+D,QAAL,CAAc9D,IAAd,CAAmB+D,OAAnB,GAA2B,CAA3B;AACA,SAAKD,QAAL,CAAc9D,IAAd,CAAmBf,MAAnB,GAA0B,KAA1B;AAEA,SAAKN,KAAL,GAAY,KAAKqB,IAAL,CAAUC,cAAV,CAAyB,KAAzB,EAAgCA,cAAhC,CAA+C,OAA/C,CAAZ;AACA,SAAKtB,KAAL,CAAWM,MAAX,GAAkB,KAAlB;AACA,SAAKH,KAAL,GAAY,KAAKkB,IAAL,CAAUC,cAAV,CAAyB,KAAzB,EAAgCA,cAAhC,CAA+C,OAA/C,CAAZ;AACA,SAAKnB,KAAL,CAAWG,MAAX,GAAkB,KAAlB;;AACA,QAAGV,EAAE,CAACuC,GAAH,CAAOC,QAAP,IAAmBxC,EAAE,CAACuC,GAAH,CAAOE,WAA7B,EAA0C;AACtC,WAAKC,aAAL;AACH,KAvIK,CAyIP;;AAEC;;;;;;;;;;;;;;AAeH,GAvPI;AAwPLgB,EAAAA,iBAAiB,EAAC,6BAAU;AACxB;AACA,QAAG,KAAKT,GAAL,CAASwC,MAAT,GAAgB,CAAhB,IAAmB,CAAtB,EAAwB;AACpB,UAAG,KAAKxC,GAAL,CAAS,KAAKA,GAAL,CAASwC,MAAT,GAAgB,CAAzB,KAA6B,KAAKvC,QAAlC,IAA6C,KAAKD,GAAL,CAAS,KAAKA,GAAL,CAASwC,MAAT,GAAgB,CAAzB,KAA6B,KAAKtC,QAA/E,IAAyF,KAAKF,GAAL,CAAS,KAAKA,GAAL,CAASwC,MAAT,GAAgB,CAAzB,KAA6B,KAAKrC,QAA3H,IAAqI,KAAKH,GAAL,CAAS,KAAKA,GAAL,CAASwC,MAAT,GAAgB,CAAzB,KAA6B,KAAKpC,QAA1K,EACA;AACH;;AACD,QAAG,KAAKS,aAAL,IAAoB,KAAvB,EAA6B;AACzB,WAAKR,aAAL,GAAmB,KAAKX,KAAxB;AACA,WAAKmB,aAAL,GAAmB,IAAnB;AACA,WAAKnB,KAAL,CAAW+C,QAAX,CAAoB,CAApB;AACA,WAAKzC,GAAL,CAAS0C,IAAT,CAAc,KAAKzC,QAAnB;AACH;AAAA;;;;;;;;;;AASJ,GA5QI;AA6QLS,EAAAA,iBAAiB,EAAC,6BAAU;AACxB;AACA,QAAG,KAAKV,GAAL,CAASwC,MAAT,GAAgB,CAAhB,IAAmB,CAAtB,EAAwB;AACpB,UAAG,KAAKxC,GAAL,CAAS,KAAKA,GAAL,CAASwC,MAAT,GAAgB,CAAzB,KAA6B,KAAKvC,QAAlC,IAA6C,KAAKD,GAAL,CAAS,KAAKA,GAAL,CAASwC,MAAT,GAAgB,CAAzB,KAA6B,KAAKtC,QAA/E,IAAyF,KAAKF,GAAL,CAAS,KAAKA,GAAL,CAASwC,MAAT,GAAgB,CAAzB,KAA6B,KAAKrC,QAA3H,IAAqI,KAAKH,GAAL,CAAS,KAAKA,GAAL,CAASwC,MAAT,GAAgB,CAAzB,KAA6B,KAAKpC,QAA1K,EACA;AACH;;AACD,QAAG,KAAKU,aAAL,IAAoB,KAAvB,EAA6B;AACzB,WAAKA,aAAL,GAAmB,IAAnB;AACA,WAAKnB,KAAL,CAAW8C,QAAX,CAAoB,CAApB;AACA,WAAKzC,GAAL,CAAS0C,IAAT,CAAc,KAAKxC,QAAnB;AACA,WAAKG,aAAL,GAAmB,KAAKV,KAAxB;AACH;AACD;;;;;;;;;AASH,GAlSI;AAmSLgB,EAAAA,iBAAiB,EAAC,6BAAU;AACxB;AACA,QAAG,KAAKX,GAAL,CAASwC,MAAT,GAAgB,CAAhB,IAAmB,CAAtB,EAAwB;AACpB,UAAG,KAAKxC,GAAL,CAAS,KAAKA,GAAL,CAASwC,MAAT,GAAgB,CAAzB,KAA6B,KAAKvC,QAAlC,IAA6C,KAAKD,GAAL,CAAS,KAAKA,GAAL,CAASwC,MAAT,GAAgB,CAAzB,KAA6B,KAAKtC,QAA/E,IAAyF,KAAKF,GAAL,CAAS,KAAKA,GAAL,CAASwC,MAAT,GAAgB,CAAzB,KAA6B,KAAKrC,QAA3H,IAAqI,KAAKH,GAAL,CAAS,KAAKA,GAAL,CAASwC,MAAT,GAAgB,CAAzB,KAA6B,KAAKpC,QAA1K,EACA;AACH;;AACD,QAAG,KAAKW,aAAL,IAAoB,KAAvB,EAA6B;AACzB,WAAKA,aAAL,GAAmB,IAAnB;AACA,WAAKnB,KAAL,CAAW6C,QAAX,CAAoB,CAApB;AACA,WAAKzC,GAAL,CAAS0C,IAAT,CAAc,KAAKvC,QAAnB;AACA,WAAKE,aAAL,GAAmB,KAAKT,KAAxB;AACH;AACD;;;;;;;;;AASH,GAxTI;AAyTLgB,EAAAA,iBAAiB,EAAC,6BAAU;AACxB;AACA,QAAG,KAAKZ,GAAL,CAASwC,MAAT,GAAgB,CAAhB,IAAmB,CAAtB,EAAwB;AACpB,UAAG,KAAKxC,GAAL,CAAS,KAAKA,GAAL,CAASwC,MAAT,GAAgB,CAAzB,KAA6B,KAAKvC,QAAlC,IAA6C,KAAKD,GAAL,CAAS,KAAKA,GAAL,CAASwC,MAAT,GAAgB,CAAzB,KAA6B,KAAKtC,QAA/E,IAAyF,KAAKF,GAAL,CAAS,KAAKA,GAAL,CAASwC,MAAT,GAAgB,CAAzB,KAA6B,KAAKrC,QAA3H,IAAqI,KAAKH,GAAL,CAAS,KAAKA,GAAL,CAASwC,MAAT,GAAgB,CAAzB,KAA6B,KAAKpC,QAA1K,EACA;AACH;AACD;;;;;;;;AAMA,QAAG,KAAKY,aAAL,IAAoB,KAAvB,EAA6B;AACzB,WAAKA,aAAL,GAAmB,IAAnB;AACA,WAAKnB,KAAL,CAAW4C,QAAX,CAAoB,CAApB;AACA,WAAKzC,GAAL,CAAS0C,IAAT,CAAc,KAAKtC,QAAnB;AACA,WAAKC,aAAL,GAAmB,KAAKR,KAAxB;AACH;AACD;;;;;;;;;AAQH,GAnVI;AAoVL8C,EAAAA,iBAAiB,EAAC,6BAAU;AACxB,QAAG5F,EAAE,CAACuC,GAAH,CAAOsD,QAAV,EAAmB;AACf,UAAG7F,EAAE,CAACuC,GAAH,CAAOuD,EAAP,IAAa9F,EAAE,CAACuC,GAAH,CAAOwD,UAAvB,EAAkC;AAC9B,eAAOC,GAAG,CAACC,UAAJ,CAAeC,gBAAf,CAAgC,KAAKC,WAArC,EAAkD,mBAAlD,EAAuE,KAAvE,CAAP;AACH,OAFD,MAGK,IAAGnG,EAAE,CAACuC,GAAH,CAAOuD,EAAP,IAAa9F,EAAE,CAACuC,GAAH,CAAO6D,MAAvB,EAA8B;AAC/B,eAAOJ,GAAG,CAACC,UAAJ,CAAeC,gBAAf,CAAgC,KAAKG,OAArC,EAA8C,mBAA9C,CAAP;AACH;AACJ;;AACD,WAAO,GAAP;AACH,GA9VI;AA+VLC,EAAAA,MAAM,EAAE,gBAAUC,EAAV,EAAc;AAClB,SAAKvD,KAAL,CAAWwD,MAAX,GAAkB,KAAKvD,GAAL,CAASwD,IAAT,CAAc,EAAd,CAAlB;AACA,QAAIC,OAAO,GAAGC,IAAI,CAACC,KAAL,CAAWC,IAAI,CAACC,GAAL,KAAW,IAAX,GAAgB,EAA3B,CAAd;;AACA,QAAG,KAAKC,WAAL,IAAoBL,OAAvB,EAA+B;AAC3B,WAAKK,WAAL,GAAmBL,OAAnB;AACA,UAAIM,IAAI,GAAG,IAAIH,IAAJ,EAAX;AACA,UAAII,CAAC,GAAGD,IAAI,CAACE,QAAL,EAAR;AACAD,MAAAA,CAAC,GAAGA,CAAC,GAAG,EAAJ,GAAQ,MAAIA,CAAZ,GAAcA,CAAlB;AAEA,UAAIE,CAAC,GAAGH,IAAI,CAACI,UAAL,EAAR;AACAD,MAAAA,CAAC,GAAGA,CAAC,GAAG,EAAJ,GAAQ,MAAIA,CAAZ,GAAcA,CAAlB;AACA,WAAK7E,UAAL,CAAgBkE,MAAhB,GAAyB,KAAKS,CAAL,GAAS,GAAT,GAAeE,CAAxC;AACH;;AAED,QAAIE,KAAK,GAAGrH,EAAE,CAACsB,IAAH,CAAQ,kBAAR,CAAZ;AACA+F,IAAAA,KAAK,CAACC,MAAN,GAAe,KAAK1B,iBAAL,EAAf;AAGH,GAjXI;AAkXL2B,EAAAA,QAAQ,EAAC,oBAAU;AACf;AACA,SAAKtE,GAAL,CAAS0C,IAAT,CAAc,GAAd;AAEH,GAtXI;AAuXL6B,EAAAA,WAAW,EAAC,uBAAU;AAClB;AACA,SAAKvE,GAAL,CAAS0C,IAAT,CAAc,GAAd;AAEH,GA3XI;AA4XL8B,EAAAA,QAAQ,EAAC,oBAAU;AACf;AACA,SAAKxE,GAAL,CAAS0C,IAAT,CAAc,GAAd;AAEH,GAhYI;AAiYL+B,EAAAA,QAAQ,EAAC,oBAAU;AACf;AACA,SAAKzE,GAAL,CAAS0C,IAAT,CAAc,GAAd;AAEH,GArYI;AAsYLgC,EAAAA,QAAQ,EAAC,oBAAU;AACf;AACA,SAAK1E,GAAL,CAAS0C,IAAT,CAAc,GAAd;AAEH,GA1YI;AA2YLiC,EAAAA,QAAQ,EAAC,oBAAU;AACf;AACA,SAAK3E,GAAL,CAAS0C,IAAT,CAAc,GAAd;AAEH,GA/YI;AAgZLkC,EAAAA,QAAQ,EAAC,oBAAU;AACf;AACA,QAAIC,GAAG,GAAC,KAAK7E,GAAL,CAAS8E,GAAT,EAAR;;AACA,QAAG,KAAKzE,aAAL,IAAoB,IAAvB,EAA4B;AACxB;AACH;;AACD,SAAKA,aAAL,CAAmBoC,QAAnB,CAA4B,GAA5B;AACA,QAAG,KAAKpC,aAAL,IAAoB,KAAKX,KAA5B,EAAmC,KAAKmB,aAAL,GAAmB,KAAnB;AACnC,QAAG,KAAKR,aAAL,IAAoB,KAAKV,KAA5B,EAAmC,KAAKmB,aAAL,GAAmB,KAAnB;AACnC,QAAG,KAAKT,aAAL,IAAoB,KAAKT,KAA5B,EAAmC,KAAKmB,aAAL,GAAmB,KAAnB;AACnC,QAAG,KAAKV,aAAL,IAAoB,KAAKR,KAA5B,EAAmC,KAAKmB,aAAL,GAAmB,KAAnB;AACnC,SAAKX,aAAL,GAAmB,IAAnB;AAEH,GA7ZI;AA8ZL0E,EAAAA,SAAS,EAAC,qBAAU;AAChB,QAAG,KAAKlE,aAAL,IAAoB,KAApB,IAA2B,KAAKC,aAAL,IAAoB,KAA/C,IAAsD,KAAKC,aAAL,IAAoB,KAA1E,IAAiF,KAAKC,aAAL,IAAoB,KAAxG,EAA8G;AAC1G,WAAKsB,QAAL,CAAc9D,IAAd,CAAmBf,MAAnB,GAA0B,IAA1B;AACA,WAAK6E,QAAL,CAAciB,MAAd,GAAuB,kBAAvB;AACA,WAAKjB,QAAL,CAAc9D,IAAd,CAAmB+D,OAAnB,GAA2B,GAA3B;AACA,UAAIyC,MAAM,GAAGjI,EAAE,CAACkI,MAAH,CAAU,GAAV,EAAe,CAAf,CAAb;AACA,WAAK3C,QAAL,CAAc9D,IAAd,CAAmBY,SAAnB,CAA6B4F,MAA7B;AAEA,WAAKnE,aAAL,GAAmB,KAAnB;AACA,WAAKC,aAAL,GAAmB,KAAnB;AACA,WAAKC,aAAL,GAAmB,KAAnB;AACA,WAAKC,aAAL,GAAmB,KAAnB;AAEA,WAAKtB,KAAL,CAAW+C,QAAX,CAAoB,GAApB;AACA,WAAK9C,KAAL,CAAW8C,QAAX,CAAoB,GAApB;AACA,WAAK7C,KAAL,CAAW6C,QAAX,CAAoB,GAApB;AACA,WAAK5C,KAAL,CAAW4C,QAAX,CAAoB,GAApB;AACA,WAAKzC,GAAL,GAAS,EAAT;AACA;AACH,KAnBe,CAqBhB;;;AACA,SAAKa,aAAL,GAAmB,KAAnB;AACA,SAAKC,aAAL,GAAmB,KAAnB;AACA,SAAKC,aAAL,GAAmB,KAAnB;AACA,SAAKC,aAAL,GAAmB,KAAnB;AAEA,SAAKtB,KAAL,CAAW+C,QAAX,CAAoB,GAApB;AACA,SAAK9C,KAAL,CAAW8C,QAAX,CAAoB,GAApB;AACA,SAAK7C,KAAL,CAAW6C,QAAX,CAAoB,GAApB;AACA,SAAK5C,KAAL,CAAW4C,QAAX,CAAoB,GAApB;AAEA,QAAIyC,GAAG,GAAC,KAAKlF,GAAL,CAASwD,IAAT,CAAc,EAAd,CAAR;AACA,QAAI2B,GAAG,GAAC,CAAR;;AACA,QAAG;AACC;AACA;AACAA,MAAAA,GAAG,GAACzG,MAAM,CAAC0G,KAAP,CAAaF,GAAb,CAAJ,CAHD,CAIC;AACH,KALD,CAMA,gBAAK;AACD;AACA,WAAK5C,QAAL,CAAc9D,IAAd,CAAmBf,MAAnB,GAA0B,IAA1B;AACA,WAAK6E,QAAL,CAAciB,MAAd,GAAuB,YAAvB;AACA,WAAKjB,QAAL,CAAc9D,IAAd,CAAmB+D,OAAnB,GAA2B,GAA3B;AACA,UAAIyC,MAAM,GAAGjI,EAAE,CAACkI,MAAH,CAAU,GAAV,EAAe,CAAf,CAAb;AACA,WAAK3C,QAAL,CAAc9D,IAAd,CAAmBY,SAAnB,CAA6B4F,MAA7B;AACA,WAAKhF,GAAL,GAAS,EAAT;AACH,KAhDe,CAiDhB;;;AACA,SAAKA,GAAL,GAAS,EAAT,CAlDgB,CAmDhB;;AACA,QAAGmF,GAAG,IAAE,EAAR,EAAW;AACP,UAAIE,MAAM,GAAGzI,QAAQ,CAAC0I,GAAT,CAAaD,MAAb,EAAb;;AACA,UAAGA,MAAH,EAAU;AACNA,QAAAA,MAAM,CAACN,SAAP,CAAiBG,GAAjB;AACH;AAEJ,KAND,MAOI;AACA,WAAK5C,QAAL,CAAc9D,IAAd,CAAmBf,MAAnB,GAA0B,IAA1B;AACA,WAAK6E,QAAL,CAAciB,MAAd,GAAuB,UAAU4B,GAAV,GAAgB,WAAvC;AACA,WAAK7C,QAAL,CAAc9D,IAAd,CAAmB+D,OAAnB,GAA2B,GAA3B;AACA,UAAIyC,MAAM,GAAGjI,EAAE,CAACkI,MAAH,CAAU,GAAV,EAAe,CAAf,CAAb;AACA,WAAK3C,QAAL,CAAc9D,IAAd,CAAmBY,SAAnB,CAA6B4F,MAA7B;AACH,KAjEe,CAkEhB;;AAEH,GAleI;AAmeLO,EAAAA,QAAQ,EAAC,kBAASC,KAAT,EAAe,CACpB;AAEH,GAteI;AAueLrH,EAAAA,aAAa,EAAG,yBAAW;AACvBvB,IAAAA,QAAQ,CAAC6I,KAAT,CAAeC,QAAf,CAAwB,oBAAxB,EAA8C,IAA9C,EAAoD,oBAApD;AACA9I,IAAAA,QAAQ,CAAC6I,KAAT,CAAeC,QAAf,CAAwB,cAAxB,EAAwC,IAAxC,EAA8C,cAA9C;AACA9I,IAAAA,QAAQ,CAAC6I,KAAT,CAAeC,QAAf,CAAwB,cAAxB,EAAwC,IAAxC,EAA8C,cAA9C;AACA9I,IAAAA,QAAQ,CAAC6I,KAAT,CAAeC,QAAf,CAAwB,iBAAxB,EAA2C,IAA3C,EAAiD,iBAAjD;AACA9I,IAAAA,QAAQ,CAAC6I,KAAT,CAAeC,QAAf,CAAwB,oBAAxB,EAA8C,IAA9C,EAAoD,oBAApD;AACA9I,IAAAA,QAAQ,CAAC6I,KAAT,CAAeC,QAAf,CAAwB,SAAxB,EAAmC,IAAnC,EAAyC,SAAzC;AACA9I,IAAAA,QAAQ,CAAC6I,KAAT,CAAeC,QAAf,CAAwB,wBAAxB,EAAkD,IAAlD,EAAwD,wBAAxD;AACA9I,IAAAA,QAAQ,CAAC6I,KAAT,CAAeC,QAAf,CAAwB,eAAxB,EAAyC,IAAzC,EAA+C,eAA/C;AACA9I,IAAAA,QAAQ,CAAC6I,KAAT,CAAeC,QAAf,CAAwB,YAAxB,EAAsC,IAAtC,EAA4C,YAA5C;AAEA9I,IAAAA,QAAQ,CAAC6I,KAAT,CAAeC,QAAf,CAAwB,gBAAxB,EAA0C,IAA1C,EAAgD,gBAAhD;AACN9I,IAAAA,QAAQ,CAAC6I,KAAT,CAAeC,QAAf,CAAwB,mBAAxB,EAA6C,IAA7C,EAAmD,mBAAnD;AACA9I,IAAAA,QAAQ,CAAC6I,KAAT,CAAeC,QAAf,CAAwB,wBAAxB,EAAkD,IAAlD,EAAwD,wBAAxD;AACM9I,IAAAA,QAAQ,CAAC6I,KAAT,CAAeC,QAAf,CAAwB,8BAAxB,EAAwD,IAAxD,EAA8D,8BAA9D;AAEA9I,IAAAA,QAAQ,CAAC6I,KAAT,CAAeC,QAAf,CAAwB,sBAAxB,EAAgD,IAAhD,EAAsD,sBAAtD;AAEA9I,IAAAA,QAAQ,CAAC6I,KAAT,CAAeC,QAAf,CAAwB,cAAxB,EAAwC,IAAxC,EAA8C,cAA9C;AACA9I,IAAAA,QAAQ,CAAC6I,KAAT,CAAeC,QAAf,CAAwB,SAAxB,EAAmC,IAAnC,EAAyC,SAAzC;AACA9I,IAAAA,QAAQ,CAAC6I,KAAT,CAAeC,QAAf,CAAwB,WAAxB,EAAqC,IAArC,EAA2C,WAA3C;AAEA9I,IAAAA,QAAQ,CAAC6I,KAAT,CAAeC,QAAf,CAAwB,eAAxB,EAAyC,IAAzC,EAA+C,eAA/C;AACA9I,IAAAA,QAAQ,CAAC6I,KAAT,CAAeC,QAAf,CAAwB,iBAAxB,EAA2C,IAA3C,EAAiD,iBAAjD;AACA9I,IAAAA,QAAQ,CAAC6I,KAAT,CAAeC,QAAf,CAAwB,sBAAxB,EAAgD,IAAhD,EAAsD,sBAAtD;AAEA9I,IAAAA,QAAQ,CAAC6I,KAAT,CAAeC,QAAf,CAAwB,eAAxB,EAAyC,IAAzC,EAA+C,eAA/C;AACA9I,IAAAA,QAAQ,CAAC6I,KAAT,CAAeC,QAAf,CAAwB,mBAAxB,EAA6C,IAA7C,EAAmD,mBAAnD;AAEH,GApgBI;AAqgBLC,EAAAA,oBAAoB,EAAC,8BAASC,QAAT,EAAkBC,MAAlB,EAAyB;AAC1C9I,IAAAA,EAAE,CAACkB,GAAH,CAAO,2CAAP,EAAmD2H,QAAnD;AACA,SAAKxH,MAAL,CAAYmF,MAAZ,GAAmB,SAAOqC,QAAQ,CAACpC,IAAT,CAAc,EAAd,CAA1B;AAEH,GAzgBI;AA0gBL/D,EAAAA,aAAa,EAAE,yBAAY;AACvBqG,IAAAA,EAAE,CAACC,aAAH,CAAiB;AACbC,MAAAA,eAAe,EAAC;AADH,KAAjB;AAIAF,IAAAA,EAAE,CAACG,iBAAH,CAAqB,YAAW;AAC5B,aAAO;AACHC,QAAAA,KAAK,EAAE,MADJ;AAEHC,QAAAA,QAAQ,EAACC;AAFN,OAAP;AAIH,KALD;AAMF,GArhBG;AAuhBLC,EAAAA,mBAAmB,EAAE,+BAAY;AAC7B;AACA;AACA;AAEAtJ,IAAAA,EAAE,CAACuJ,QAAH,CAAYC,iBAAZ,GAAgCC,OAAhC,GAAyC,IAAzC;AACA,QAAIC,OAAO,GAAG1J,EAAE,CAACuJ,QAAH,CAAYI,mBAAZ,EAAd;AACAD,IAAAA,OAAO,CAACD,OAAR,GAAkB,IAAlB;AACH,GA/hBI;AAiiBLG,EAAAA,sBAAsB,EAAE,kCAAW;AAC/B5J,IAAAA,EAAE,CAACkB,GAAH,CAAO,OAAP;AACA,QAAIwI,OAAO,GAAG1J,EAAE,CAACuJ,QAAH,CAAYI,mBAAZ,EAAd;AACAD,IAAAA,OAAO,CAACG,gBAAR,GAA2B,IAA3B;AACAH,IAAAA,OAAO,CAACI,sBAAR,GAAiC,IAAjC;AAEA9J,IAAAA,EAAE,CAACuJ,QAAH,CAAYC,iBAAZ,GAAgCO,cAAhC,GACI;AACA;AACA/J,IAAAA,EAAE,CAACgK,cAAH,CAAkBC,QAAlB,CAA2BC,iBAA3B,GACA;AACAlK,IAAAA,EAAE,CAACgK,cAAH,CAAkBC,QAAlB,CAA2BE,UAF3B,GAGAnK,EAAE,CAACgK,cAAH,CAAkBC,QAAlB,CAA2BG,SAN/B;AAOH,GA9iBI;AAkjBLC,EAAAA,eAAe,EAAE,2BAAW;AACxBxK,IAAAA,QAAQ,CAAC6I,KAAT,CAAe4B,UAAf,CAA0B,oBAA1B,EAAgD,IAAhD,EAAsD,oBAAtD;AACAzK,IAAAA,QAAQ,CAAC6I,KAAT,CAAe4B,UAAf,CAA0B,cAA1B,EAA0C,IAA1C,EAAgD,cAAhD;AACAzK,IAAAA,QAAQ,CAAC6I,KAAT,CAAe4B,UAAf,CAA0B,cAA1B,EAA0C,IAA1C,EAAgD,cAAhD;AACAzK,IAAAA,QAAQ,CAAC6I,KAAT,CAAe4B,UAAf,CAA0B,iBAA1B,EAA6C,IAA7C,EAAmD,iBAAnD;AACAzK,IAAAA,QAAQ,CAAC6I,KAAT,CAAe4B,UAAf,CAA0B,oBAA1B,EAAgD,IAAhD,EAAsD,oBAAtD;AACAzK,IAAAA,QAAQ,CAAC6I,KAAT,CAAe4B,UAAf,CAA0B,SAA1B,EAAqC,IAArC,EAA2C,SAA3C;AACAzK,IAAAA,QAAQ,CAAC6I,KAAT,CAAe4B,UAAf,CAA0B,wBAA1B,EAAoD,IAApD,EAA0D,wBAA1D;AACAzK,IAAAA,QAAQ,CAAC6I,KAAT,CAAe4B,UAAf,CAA0B,eAA1B,EAA2C,IAA3C;AACAzK,IAAAA,QAAQ,CAAC6I,KAAT,CAAe4B,UAAf,CAA0B,YAA1B,EAAwC,IAAxC;AACAzK,IAAAA,QAAQ,CAAC6I,KAAT,CAAe4B,UAAf,CAA0B,gBAA1B,EAA4C,IAA5C,EAAkD,gBAAlD;AACNzK,IAAAA,QAAQ,CAAC6I,KAAT,CAAe4B,UAAf,CAA0B,mBAA1B,EAA+C,IAA/C,EAAqD,mBAArD;AACAzK,IAAAA,QAAQ,CAAC6I,KAAT,CAAe4B,UAAf,CAA0B,wBAA1B,EAAoD,IAApD,EAA0D,wBAA1D;AACMzK,IAAAA,QAAQ,CAAC6I,KAAT,CAAe4B,UAAf,CAA0B,8BAA1B,EAA0D,IAA1D,EAAgE,8BAAhE;AACAzK,IAAAA,QAAQ,CAAC6I,KAAT,CAAe4B,UAAf,CAA0B,sBAA1B,EAAkD,IAAlD,EAAwD,sBAAxD;AAEAzK,IAAAA,QAAQ,CAAC6I,KAAT,CAAe4B,UAAf,CAA0B,cAA1B,EAA0C,IAA1C,EAAgD,cAAhD;AACAzK,IAAAA,QAAQ,CAAC6I,KAAT,CAAe4B,UAAf,CAA0B,SAA1B,EAAqC,IAArC,EAA2C,SAA3C;AACAzK,IAAAA,QAAQ,CAAC6I,KAAT,CAAe4B,UAAf,CAA0B,WAA1B,EAAuC,IAAvC,EAA6C,WAA7C;AAEAzK,IAAAA,QAAQ,CAAC6I,KAAT,CAAe4B,UAAf,CAA0B,eAA1B,EAA2C,IAA3C,EAAiD,eAAjD;AACAzK,IAAAA,QAAQ,CAAC6I,KAAT,CAAe4B,UAAf,CAA0B,iBAA1B,EAA6C,IAA7C,EAAmD,iBAAnD;AACAzK,IAAAA,QAAQ,CAAC6I,KAAT,CAAe4B,UAAf,CAA0B,sBAA1B,EAAkD,IAAlD,EAAwD,sBAAxD;AAEAzK,IAAAA,QAAQ,CAAC6I,KAAT,CAAe4B,UAAf,CAA0B,eAA1B,EAA2C,IAA3C,EAAiD,eAAjD;AACAzK,IAAAA,QAAQ,CAAC6I,KAAT,CAAe4B,UAAf,CAA0B,mBAA1B,EAA+C,IAA/C,EAAqD,mBAArD;AACH,GA5kBI;AA6kBLC,EAAAA,iBAAiB,EAAC,2BAASzC,GAAT,EAAa;AAE3B9H,IAAAA,EAAE,CAACuJ,QAAH,CAAYiB,SAAZ,CAAsB,YAAtB,EAAoC,YAAM;AACtC7I,MAAAA,MAAM,CAAC8I,QAAP,GAAgB3C,GAAhB;AACA9H,MAAAA,EAAE,CAACkB,GAAH,CAAO,yBAAP;AACH,KAHD;AAIA,SAAKmJ,eAAL;AAEH,GArlBI;AAslBLK,EAAAA,YAAY,EAAC,sBAASC,GAAT,EAAaC,GAAb,EAAiB;AAC1B;AACA,QAAIC,MAAM,GAAC,KAAKpJ,IAAL,CAAUF,YAAV,CAAuB,MAAvB,EAA+BuJ,gBAA/B,CAAgDF,GAAhD,EAAqD,SAArD,CAAX,CAF0B,CAG1B;;AACA,QAAG/K,QAAQ,CAAC0I,GAAT,CAAaD,MAAb,GAAsByC,EAAtB,IAA0BJ,GAA7B,EAAkC;AAC9B,WAAKvK,KAAL,CAAWmB,YAAX,CAAwB,MAAxB,EAAgCyJ,IAAhC,CAAqCH,MAArC,EAD8B,CAE9B;AACH,KAHD,MAII;AACA,WAAKtK,KAAL,CAAWgB,YAAX,CAAwB,MAAxB,EAAgCyJ,IAAhC,CAAqCH,MAArC,EADA,CAEA;AACH;AACJ,GAlmBI;AAmmBLI,EAAAA,OAAO,EAAC,iBAASN,GAAT,EAAaO,IAAb,EAAkB;AACtB;AACA,QAAGrL,QAAQ,CAAC0I,GAAT,CAAaD,MAAb,GAAsByC,EAAtB,IAA0BJ,GAA7B,EAAkC;AAC9B,WAAKvK,KAAL,CAAWmB,YAAX,CAAwB,MAAxB,EAAgC4J,KAAhC,CAAsCD,IAAtC,EAD8B,CAE9B;AACH,KAHD,MAII;AACA,WAAK3K,KAAL,CAAWgB,YAAX,CAAwB,MAAxB,EAAgC4J,KAAhC,CAAsCD,IAAtC,EADA,CAEA;AACH;AACJ,GA7mBI;AA8mBLE,EAAAA,SAAS,EAAC,mBAAST,GAAT,EAAaE,MAAb,EAAoB;AAC1B7K,IAAAA,EAAE,CAACkB,GAAH,CAAO,+CAAP,EAAuD2J,MAAvD;;AACA,QAAGhL,QAAQ,CAAC0I,GAAT,CAAaD,MAAb,GAAsByC,EAAtB,IAA0BJ,GAA7B,EAAkC;AAC9B,WAAKvK,KAAL,CAAWmB,YAAX,CAAwB,MAAxB,EAAgCyJ,IAAhC,CAAqCH,MAArC,EAD8B,CAE/B;AACF,KAHD,MAII;AACA,WAAKtK,KAAL,CAAWgB,YAAX,CAAwB,MAAxB,EAAgCyJ,IAAhC,CAAqCH,MAArC,EADA,CAEA;AACH;AACJ,GAxnBI;AAynBLQ,EAAAA,sBAAsB,EAAC,gCAASV,GAAT,EAAaW,KAAb,EAAmB;AACtCtL,IAAAA,EAAE,CAACkB,GAAH,CAAO,wBAAP;;AACA,QAAGrB,QAAQ,CAAC0I,GAAT,CAAaD,MAAb,GAAsByC,EAAtB,IAA0BJ,GAA7B,EAAkC;AAC9B,WAAKvK,KAAL,CAAWM,MAAX,GAAkB,IAAlB;AACA,WAAKN,KAAL,CAAWmB,YAAX,CAAwB,MAAxB,EAAgCgK,QAAhC,GAAyC,IAAzC;AACA,WAAKnL,KAAL,CAAWmB,YAAX,CAAwB,MAAxB,EAAgCiK,OAAhC;AACH,KAJD,MAIK;AACD,WAAKjL,KAAL,CAAWG,MAAX,GAAkB,IAAlB;AACA,WAAKH,KAAL,CAAWgB,YAAX,CAAwB,MAAxB,EAAgCgK,QAAhC,GAAyC,IAAzC;AACA,WAAKhL,KAAL,CAAWgB,YAAX,CAAwB,MAAxB,EAAgCiK,OAAhC;AACH;AAEJ,GAroBI;AAsoBLC,EAAAA,kBAAkB,EAAC,4BAASC,KAAT,EAAeC,IAAf,EAAoB;AACnC3L,IAAAA,EAAE,CAACkB,GAAH,CAAO,oBAAP;AACA,SAAK0K,OAAL,CAAaF,KAAb,EAAmBC,IAAnB;AAEH,GA1oBI;AA2oBLE,EAAAA,eAAe,EAAC,yBAAS/D,GAAT,EAAa;AACzB,QAAGA,GAAG,IAAE,CAAR,EAAU;AAAC;AACP,WAAKrG,IAAL,CAAUC,cAAV,CAAyB,OAAzB,EAAkChB,MAAlC,GAAyC,KAAzC;AACH,KAFD,MAGI;AAAC;AACD,WAAKe,IAAL,CAAUC,cAAV,CAAyB,OAAzB,EAAkChB,MAAlC,GAAyC,IAAzC;AACH;AACJ,GAlpBI;AAmpBLoL,EAAAA,aAAa,EAAC,uBAASJ,KAAT,EAAe;AACzB1L,IAAAA,EAAE,CAACkB,GAAH,CAAO,8CAAP;;AACA,QAAGwK,KAAK,IAAE,CAAV,EAAY;AACR,WAAKnG,QAAL,CAAciB,MAAd,GAAuB,qBAAvB;AACA,WAAKjG,KAAL,CAAWG,MAAX,GAAkB,KAAlB;AACH,KAHD,MAII;AACA,WAAK6E,QAAL,CAAc9D,IAAd,CAAmBf,MAAnB,GAA0B,IAA1B;AACA,WAAK6E,QAAL,CAAciB,MAAd,GAAuB,OAAK3G,QAAQ,CAAC0I,GAAT,CAAawD,QAAb,CAAsBL,KAAtB,EAA6BM,WAAlC,GAA+C,eAAtE;AACH;;AACD,SAAKzG,QAAL,CAAc9D,IAAd,CAAmB+D,OAAnB,GAA2B,GAA3B;AACA,QAAIyC,MAAM,GAAGjI,EAAE,CAACkI,MAAH,CAAU,IAAV,EAAgB,CAAhB,CAAb;AACA,SAAK3C,QAAL,CAAc9D,IAAd,CAAmBY,SAAnB,CAA6B4F,MAA7B,EAZyB,CAazB;AAEH,GAlqBI;AAmqBLgE,EAAAA,aAAa,EAAC,uBAASC,IAAT,EAAc;AACxBlM,IAAAA,EAAE,CAACkB,GAAH,CAAO,sBAAP,EAA+BgL,IAA/B,EADwB,CAExB;AACA;AACA;AACA;AACH,GAzqBI;AA0qBLC,EAAAA,cAAc,EAAG,0BAAW;AACxBtM,IAAAA,QAAQ,CAACuM,QAAT,CAAkB,sCAAlB,EADwB,CAExB;;AACA,SAAK7G,QAAL,CAAc9D,IAAd,CAAmB+D,OAAnB,GAA2B,GAA3B;AACA,SAAKD,QAAL,CAAciB,MAAd,GAAuB,sCAAvB;AAEA,SAAK6F,aAAL;AACAxM,IAAAA,QAAQ,CAAC0I,GAAT,CAAa+D,cAAb;AACH,GAlrBI;AAorBLC,EAAAA,qBAAqB,EAAG,+BAASC,IAAT,EAAe;AACnC3M,IAAAA,QAAQ,CAACuM,QAAT,CAAkB,2BAA2B,KAAKK,YAAhC,GAA+C,MAAjE;AACH,GAtrBI;AAwrBLC,EAAAA,sBAAsB,EAAG,gCAASC,UAAT,EAAqB;AAC1C9M,IAAAA,QAAQ,CAACuM,QAAT,CAAkB,mCAAmCvM,QAAQ,CAAC0I,GAAT,CAAaqE,SAAb,CAAuBD,UAAvB,CAArD;AACH,GA1rBI;AA4rBLE,EAAAA,4BAA4B,EAAG,wCAAU;AACrChN,IAAAA,QAAQ,CAACuM,QAAT,CAAkB,kCAAlB;AACA,SAAK7G,QAAL,CAAc9D,IAAd,CAAmB+D,OAAnB,GAA2B,GAA3B;AACA,SAAKD,QAAL,CAAc9D,IAAd,CAAmBf,MAAnB,GAA0B,IAA1B;AACA,QAAIuH,MAAM,GAAGjI,EAAE,CAACkI,MAAH,CAAU,GAAV,EAAe,CAAf,CAAb;AACA,SAAK3C,QAAL,CAAciB,MAAd,GAAuB,kCAAvB;AAEA,SAAKjB,QAAL,CAAc9D,IAAd,CAAmBY,SAAnB,CAA6B4F,MAA7B;AACH,GApsBI;AAssBL6E,EAAAA,iBAAiB,EAAG,2BAASC,OAAT,EAAkB;AAClC,QAAG,CAACA,OAAJ,EAAa;AACTlN,MAAAA,QAAQ,CAACmN,SAAT,CAAmB,aAAanN,QAAQ,CAAC0I,GAAT,CAAa0E,EAA1B,GAA+B,GAA/B,GAAqCpN,QAAQ,CAAC0I,GAAT,CAAa2E,IAAlD,GAAyD,oBAA5E;AACA,WAAKf,cAAL;AACH,KAHD,MAIK;AACDtM,MAAAA,QAAQ,CAACuM,QAAT,CAAkB,mDAAlB;AACH;AACJ,GA9sBI;AA+sBLe,EAAAA,mBAAmB,EAAC,+BAAU;AAC1B,SAAK1L,IAAL,CAAUC,cAAV,CAAyB,OAAzB,EAAkChB,MAAlC,GAAyC,KAAzC;AACA,QAAI4H,MAAM,GAAGzI,QAAQ,CAAC0I,GAAT,CAAaD,MAAb,EAAb;;AACA,QAAGA,MAAH,EAAU;AACNA,MAAAA,MAAM,CAAC6E,mBAAP;AACH;;AACD,SAAK/M,KAAL,CAAWmB,YAAX,CAAwB,MAAxB,EAAgC6L,QAAhC,CAAyC,IAAzC;AACA,SAAKhN,KAAL,CAAWmB,YAAX,CAAwB,MAAxB,EAAgCiK,OAAhC;AACH,GAvtBI;AAwtBL6B,EAAAA,kBAAkB,EAAC,4BAASC,KAAT,EAAeC,MAAf,EAAsB;AACrCvN,IAAAA,EAAE,CAACkB,GAAH,CAAO,oBAAP,EAA4BqM,MAAM,CAACxC,EAAnC,EAAsCuC,KAAtC;;AACA,QAAGC,MAAM,CAACC,SAAP,IAAoB,QAAvB,EAAiC;AAC7B,UAAGD,MAAM,CAACxC,EAAP,IAAWlL,QAAQ,CAAC0I,GAAT,CAAaD,MAAb,GAAsByC,EAApC,EAAwC;AACpC;AACA,aAAK3K,KAAL,CAAWmB,YAAX,CAAwB,MAAxB,EAAgCkM,MAAhC,GAAuCH,KAAvC;AACA,aAAKlN,KAAL,CAAWmB,YAAX,CAAwB,MAAxB,EAAgCiK,OAAhC;AACH,OAJD,MAIK;AAAG;AACJ;AACA,aAAKjL,KAAL,CAAWgB,YAAX,CAAwB,MAAxB,EAAgCkM,MAAhC,GAAuCH,KAAvC;AACA,aAAK/M,KAAL,CAAWgB,YAAX,CAAwB,MAAxB,EAAgCiK,OAAhC;AACH;AACJ;AACJ,GAruBI;AAsuBLkC,EAAAA,eAAe,EAAC,yBAASH,MAAT,EAAgB;AAC5BvN,IAAAA,EAAE,CAACkB,GAAH,CAAO,6BAAP,EAD4B,CAE5B;AACA;AACA;;AACA,SAAKd,KAAL,CAAWmB,YAAX,CAAwB,MAAxB,EAAgCgK,QAAhC,GAAyC,KAAzC;AACA,SAAKnL,KAAL,CAAWmB,YAAX,CAAwB,MAAxB,EAAgCiK,OAAhC;AAEA,SAAKjL,KAAL,CAAWgB,YAAX,CAAwB,MAAxB,EAAgCgK,QAAhC,GAAyC,KAAzC;AACA,SAAKhL,KAAL,CAAWgB,YAAX,CAAwB,MAAxB,EAAgCiK,OAAhC;AACH,GAhvBI;AAivBLmC,EAAAA,YAAY,EAAE,sBAAUJ,MAAV,EAAkB;AAC5B;AACAvN,IAAAA,EAAE,CAACkB,GAAH,CAAO,yBAAP,EAAiCqM,MAAM,CAACxC,EAAxC;;AACA,QAAG,CAACwC,MAAM,CAACK,QAAP,EAAJ,EAAuB;AACnB,UAAIC,EAAE,GAAG,IAAT;;AACA,UAAGhO,QAAQ,CAAC0I,GAAT,CAAaD,MAAb,GAAsByC,EAAtB,IAA0BwC,MAAM,CAACxC,EAApC,EAAwC;AAChC,aAAK3K,KAAL,CAAWM,MAAX,GAAkB,IAAlB,CADgC,CAEhC;;AACA,aAAKN,KAAL,CAAWmB,YAAX,CAAwB,MAAxB,EAAgCuM,SAAhC,GAA0CP,MAAM,CAACvB,WAAjD;AACA,aAAK5L,KAAL,CAAWmB,YAAX,CAAwB,MAAxB,EAAgCwM,SAAhC,GAA0CR,MAAM,CAACQ,SAAjD;AACA,aAAK3N,KAAL,CAAWmB,YAAX,CAAwB,MAAxB,EAAgCiK,OAAhC,GALgC,CAMhC;;AACAxL,QAAAA,EAAE,CAACkB,GAAH,CAAO,2BAAP,EAAmC,KAAKd,KAAL,CAAWmB,YAAX,CAAwB,MAAxB,EAAgCgK,QAAnE;AACP,OARD,MAQK;AAAG;AACA,aAAK3J,QAAL,CAAclB,MAAd,GAAqB,KAArB;AACA,aAAKH,KAAL,CAAWG,MAAX,GAAkB,IAAlB,CAFH,CAGG;;AACA,aAAKH,KAAL,CAAWgB,YAAX,CAAwB,MAAxB,EAAgCuM,SAAhC,GAA0CP,MAAM,CAACvB,WAAjD;AACA,aAAKzL,KAAL,CAAWgB,YAAX,CAAwB,MAAxB,EAAgCwM,SAAhC,GAA0CR,MAAM,CAACQ,SAAjD;AACA,aAAKxN,KAAL,CAAWgB,YAAX,CAAwB,MAAxB,EAAgCiK,OAAhC,GANH,CAOG;;AACAxL,QAAAA,EAAE,CAACkB,GAAH,CAAO,2BAAP,EAAmC,KAAKX,KAAL,CAAWgB,YAAX,CAAwB,MAAxB,EAAgCgK,QAAnE;AACH;AACJ;AACR,GAzwBI;AA2wBLyC,EAAAA,aAAa,EAAE,uBAAUC,QAAV,EAAoB;AAC/BjO,IAAAA,EAAE,CAACkB,GAAH,CAAO,eAAP;AACA,QAAIqM,MAAM,GAAC1N,QAAQ,CAAC0I,GAAT,CAAawD,QAAb,CAAsBkC,QAAtB,CAAX,CAF+B,CAG/B;;AACAjO,IAAAA,EAAE,CAACkB,GAAH,CAAO,yBAAP,EAAiCqM,MAAM,CAACxC,EAAxC;;AACI,QAAGlL,QAAQ,CAAC0I,GAAT,CAAaD,MAAb,GAAsByC,EAAtB,IAA0BwC,MAAM,CAACxC,EAApC,EAAwC;AAChC,WAAK3K,KAAL,CAAWM,MAAX,GAAkB,IAAlB,CADgC,CAEhC;;AACA,WAAKN,KAAL,CAAWmB,YAAX,CAAwB,MAAxB,EAAgCuM,SAAhC,GAA0CP,MAAM,CAACvB,WAAjD;AACA,WAAK5L,KAAL,CAAWmB,YAAX,CAAwB,MAAxB,EAAgCwM,SAAhC,GAA0CR,MAAM,CAACQ,SAAjD;AACA,WAAK3N,KAAL,CAAWmB,YAAX,CAAwB,MAAxB,EAAgCiK,OAAhC,GALgC,CAMhC;;AACAxL,MAAAA,EAAE,CAACkB,GAAH,CAAO,2BAAP,EAAmC,KAAKd,KAAL,CAAWmB,YAAX,CAAwB,MAAxB,EAAgCgK,QAAnE;AACP,KARD,MAQK;AAAG;AACA,WAAK3J,QAAL,CAAclB,MAAd,GAAqB,KAArB;AACA,WAAKH,KAAL,CAAWG,MAAX,GAAkB,IAAlB,CAFH,CAGG;;AACA,WAAKH,KAAL,CAAWgB,YAAX,CAAwB,MAAxB,EAAgCuM,SAAhC,GAA0CP,MAAM,CAACvB,WAAjD;AACA,WAAKzL,KAAL,CAAWgB,YAAX,CAAwB,MAAxB,EAAgCwM,SAAhC,GAA0CR,MAAM,CAACQ,SAAjD;AACA,WAAKxN,KAAL,CAAWgB,YAAX,CAAwB,MAAxB,EAAgCiK,OAAhC,GANH,CAOG;;AACAxL,MAAAA,EAAE,CAACkB,GAAH,CAAO,2BAAP,EAAmC,KAAKX,KAAL,CAAWgB,YAAX,CAAwB,MAAxB,EAAgCgK,QAAnE;AACH;AACZ,GAlyBI;AAmyBL2C,EAAAA,YAAY,EAAE,sBAAUX,MAAV,EAAkB;AAC5BvN,IAAAA,EAAE,CAACkB,GAAH,CAAO,cAAP,EAAsBqM,MAAM,CAACxC,EAA7B,EAAgCwC,MAAM,CAACC,SAAvC;AACA,SAAK5L,QAAL,CAAclB,MAAd,GAAqB,IAArB;AAEA,SAAKkB,QAAL,CAAcC,cAAd;AACA,QAAIC,OAAO,GAAG9B,EAAE,CAAC+B,MAAH,CAAU,GAAV,CAAd,CAL4B,CAKC;;AAC7B,QAAIC,OAAO,GAAGhC,EAAE,CAACiC,OAAH,CAAW,GAAX,CAAd,CAN4B,CAME;;AAC9B,QAAIC,MAAM,GAAClC,EAAE,CAACmC,aAAH,CAAiBnC,EAAE,CAACoC,QAAH,CAAYN,OAAZ,EAAoBE,OAApB,CAAjB,CAAX;AACA,SAAKJ,QAAL,CAAcS,SAAd,CAAwBH,MAAxB;AAEA,SAAK3B,KAAL,CAAWG,MAAX,GAAkB,KAAlB;AACA;;;;;;;AAOH,GArzBI;AAuzBLyN,EAAAA,kBAAkB,EAAG,4BAASrF,MAAT,EAAiB;AAClC9I,IAAAA,EAAE,CAACkB,GAAH,CAAO,oBAAP;AACA,SAAKkN,YAAL,CAAkBtF,MAAlB;AACH,GA1zBI;AA6zBLuF,EAAAA,cAAc,EAAG,wBAASd,MAAT,EAAiB,CAEjC,CA/zBI;AAi0BLe,EAAAA,YAAY,EAAE,sBAASf,MAAT,EAAiB,CAE9B,CAn0BI;AAq0BLgB,EAAAA,eAAe,EAAE,yBAASN,QAAT,EAAkB,CAGlC,CAx0BI;AA00BLO,EAAAA,kBAAkB,EAAE,4BAASC,IAAT,EAAe,CAC/B;AAEH,GA70BI;AA+0BL7C,EAAAA,OAAO,EAAE,iBAAS9C,MAAT,EAAgB6B,GAAhB,EAAqB+D,MAArB,EAA4BC,MAA5B,EAAmCC,MAAnC,EAA0CC,MAA1C,EAAiDC,MAAjD,EAAwD;AAC7D;AACA;AAEA,SAAK5K,SAAL,CAAe0H,OAAf,CAAuB8C,MAAvB;AACA,SAAKvK,KAAL,CAAWzD,MAAX,GAAkB,IAAlB;;AACA,QAAG,CAAC,KAAKwD,SAAL,CAAe6K,WAAf,EAAJ,EAAkC;AAC9B,WAAK7K,SAAL,CAAe8K,YAAf,CAA4B,IAA5B,EAD8B,CAE9B;AACA;AACA;AACH;;AACD,SAAKlL,aAAL,GAAmB,KAAnB;AACA,SAAKC,aAAL,GAAmB,KAAnB;AACA,SAAKC,aAAL,GAAmB,KAAnB;AACA,SAAKC,aAAL,GAAmB,KAAnB;AAEA,SAAKtB,KAAL,CAAW+C,QAAX,CAAoB,GAApB;AACA,SAAK9C,KAAL,CAAW8C,QAAX,CAAoB,GAApB;AACA,SAAK7C,KAAL,CAAW6C,QAAX,CAAoB,GAApB;AACA,SAAK5C,KAAL,CAAW4C,QAAX,CAAoB,GAApB;AAEA,SAAK/C,KAAL,CAAWjC,MAAX,GAAkB,IAAlB;AACA,SAAKkC,KAAL,CAAWlC,MAAX,GAAkB,IAAlB;AACA,SAAKmC,KAAL,CAAWnC,MAAX,GAAkB,IAAlB;AACA,SAAKoC,KAAL,CAAWpC,MAAX,GAAkB,IAAlB;AAEA,SAAKiO,MAAL,GAAYA,MAAZ;AACA,SAAKC,MAAL,GAAYA,MAAZ;AACA,SAAKC,MAAL,GAAYA,MAAZ;AACA,SAAKC,MAAL,GAAYA,MAAZ,CA9B6D,CA+B7D;;AACA,QAAIG,MAAM,GAAC,IAAX;AACA,QAAIC,MAAM,GAAC,IAAX;AACA,QAAIC,MAAM,GAAC,IAAX;AACA,QAAIC,MAAM,GAAC,IAAX;AACA,QAAIC,MAAM,GAAC,IAAX;AACA,QAAIC,MAAM,GAAC,IAAX;AACA,QAAIC,MAAM,GAAC,IAAX;AACA,QAAIC,MAAM,GAAC,IAAX;AAEA,QAAIC,EAAE,GAAC,KAAKvK,YAAL,CAAkBwK,CAAzB;AACA,QAAIC,EAAE,GAAC,KAAKzK,YAAL,CAAkBG,CAAzB;AAEA,QAAIuK,EAAE,GAAC,KAAKtK,YAAL,CAAkBoK,CAAzB;AACA,QAAIG,EAAE,GAAC,KAAKvK,YAAL,CAAkBD,CAAzB;AACA,QAAIyK,aAAa,GAAC,KAAKxL,YAAL,CAAkBoL,CAApC;AACA,QAAIK,aAAa,GAAC,KAAKzL,YAAL,CAAkBe,CAApC;AAEA,QAAI2K,aAAa,GAAC,KAAKxL,YAAL,CAAkBkL,CAApC;AACA,QAAIO,aAAa,GAAC,KAAKzL,YAAL,CAAkBa,CAApC;AAEA,QAAI6K,aAAa,GAAC,KAAKzL,YAAL,CAAkBiL,CAApC;AACA,QAAIS,aAAa,GAAC,KAAK1L,YAAL,CAAkBY,CAApC;AAEA,QAAI+K,aAAa,GAAC,KAAK1L,YAAL,CAAkBgL,CAApC;AACA,QAAIW,aAAa,GAAC,KAAK3L,YAAL,CAAkBW,CAApC;AACArF,IAAAA,EAAE,CAACkB,GAAH,CAAO,aAAP,EAAqByJ,GAArB;AACA3K,IAAAA,EAAE,CAACkB,GAAH,CAAO,wCAAP,EAAgDuO,EAAhD,EAAmDE,EAAnD;AACA3P,IAAAA,EAAE,CAACkB,GAAH,CAAO,wCAAP,EAAgD0O,EAAhD,EAAmDC,EAAnD;AACA7P,IAAAA,EAAE,CAACkB,GAAH,CAAO,yCAAP,EAAiD4O,aAAjD,EAA+DC,aAA/D;AACA/P,IAAAA,EAAE,CAACkB,GAAH,CAAO,yCAAP,EAAiD8O,aAAjD,EAA+DC,aAA/D;AACAjQ,IAAAA,EAAE,CAACkB,GAAH,CAAO,yCAAP,EAAiDgP,aAAjD,EAA+DC,aAA/D;AACAnQ,IAAAA,EAAE,CAACkB,GAAH,CAAO,yCAAP,EAAiDkP,aAAjD,EAA+DC,aAA/D;AAEA,SAAK1N,KAAL,CAAWd,cAAX;AACA,SAAKe,KAAL,CAAWf,cAAX;AACA,SAAKgB,KAAL,CAAWhB,cAAX;AACA,SAAKiB,KAAL,CAAWjB,cAAX;;AACA,QAAG8I,GAAG,IAAE,CAAR,EAAU;AAAC;AAGPsE,MAAAA,MAAM,GAACjP,EAAE,CAACsQ,MAAH,CAAU,CAAV,EAAYtQ,EAAE,CAACiF,EAAH,CAAMwK,EAAN,EAASE,EAAT,CAAZ,CAAP;AACAT,MAAAA,MAAM,GAAClP,EAAE,CAACsQ,MAAH,CAAU,CAAV,EAAYtQ,EAAE,CAACiF,EAAH,CAAMwK,EAAN,EAASE,EAAT,CAAZ,CAAP;AAEAR,MAAAA,MAAM,GAACnP,EAAE,CAACsQ,MAAH,CAAU,CAAV,EAAYtQ,EAAE,CAACiF,EAAH,CAAM2K,EAAN,EAASC,EAAT,CAAZ,CAAP;AACAT,MAAAA,MAAM,GAACpP,EAAE,CAACsQ,MAAH,CAAU,CAAV,EAAYtQ,EAAE,CAACiF,EAAH,CAAM2K,EAAN,EAASC,EAAT,CAAZ,CAAP;AACH,KARD,MASK,IAAGlF,GAAG,IAAE9K,QAAQ,CAAC0I,GAAT,CAAaD,MAAb,GAAsByC,EAA9B,EAAiC;AAClC/K,MAAAA,EAAE,CAACkB,GAAH,CAAO,4CAAP,EAAoDyJ,GAApD,EAAwD9K,QAAQ,CAAC0I,GAAT,CAAaD,MAAb,GAAsByC,EAA9E;AACAkE,MAAAA,MAAM,GAACjP,EAAE,CAACsQ,MAAH,CAAU,CAAV,EAAYtQ,EAAE,CAACiF,EAAH,CAAMwK,EAAN,EAASE,EAAT,CAAZ,CAAP;AACAT,MAAAA,MAAM,GAAClP,EAAE,CAACsQ,MAAH,CAAU,CAAV,EAAYtQ,EAAE,CAACiF,EAAH,CAAMwK,EAAN,EAASE,EAAT,CAAZ,CAAP;AACAR,MAAAA,MAAM,GAACnP,EAAE,CAACsQ,MAAH,CAAU,CAAV,EAAYtQ,EAAE,CAACiF,EAAH,CAAMwK,EAAN,EAASE,EAAT,CAAZ,CAAP;AACAP,MAAAA,MAAM,GAACpP,EAAE,CAACsQ,MAAH,CAAU,CAAV,EAAYtQ,EAAE,CAACiF,EAAH,CAAMwK,EAAN,EAASE,EAAT,CAAZ,CAAP;AAEH,KAPI,MAQD;AACA3P,MAAAA,EAAE,CAACkB,GAAH,CAAO,4CAAP,EAAoDyJ,GAApD,EAAwD9K,QAAQ,CAAC0I,GAAT,CAAaD,MAAb,GAAsByC,EAA9E;AACAkE,MAAAA,MAAM,GAACjP,EAAE,CAACsQ,MAAH,CAAU,CAAV,EAAYtQ,EAAE,CAACiF,EAAH,CAAM2K,EAAN,EAASC,EAAT,CAAZ,CAAP;AACAX,MAAAA,MAAM,GAAClP,EAAE,CAACsQ,MAAH,CAAU,CAAV,EAAYtQ,EAAE,CAACiF,EAAH,CAAM2K,EAAN,EAASC,EAAT,CAAZ,CAAP;AACAV,MAAAA,MAAM,GAACnP,EAAE,CAACsQ,MAAH,CAAU,CAAV,EAAYtQ,EAAE,CAACiF,EAAH,CAAM2K,EAAN,EAASC,EAAT,CAAZ,CAAP;AACAT,MAAAA,MAAM,GAACpP,EAAE,CAACsQ,MAAH,CAAU,CAAV,EAAYtQ,EAAE,CAACiF,EAAH,CAAM2K,EAAN,EAASC,EAAT,CAAZ,CAAP;AACH;;AACD,QAAIrD,IAAI,GAAC,IAAT;AAEA,SAAKtJ,QAAL,GAAc,IAAEqN,QAAQ,CAAC,CAAC5B,MAAM,GAAC,IAAP,GAAY,IAAb,IAAmB,CAApB,CAAxB,CA/F6D,CA+Fb;;AAChD,SAAKxL,QAAL,GAAc,IAAEoN,QAAQ,CAAC,CAAC3B,MAAM,GAAC,IAAP,GAAY,IAAb,IAAmB,CAApB,CAAxB;AACA,SAAKxL,QAAL,GAAc,IAAEmN,QAAQ,CAAC,CAAC1B,MAAM,GAAC,IAAP,GAAY,IAAb,IAAmB,CAApB,CAAxB;AACA,SAAKxL,QAAL,GAAc,IAAEkN,QAAQ,CAAC,CAACzB,MAAM,GAAC,IAAP,GAAY,IAAb,IAAmB,CAApB,CAAxB;;AACA,QAAI,KAAK5L,QAAL,GAAc,EAAlB,EAAsB;AAAC,WAAKA,QAAL,GAAc,CAAd;AAAgB;;AACvC,QAAI,KAAKC,QAAL,GAAc,EAAlB,EAAsB;AAAC,WAAKA,QAAL,GAAc,CAAd;AAAgB;;AACvC,QAAI,KAAKC,QAAL,GAAc,EAAlB,EAAsB;AAAC,WAAKA,QAAL,GAAc,CAAd;AAAgB;;AACvC,QAAI,KAAKC,QAAL,GAAc,EAAlB,EAAsB;AAAC,WAAKA,QAAL,GAAc,CAAd;AAAgB;;AAEvC,QAAImN,SAAS,GAACxQ,EAAE,CAACyQ,QAAH,CAAY,UAASC,MAAT,EAAgB;AACtC,WAAKtQ,KAAL,CAAWmB,YAAX,CAAwB,MAAxB,EAAgCoP,aAAhC;AACA,WAAKpQ,KAAL,CAAWgB,YAAX,CAAwB,MAAxB,EAAgCoP,aAAhC;AACH,KAHa,EAGX,IAHW,CAAd;AAKA,QAAIC,SAAS,GAAC5Q,EAAE,CAACyQ,QAAH,CAAY,UAASC,MAAT,EAAgB;AACtC,WAAKtQ,KAAL,CAAWmB,YAAX,CAAwB,MAAxB,EAAgCsP,aAAhC;AACA,WAAKtQ,KAAL,CAAWgB,YAAX,CAAwB,MAAxB,EAAgCsP,aAAhC;AACH,KAHa,EAGX,IAHW,CAAd;AAKA,QAAIrE,IAAI,GAAC,IAAT;AACA,QAAIsE,IAAI,GAAC9Q,EAAE,CAACyQ,QAAH,CAAY,UAASC,MAAT,EAAgB;AACjCA,MAAAA,MAAM,CAAChB,CAAP,GAASD,EAAT,EACAiB,MAAM,CAACrL,CAAP,GAASsK,EADT;AAEAhB,MAAAA,MAAM,GAACA,MAAM,GAAC,IAAd;AACA,UAAIoC,GAAG,GAAC,UAAQpC,MAAR,GAAe,KAAvB;AACA+B,MAAAA,MAAM,CAACnP,YAAP,CAAoBvB,EAAE,CAAC4E,MAAvB,EAA+BC,WAA/B,GAA2C2H,IAAI,CAAC/K,IAAL,CAAUC,cAAV,CAAyBqP,GAAzB,EAA8BxP,YAA9B,CAA2CvB,EAAE,CAAC4E,MAA9C,EAAsDC,WAAjG;AACA;;;;AAIH,KAVQ,EAUN,KAAKlC,KAVC,CAAT;AAaA,QAAIqO,IAAI,GAAChR,EAAE,CAACyQ,QAAH,CAAY,UAASC,MAAT,EAAgB;AACjCA,MAAAA,MAAM,CAAChB,CAAP,GAASD,EAAT;AACAiB,MAAAA,MAAM,CAACrL,CAAP,GAASsK,EAAT;AACAf,MAAAA,MAAM,GAACA,MAAM,GAAC,IAAd;AACA,UAAImC,GAAG,GAAC,UAAQnC,MAAR,GAAe,KAAvB;AACA8B,MAAAA,MAAM,CAACnP,YAAP,CAAoBvB,EAAE,CAAC4E,MAAvB,EAA+BC,WAA/B,GAA2C2H,IAAI,CAAC/K,IAAL,CAAUC,cAAV,CAAyBqP,GAAzB,EAA8BxP,YAA9B,CAA2CvB,EAAE,CAAC4E,MAA9C,EAAsDC,WAAjG;AACH,KANQ,EAMN,KAAKjC,KANC,CAAT;AAOA,QAAIqO,IAAI,GAACjR,EAAE,CAACyQ,QAAH,CAAY,UAASC,MAAT,EAAgB;AACjCA,MAAAA,MAAM,CAAChB,CAAP,GAASE,EAAT;AACAc,MAAAA,MAAM,CAACrL,CAAP,GAASwK,EAAT;AACAhB,MAAAA,MAAM,GAACA,MAAM,GAAC,IAAd;AACA,UAAIkC,GAAG,GAAC,UAAQlC,MAAR,GAAe,KAAvB;AACA6B,MAAAA,MAAM,CAACnP,YAAP,CAAoBvB,EAAE,CAAC4E,MAAvB,EAA+BC,WAA/B,GAA2C2H,IAAI,CAAC/K,IAAL,CAAUC,cAAV,CAAyBqP,GAAzB,EAA8BxP,YAA9B,CAA2CvB,EAAE,CAAC4E,MAA9C,EAAsDC,WAAjG;AACH,KANQ,EAMN,KAAKhC,KANC,CAAT;AAOA,QAAIqO,IAAI,GAAClR,EAAE,CAACyQ,QAAH,CAAY,UAASC,MAAT,EAAgB;AACjCA,MAAAA,MAAM,CAAChB,CAAP,GAASE,EAAT;AACAc,MAAAA,MAAM,CAACrL,CAAP,GAASwK,EAAT;AACAf,MAAAA,MAAM,GAACA,MAAM,GAAC,IAAd;AACA,UAAIiC,GAAG,GAAC,UAAQjC,MAAR,GAAe,KAAvB;AACA4B,MAAAA,MAAM,CAACnP,YAAP,CAAoBvB,EAAE,CAAC4E,MAAvB,EAA+BC,WAA/B,GAA2C2H,IAAI,CAAC/K,IAAL,CAAUC,cAAV,CAAyBqP,GAAzB,EAA8BxP,YAA9B,CAA2CvB,EAAE,CAAC4E,MAA9C,EAAsDC,WAAjG;AACH,KANQ,EAMN,KAAK/B,KANC,CAAT;AAQA,QAAIqO,KAAK,GAACnR,EAAE,CAACyQ,QAAH,CAAY,UAASC,MAAT,EAAgB;AAClCA,MAAAA,MAAM,CAAChB,CAAP,GAASI,aAAT;AACAY,MAAAA,MAAM,CAACrL,CAAP,GAAS0K,aAAT;AACH,KAHS,EAGP,KAAKpN,KAHE,CAAV;AAKA,QAAIyO,KAAK,GAACpR,EAAE,CAACyQ,QAAH,CAAY,UAASC,MAAT,EAAgB;AAClCA,MAAAA,MAAM,CAAChB,CAAP,GAASM,aAAT;AACAU,MAAAA,MAAM,CAACrL,CAAP,GAAS4K,aAAT;AACH,KAHS,EAGP,KAAKrN,KAHE,CAAV;AAIA,QAAIyO,KAAK,GAACrR,EAAE,CAACyQ,QAAH,CAAY,UAASC,MAAT,EAAgB;AAClCA,MAAAA,MAAM,CAAChB,CAAP,GAASQ,aAAT;AACAQ,MAAAA,MAAM,CAACrL,CAAP,GAAS8K,aAAT;AACH,KAHS,EAGP,KAAKtN,KAHE,CAAV;AAIA,QAAIyO,KAAK,GAACtR,EAAE,CAACyQ,QAAH,CAAY,UAASC,MAAT,EAAgB;AAClCA,MAAAA,MAAM,CAAChB,CAAP,GAASU,aAAT;AACAM,MAAAA,MAAM,CAACrL,CAAP,GAASgL,aAAT;AACH,KAHS,EAGP,KAAKvN,KAHE,CAAV;AAKAuM,IAAAA,MAAM,GAACrP,EAAE,CAACsQ,MAAH,CAAU,CAAV,EAAYtQ,EAAE,CAACiF,EAAH,CAAM6K,aAAN,EAAoBC,aAApB,CAAZ,CAAP;AACAT,IAAAA,MAAM,GAACtP,EAAE,CAACsQ,MAAH,CAAU,CAAV,EAAYtQ,EAAE,CAACiF,EAAH,CAAM+K,aAAN,EAAoBC,aAApB,CAAZ,CAAP;AACAV,IAAAA,MAAM,GAACvP,EAAE,CAACsQ,MAAH,CAAU,CAAV,EAAYtQ,EAAE,CAACiF,EAAH,CAAMiL,aAAN,EAAoBC,aAApB,CAAZ,CAAP;AACAX,IAAAA,MAAM,GAACxP,EAAE,CAACsQ,MAAH,CAAU,CAAV,EAAYtQ,EAAE,CAACiF,EAAH,CAAMmL,aAAN,EAAoBC,aAApB,CAAZ,CAAP;;AAEA,QAAG1F,GAAG,IAAE,KAAR,EAAc;AAAC;AACX,WAAKhI,KAAL,CAAWN,SAAX,CAAqBrC,EAAE,CAACoC,QAAH,CAAY0O,IAAZ,EAAiBzB,MAAjB,EAAwB8B,KAAxB,EAA8BP,SAA9B,CAArB;AACA,WAAKhO,KAAL,CAAWP,SAAX,CAAqBrC,EAAE,CAACoC,QAAH,CAAY4O,IAAZ,EAAiB1B,MAAjB,EAAwB8B,KAAxB,EAA8BR,SAA9B,CAArB;AACA,WAAK/N,KAAL,CAAWR,SAAX,CAAqBrC,EAAE,CAACoC,QAAH,CAAY6O,IAAZ,EAAiB1B,MAAjB,EAAwB8B,KAAxB,EAA8BT,SAA9B,CAArB;AACA,WAAK9N,KAAL,CAAWT,SAAX,CAAqBrC,EAAE,CAACoC,QAAH,CAAY8O,IAAZ,EAAiB1B,MAAjB,EAAwB8B,KAAxB,EAA8BV,SAA9B,CAArB;AAEH,KAND,MAOI;AAAE;AACF,WAAKjO,KAAL,CAAWN,SAAX,CAAqBrC,EAAE,CAACoC,QAAH,CAAY6M,MAAZ,EAAmB6B,IAAnB,EAAwBN,SAAxB,EAAkCxQ,EAAE,CAACuR,SAAH,CAAa,CAAb,CAAlC,EAAkDlC,MAAlD,EAAyD8B,KAAzD,EAA+DP,SAA/D,CAArB;AACA,WAAKhO,KAAL,CAAWP,SAAX,CAAqBrC,EAAE,CAACoC,QAAH,CAAY8M,MAAZ,EAAmB8B,IAAnB,EAAwBR,SAAxB,EAAkCxQ,EAAE,CAACuR,SAAH,CAAa,CAAb,CAAlC,EAAkDjC,MAAlD,EAAyD8B,KAAzD,EAA+DR,SAA/D,CAArB;AACA,WAAK/N,KAAL,CAAWR,SAAX,CAAqBrC,EAAE,CAACoC,QAAH,CAAY+M,MAAZ,EAAmB8B,IAAnB,EAAwBT,SAAxB,EAAkCxQ,EAAE,CAACuR,SAAH,CAAa,CAAb,CAAlC,EAAkDhC,MAAlD,EAAyD8B,KAAzD,EAA+DT,SAA/D,CAArB;AACA,WAAK9N,KAAL,CAAWT,SAAX,CAAqBrC,EAAE,CAACoC,QAAH,CAAYgN,MAAZ,EAAmB8B,IAAnB,EAAwBV,SAAxB,EAAkCxQ,EAAE,CAACuR,SAAH,CAAa,CAAb,CAAlC,EAAkD/B,MAAlD,EAAyD8B,KAAzD,EAA+DV,SAA/D,CAArB;AACH,KAzL4D,CA2L7D;;;AAEA5Q,IAAAA,EAAE,CAACkB,GAAH,CAAO,eAAP,EAAuB4H,MAAM,CAACiC,EAA9B,EAAkC2D,MAAlC,EAAyCC,MAAzC,EAAgDC,MAAhD,EAAuDC,MAAvD,EAA8DC,MAA9D;AAEA,SAAK/L,GAAL,CAASrC,MAAT,GAAgB,IAAhB;AACA,SAAKuC,GAAL,GAAS,EAAT;AAGH,GAlhCI;AAqhCLuO,EAAAA,SAAS,EAAE,qBAAW,CAErB,CAvhCI;AAyhCLC,EAAAA,uBAAuB,EAAE,iCAASC,QAAT,EAAmBC,MAAnB,EAA2BpN,QAA3B,EAAqC,CAE7D,CA3hCI;AA6hCLqN,EAAAA,oBAAoB,EAAE,8BAASF,QAAT,EAAmBC,MAAnB,EAA2BE,KAA3B,EAAiC,CAEtD,CA/hCI;AAiiCLC,EAAAA,qBAAqB,EAAE,+BAASJ,QAAT,EAAmBK,GAAnB,EAAuB,CAE7C,CAniCI;AAqiCLC,EAAAA,sBAAsB,EAAE,gCAASN,QAAT,EAAmBO,QAAnB,EAA4B,CAGnD,CAxiCI;AA0iCLC,EAAAA,sBAAsB,EAAE,gCAASR,QAAT,EAAmBC,MAAnB,EAA2B,CAC/C;AACH,GA5iCI;AA8iCLQ,EAAAA,qBAAqB,EAAE,+BAAST,QAAT,EAAkB,CAExC,CAhjCI;AAkjCLU,EAAAA,sBAAsB,EAAE,gCAASV,QAAT,EAAkB,CAEzC,CApjCI;AAsjCLW,EAAAA,YAAY,EAAE,sBAASX,QAAT,EAAmBY,IAAnB,EAAyBC,EAAzB,EAA6B,CACvC;AAEH,GAzjCI;AA2jCLC,EAAAA,WAAW,EAAE,qBAASd,QAAT,EAAmB,CAC5B;AAEH,GA9jCI;AAgkCLe,EAAAA,UAAU,EAAE,oBAASf,QAAT,EAAmBgB,KAAnB,EAA0BH,EAA1B,EAA8BI,SAA9B,EAAyCC,SAAzC,EAAoDC,KAApD,EAA2D;AACnE,QAAGnB,QAAQ,IAAI7R,QAAQ,CAAC0I,GAAT,CAAaD,MAAb,GAAsByC,EAArC,EAAyC;AACrC+H,MAAAA,EAAE,GAAGP,EAAL;AACAQ,MAAAA,UAAU,GAAGJ,SAAb;AACAK,MAAAA,OAAO,GAAGJ,SAAV;AACAK,MAAAA,KAAK,GAAGJ,KAAR;AACAK,MAAAA,OAAO,GAACvM,IAAI,CAACwM,KAAL,CAAW,MAAIF,KAAf,CAAR;AACA,WAAK5I,eAAL;;AACA,UAAGqI,KAAH,EAAU;AACN1S,QAAAA,EAAE,CAACuJ,QAAH,CAAYiB,SAAZ,CAAsB,UAAtB;AACH,OAFD,MAEO;AACHxK,QAAAA,EAAE,CAACuJ,QAAH,CAAYiB,SAAZ,CAAsB,WAAtB;AACH;AACJ,KAbkE,CAcnE;AACA;AACA;;;AACA,SAAKlC,MAAL,GAAc,IAAd;AACH,GAllCI;AAolCL8K,EAAAA,WAAW,EAAE,qBAASzB,MAAT,EAAiBpN,QAAjB,EAA2B,CACpC;AAGA;AACH,GAzlCI;AA2lCL8H,EAAAA,aAAa,EAAC,yBAAU;AACpB;;;;;;AAOH,GAnmCI;AAomCL+B,EAAAA,YAAY,EAAE,sBAAStF,MAAT,EAAiB;AAC5B;AACC9I,IAAAA,EAAE,CAACkB,GAAH,CAAO,+CAAP,EAAuD,KAAKoH,MAA5D,EAAmEQ,MAAM,CAACuK,OAA1E;;AAEA,QAAG,CAAC,KAAK/K,MAAT,EAAiB;AACb,UAAGQ,MAAM,CAACiC,EAAP,IAAWlL,QAAQ,CAAC0I,GAAT,CAAaD,MAAb,GAAsByC,EAApC,EAAwC;AACpC,aAAK3K,KAAL,CAAWM,MAAX,GAAkB,IAAlB;AACA,aAAKN,KAAL,CAAWmB,YAAX,CAAwB,MAAxB,EAAgCuM,SAAhC,GAA0ChF,MAAM,CAACkD,WAAjD;AACA,aAAK5L,KAAL,CAAWmB,YAAX,CAAwB,MAAxB,EAAgCwM,SAAhC,GAA0CjF,MAAM,CAACiF,SAAjD,CAHoC,CAIpC;;AACA,aAAK3N,KAAL,CAAWmB,YAAX,CAAwB,MAAxB,EAAgCiK,OAAhC;AACA,aAAKlD,MAAL,GAAe,KAAKlI,KAApB,CANoC,CAOpC;AACH,OARD,MAQK;AACD,aAAKG,KAAL,CAAWG,MAAX,GAAkB,IAAlB,CADC,CAED;;AACA,aAAKH,KAAL,CAAWgB,YAAX,CAAwB,MAAxB,EAAgCuM,SAAhC,GAA0ChF,MAAM,CAACkD,WAAjD;AACA,aAAKzL,KAAL,CAAWgB,YAAX,CAAwB,MAAxB,EAAgCwM,SAAhC,GAA0CjF,MAAM,CAACiF,SAAjD;AACA,aAAKxN,KAAL,CAAWgB,YAAX,CAAwB,MAAxB,EAAgCiK,OAAhC;AACA,aAAKlD,MAAL,GAAe,KAAK/H,KAApB,CANC,CAOD;AACH,OAjBY,CAkBb;AACA;;;AACA,WAAK+H,MAAL,CAAYgL,WAAZ,CAAwBxK,MAAM,CAACvE,QAAP,CAAgBmL,CAAhB,GAAkB6D,KAA1C,EAAiDzK,MAAM,CAACvE,QAAP,CAAgBiP,CAAhB,GAAkBD,KAAnE,EApBa,CAqBb;AACH;;AACDvT,IAAAA,EAAE,CAACkB,GAAH,CAAO,iDAAP,EAAyD,KAAKoH,MAA9D,EAAqEQ,MAAM,CAACuK,OAA5E;AACH,GAhoCI;AAkoCLI,EAAAA,oBAAoB,EAAE,8BAAS3K,MAAT,EAAiB;AACpC,SAAKsF,YAAL,CAAkBtF,MAAlB;AACF,GApoCI;AAsoCL4K,EAAAA,mBAAmB,EAAE,+BAAW,CAE/B,CAxoCI;AA0oCLC,EAAAA,sBAAsB,EAAE,kCAAW,CAElC;AA5oCI,CAAT","sourceRoot":"/","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\n\r\nvar KBEngine = require(\"kbengine\");\r\n//var bindjs=require(\"eval\")\r\nvar bindjs=require(\"eval2\")\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n    \r\n    properties: {\r\n        seat1: {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n\r\n        seat2: {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        /*\r\n        setting:{\r\n            default: null,\r\n            type: cc.Prefab,\r\n        },\r\n        chat:{\r\n            default: null,\r\n            type: cc.Prefab,\r\n        },\r\n        */\r\n        /*\r\n        player: {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        \r\n        pipiPrefab: {\r\n            default: null,\r\n            type: cc.Prefab,\r\n        },\r\n\r\n        popPrefab: {\r\n            default: null,\r\n            type: cc.Prefab,\r\n        },\r\n        archerPrefab: {\r\n            default: null,\r\n            type: cc.Prefab,\r\n        },\r\n\r\n        archerPrefab2: {\r\n            default: null,\r\n            type: cc.Prefab,\r\n        },\r\n\r\n        joyStickPrefab: {\r\n            default: null,\r\n            type: cc.Prefab,\r\n        },\r\n        touchRange: {\r\n            default: null,\r\n            type: cc.Prefab,\r\n        },\r\n        camera: {\r\n            default: null,\r\n            type: cc.Camera,\r\n        },\r\n\r\n        cameraControl: {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n\r\n        gameState: {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n\r\n        gameHint: cc.Label,\r\n        */\r\n    },\r\n    showwangfa:function(){\r\n        this.introduce.active=true\r\n    },\r\n    hidewangfa:function(){\r\n        this.introduce.active=false\r\n    },\r\n    showsetting:function(){\r\n       // window.AudioMgr.playSFX(\"ui_click\")\r\n        this.isshowsetting = !this.settingNode.active;\r\n        this.settingNode.active = this.isshowsetting;\r\n\r\n    },\r\n    showchat:function(){\r\n        //window.AudioMgr.playSFX(\"ui_click\")\r\n        this.isshowchat = !this.chatNode.active;\r\n        this.chatNode.active = this.isshowchat;\r\n        cc.log(\"showchat\")\r\n\r\n    },\r\n    onLoad () {\r\n        this.installEvents();\r\n        this.RoomID=cc.find(\"Canvas/bg2/RoomID\").getComponent(cc.Label)\r\n        this.introduce=this.node.getChildByName(\"introduce\")\r\n        this.introduce.active=false\r\n\r\n        if(window.type==1){\r\n            this.matching=this.node.getChildByName(\"bg2\").getChildByName(\"matching\")\r\n            \r\n        }\r\n        else{\r\n            this.matching=this.node.getChildByName(\"bg2\").getChildByName(\"matching2\")\r\n        }\r\n        //this.node.getChildByName(\"bg2\").getChildByName(\"matching\").active=true\r\n        this.matching.active=true\r\n        this.matching.stopAllActions()\r\n        var action1 = cc.fadeIn(0.5);//渐显\r\n        var action2 = cc.fadeOut(0.5);//渐隐效果\r\n        var repeat=cc.repeatForever(cc.sequence(action2,action1))\r\n        this.matching.runAction(repeat);\r\n        /*\r\n        this._MusicDict = {}\r\n        var _this = this;\r\n        cc.loader.loadResDir('sound/', function (count, totalCount, res) {\r\n                            }, function (err, res) {\r\n                                if (err == null) {\r\n                                    _this._MusicDict = {};\r\n                                    res.forEach(clip => {\r\n                                    _this._MusicDict[clip.name] = clip;\r\n                                    });\r\n                                } else {\r\n                                    console.error(err);\r\n                                }\r\n                            })\r\n        */\r\n        //window.AudioMgr.playBGM(\"bgMain\")\r\n\r\n        this._timeLabel = cc.find(\"Canvas/bg2/time\").getComponent(cc.Label);\r\n        this.isshowsetting=false\r\n        //this.settingNode=cc.instantiate(this.setting)\r\n        //this.node.addChild(this.settingNode)\r\n        //this.settingNode=this.node.getChildByName(\"bg2\").getChildByName(\"settings\")\r\n        this.settingNode=cc.find(\"Canvas/settings\")\r\n        this.settingNode.active = this.isshowsetting;\r\n\r\n        this.isshowchat=false\r\n        //this.chatNode=cc.instantiate(this.chat)\r\n        //this.node.addChild(this.chatNode)\r\n        this.chatNode=cc.find(\"Canvas/chat\")\r\n        this.chatNode.active = this.isshowchat;\r\n        \r\n        if(cc.sys.platform == cc.sys.WECHAT_GAME) {\r\n            this.enableWxShare();\r\n        }\r\n        this.card1=this.node.getChildByName(\"card1\")\r\n        this.card2=this.node.getChildByName(\"card2\")\r\n        this.card3=this.node.getChildByName(\"card3\")\r\n        this.card4=this.node.getChildByName(\"card4\")\r\n        this.card1.active=false;\r\n        this.card2.active=false;\r\n        this.card3.active=false;\r\n        this.card4.active=false;\r\n        this.opt=this.node.getChildByName(\"bg2\").getChildByName(\"opt\")\r\n        this.opt.active=false;\r\n\r\n        this.label=this.node.getChildByName(\"bg2\").getChildByName(\"expstr\").getComponent(cc.Label)\r\n        this.act=[]\r\n        this.card1num=0;\r\n        this.card2num=0;\r\n        this.card3num=0;\r\n        this.card4num=0;\r\n\r\n        this.lasttouchcard=null\r\n\r\n        this.card1.on(cc.Node.EventType.TOUCH_END, this.onTouchEndedcard1, this);\r\n        this.card2.on(cc.Node.EventType.TOUCH_END, this.onTouchEndedcard2, this);\r\n        this.card3.on(cc.Node.EventType.TOUCH_END, this.onTouchEndedcard3, this);\r\n        this.card4.on(cc.Node.EventType.TOUCH_END, this.onTouchEndedcard4, this);\r\n\r\n        this.card1selected=false\r\n        this.card2selected=false\r\n        this.card3selected=false\r\n        this.card4selected=false\r\n\r\n\r\n\r\n        this.gameState = this.node.getComponent(\"GameState\");\r\n        this.clock=this.node.getChildByName(\"bg2\").getChildByName(\"clock\")\r\n        this.clock.active=false;\r\n\r\n        var sp=null\r\n        for(var i=1061;i<1115;i++){\r\n            sp=this.node.getChildByName(\"card_\"+i+\"@2x\")\r\n            sp.active=false;\r\n        }\r\n        this.card1origpos=this.card1.position\r\n        this.card2origpos=this.card2.position\r\n        this.card3origpos=this.card3.position\r\n        this.card4origpos=this.card4.position\r\n        \r\n\r\n        window.delta=this.node.getChildByName(\"bg2\").getChildByName(\"seat1\").getChildByName(\"card\").getComponent(cc.Sprite).spriteFrame.getOriginalSize().height*0.8\r\n        //\r\n        var out=cc.v2(0, 0)\r\n        //var seat1cardpos=cc.v2(0, 0)\r\n        var seat1cardpos=this.node.getChildByName(\"bg2\").getChildByName(\"seat1\").getChildByName(\"card\").position\r\n        this.node.getChildByName(\"bg2\").getChildByName(\"seat1\").convertToWorldSpaceAR (seat1cardpos, out)\r\n        this.seat1cardpos=this.node.convertToNodeSpaceAR(out)\r\n        this.seat1cardpos.y=this.seat1cardpos.y-this.node.getChildByName(\"bg2\").getChildByName(\"seat1\").getChildByName(\"card\").getComponent(cc.Sprite).spriteFrame.getOriginalSize().height*0.8\r\n        //this.node.getChildByName(\"bg2\").getChildByName(\"seat1\").y=this.node.getChildByName(\"bg2\").getChildByName(\"seat1\").y+window.delta\r\n        //var seat2cardpos=cc.v2(0, 0)\r\n        out=cc.v2(0, 0)\r\n        var seat2cardpos=this.node.getChildByName(\"bg2\").getChildByName(\"seat2\").getChildByName(\"card\").position\r\n        this.node.getChildByName(\"bg2\").getChildByName(\"seat2\").convertToWorldSpaceAR (seat2cardpos, out)\r\n        this.seat2cardpos=this.node.convertToNodeSpaceAR(out)\r\n\r\n\r\n        //cc.log(\"ddddddddddddddddddddthis.seat2cardpos=\",this.seat2cardpos.x,this.seat2cardpos.y)\r\n        //cc.log(\"ddddddddddddddddddddthis.seat1cardpos=\",this.seat1cardpos.x,this.seat1cardpos.y)\r\n        //cc.log(\"ddddddddddddddddddddthis..card1origpos=\",this.card1origpos.x,this.card1origpos.y)\r\n        //cc.log(\"ddddddddddddddddddddthis..card2origpos=\",this.card2origpos.x,this.card2origpos.y)\r\n        //cc.log(\"ddddddddddddddddddddthis..card2origpos=\",this.card3origpos.x,this.card3origpos.y)\r\n        //cc.log(\"ddddddddddddddddddddthis..card2origpos=\",this.card4origpos.x,this.card4origpos.y)\r\n\r\n\r\n        this.gameHint=this.node.getChildByName(\"gameHint\").getComponent(cc.Label)\r\n        this.gameHint.node.opacity=0;\r\n        this.gameHint.node.active=false;\r\n\r\n        this.seat1= this.node.getChildByName(\"bg2\").getChildByName(\"seat1\")\r\n        this.seat1.active=false\r\n        this.seat2= this.node.getChildByName(\"bg2\").getChildByName(\"seat2\")\r\n        this.seat2.active=false\r\n        if(cc.sys.platform == cc.sys.WECHAT_GAME) {\r\n            this.enableWxShare();\r\n        }\r\n\r\n       // this.seat2cardpos=this.node.getChildByName(\"bg2\").getChildByName(\"seat2\").getChildByName(\"card\").getPosition()\r\n        \r\n        /*\r\n        this.keyBoardListener = null;\r\n        this.mouseListener = null;\r\n        this.entities = {};\r\n        this.playerControl = null;\r\n        this.curAvatarID = 0;\r\n        this.cameraControl = this.camera.getComponent(\"CameraControl\");\r\n\r\n        this.enablePhysicManager();\r\n        //this.enablePhysicsDebugDraw();\r\n        this.installEvents();\r\n        this.items = new Array();\r\n        //this.node.getChildByName(\"sky_bg\").on(cc.Node.EventType.TOUCH_START, this.pickUped, this);\r\n\r\n        */\r\n    },\r\n    onTouchEndedcard1:function(){\r\n        //window.AudioMgr.playSFX(\"ui_click\")\r\n        if(this.act.length-1>=0){\r\n            if(this.act[this.act.length-1]==this.card1num ||this.act[this.act.length-1]==this.card2num||this.act[this.act.length-1]==this.card3num||this.act[this.act.length-1]==this.card4num)\r\n            return\r\n        }\r\n        if(this.card1selected==false){\r\n            this.lasttouchcard=this.card1\r\n            this.card1selected=true\r\n            this.card1.setScale(1)\r\n            this.act.push(this.card1num)\r\n        }/*\r\n        else{\r\n            this.card1selected=false\r\n            this.card1.setScale(0.8)\r\n            var index = this.act.indexOf(this.card1num)\r\n            if (index > -1) {\r\n                this.act.splice(index, 1);\r\n            }\r\n        }*/\r\n    },\r\n    onTouchEndedcard2:function(){\r\n        //window.AudioMgr.playSFX(\"ui_click\")\r\n        if(this.act.length-1>=0){\r\n            if(this.act[this.act.length-1]==this.card1num ||this.act[this.act.length-1]==this.card2num||this.act[this.act.length-1]==this.card3num||this.act[this.act.length-1]==this.card4num)\r\n            return\r\n        }\r\n        if(this.card2selected==false){\r\n            this.card2selected=true\r\n            this.card2.setScale(1)\r\n            this.act.push(this.card2num)\r\n            this.lasttouchcard=this.card2\r\n        }\r\n        /*else{\r\n            this.card2selected=false\r\n            this.card2.setScale(0.8)\r\n            var index = this.act.indexOf(this.card2num)\r\n            if (index > -1) {\r\n                this.act.splice(index, 1);\r\n            }\r\n        }*/\r\n\r\n    },\r\n    onTouchEndedcard3:function(){\r\n        //window.AudioMgr.playSFX(\"ui_click\")\r\n        if(this.act.length-1>=0){\r\n            if(this.act[this.act.length-1]==this.card1num ||this.act[this.act.length-1]==this.card2num||this.act[this.act.length-1]==this.card3num||this.act[this.act.length-1]==this.card4num)\r\n            return\r\n        }\r\n        if(this.card3selected==false){\r\n            this.card3selected=true\r\n            this.card3.setScale(1)\r\n            this.act.push(this.card3num)\r\n            this.lasttouchcard=this.card3\r\n        }\r\n        /*else{\r\n            this.card3selected=false\r\n            this.card3.setScale(0.8)\r\n            var index = this.act.indexOf(this.card3num)\r\n            if (index > -1) {\r\n                this.act.splice(index, 1);\r\n            }\r\n        }*/\r\n\r\n    },\r\n    onTouchEndedcard4:function(){\r\n        //window.AudioMgr.playSFX(\"ui_click\")\r\n        if(this.act.length-1>=0){\r\n            if(this.act[this.act.length-1]==this.card1num ||this.act[this.act.length-1]==this.card2num||this.act[this.act.length-1]==this.card3num||this.act[this.act.length-1]==this.card4num)\r\n            return\r\n        }\r\n        /*\r\n        var ind = this.act.indexOf(this.card4num)\r\n        if (ind > -1) {\r\n            return\r\n        }\r\n        */\r\n        if(this.card4selected==false){\r\n            this.card4selected=true\r\n            this.card4.setScale(1)\r\n            this.act.push(this.card4num)\r\n            this.lasttouchcard=this.card4\r\n        }\r\n        /*else{\r\n            this.card4selected=false\r\n            this.card4.setScale(0.8)\r\n            var index = this.act.indexOf(this.card4num)\r\n            if (index > -1) {\r\n                this.act.splice(index, 1);\r\n            }\r\n        }*/\r\n    },\r\n    getBatteryPercent:function(){\r\n        if(cc.sys.isNative){\r\n            if(cc.sys.os == cc.sys.OS_ANDROID){\r\n                return jsb.reflection.callStaticMethod(this.ANDROID_API, \"getBatteryPercent\", \"()F\");\r\n            }\r\n            else if(cc.sys.os == cc.sys.OS_IOS){\r\n                return jsb.reflection.callStaticMethod(this.IOS_API, \"getBatteryPercent\");\r\n            }            \r\n        }\r\n        return 0.9;\r\n    },\r\n    update: function (dt) {\r\n        this.label.string=this.act.join(\"\")\r\n        var minutes = Math.floor(Date.now()/1000/60);\r\n        if(this._lastMinute != minutes){\r\n            this._lastMinute = minutes;\r\n            var date = new Date();\r\n            var h = date.getHours();\r\n            h = h < 10? \"0\"+h:h;\r\n            \r\n            var m = date.getMinutes();\r\n            m = m < 10? \"0\"+m:m;\r\n            this._timeLabel.string = \"\" + h + \":\" + m;             \r\n        }\r\n\r\n        var power = cc.find(\"Canvas/bg2/power\")\r\n        power.scaleX = this.getBatteryPercent();\r\n\r\n        \r\n    },\r\n    onaddact:function(){\r\n        //window.AudioMgr.playSFX(\"ui_click\")\r\n        this.act.push(\"+\")\r\n\r\n    },\r\n    onreduceact:function(){\r\n        //window.AudioMgr.playSFX(\"ui_click\")\r\n        this.act.push(\"-\")\r\n\r\n    },\r\n    onmulact:function(){\r\n        //window.AudioMgr.playSFX(\"ui_click\")\r\n        this.act.push(\"*\")\r\n\r\n    },\r\n    ondivact:function(){\r\n        //window.AudioMgr.playSFX(\"ui_click\")\r\n        this.act.push(\"/\")\r\n\r\n    },\r\n    onlefact:function(){\r\n        //window.AudioMgr.playSFX(\"ui_click\")\r\n        this.act.push(\"(\")\r\n\r\n    },\r\n    onrigact:function(){\r\n        //window.AudioMgr.playSFX(\"ui_click\")\r\n        this.act.push(\")\")\r\n\r\n    },\r\n    ondelact:function(){\r\n        //window.AudioMgr.playSFX(\"ui_click\")\r\n        var num=this.act.pop()\r\n        if(this.lasttouchcard==null){\r\n            return\r\n        }\r\n        this.lasttouchcard.setScale(0.8)\r\n        if(this.lasttouchcard==this.card1) this.card1selected=false\r\n        if(this.lasttouchcard==this.card2) this.card2selected=false\r\n        if(this.lasttouchcard==this.card3) this.card3selected=false\r\n        if(this.lasttouchcard==this.card4) this.card4selected=false\r\n        this.lasttouchcard=null\r\n\r\n    },\r\n    onsureact:function(){\r\n        if(this.card1selected==false||this.card2selected==false||this.card3selected==false||this.card4selected==false){\r\n            this.gameHint.node.active=true\r\n            this.gameHint.string = \"四张牌都必须使用一次，请重新计算\";\r\n            this.gameHint.node.opacity=255\r\n            var action = cc.fadeTo(8.0, 0);\r\n            this.gameHint.node.runAction(action);\r\n\r\n            this.card1selected=false\r\n            this.card2selected=false\r\n            this.card3selected=false\r\n            this.card4selected=false\r\n    \r\n            this.card1.setScale(0.8)\r\n            this.card2.setScale(0.8)\r\n            this.card3.setScale(0.8)\r\n            this.card4.setScale(0.8)\r\n            this.act=[]\r\n            return\r\n        }\r\n            \r\n        //window.AudioMgr.playSFX(\"ui_click\")\r\n        this.card1selected=false\r\n        this.card2selected=false\r\n        this.card3selected=false\r\n        this.card4selected=false\r\n\r\n        this.card1.setScale(0.8)\r\n        this.card2.setScale(0.8)\r\n        this.card3.setScale(0.8)\r\n        this.card4.setScale(0.8)\r\n\r\n        var str=this.act.join(\"\")\r\n        var res=0;\r\n        try{\r\n            //var res=eval(str);\r\n            //var res= window.binding.eval(str)\r\n            res=window.eval2(str)\r\n            //cc.log(\"ttttttttttttttt\",res)\r\n        }\r\n        catch{\r\n            //res=\"syntax error\"\r\n            this.gameHint.node.active=true\r\n            this.gameHint.string = \"输入无效，请重新计算\";\r\n            this.gameHint.node.opacity=255\r\n            var action = cc.fadeTo(8.0, 0);\r\n            this.gameHint.node.runAction(action);\r\n            this.act=[]\r\n        }\r\n        //alert();\r\n        this.act=[]\r\n        //this.act.push(res)\r\n        if(res==24){\r\n            var player = KBEngine.app.player();\r\n            if(player){\r\n                player.onsureact(str)\r\n            }\r\n\r\n        }\r\n        else{\r\n            this.gameHint.node.active=true\r\n            this.gameHint.string = \"计算结果为\" + res + \"不正确，请重新计算\";\r\n            this.gameHint.node.opacity=255\r\n            var action = cc.fadeTo(8.0, 0);\r\n            this.gameHint.node.runAction(action);\r\n        }\r\n        //cc.log(\"submit=\",res)\r\n\r\n    },\r\n    pickUped:function(event){\r\n        //cc.log(\"worldsence.pickuped\")\r\n\r\n    },\r\n    installEvents : function() {\r\n        KBEngine.Event.register(\"onAvatarEnterWorld\", this, \"onAvatarEnterWorld\");\r\n        KBEngine.Event.register(\"onEnterWorld\", this, \"onEnterWorld\");\r\n        KBEngine.Event.register(\"onLeaveWorld\", this, \"onLeaveWorld\");\r\n        KBEngine.Event.register(\"game_begin_push\", this, \"game_begin_push\");\r\n        KBEngine.Event.register(\"entity_updateholds\", this, \"entity_updateholds\");\r\n        KBEngine.Event.register(\"newTurn\", this, \"newTurn\");\r\n        KBEngine.Event.register(\"playerReadyStateChange\", this, \"playerReadyStateChange\");\r\n        KBEngine.Event.register(\"onotherNetcut\", this, \"onotherNetcut\");\r\n        KBEngine.Event.register(\"onGameOver\", this, \"onGameOver\");\r\n\r\n        KBEngine.Event.register(\"onDisconnected\", this, \"onDisconnected\");\r\n\t\tKBEngine.Event.register(\"onConnectionState\", this, \"onConnectionState\");\r\n\t\tKBEngine.Event.register(\"onReloginBaseappFailed\", this, \"onReloginBaseappFailed\");\r\n        KBEngine.Event.register(\"onReloginBaseappSuccessfully\", this, \"onReloginBaseappSuccessfully\");\r\n\r\n        KBEngine.Event.register(\"onAvatarContinueGame\", this, \"onAvatarContinueGame\");\r\n\r\n        KBEngine.Event.register(\"onquick_chat\", this, \"onquick_chat\");\r\n        KBEngine.Event.register(\"onemoji\", this, \"onemoji\");\r\n        KBEngine.Event.register(\"oniptChat\", this, \"oniptChat\");\r\n\r\n        KBEngine.Event.register(\"onEnterWorld2\", this, \"onEnterWorld2\");\r\n        KBEngine.Event.register(\"updategamestuts\", this, \"updategamestuts\");\r\n        KBEngine.Event.register(\"entity_updateroomkey\", this, \"entity_updateroomkey\");\r\n        \r\n        KBEngine.Event.register(\"onsyncsureact\", this, \"onsyncsureact\");\r\n        KBEngine.Event.register(\"onjoinPrivateRoom\", this, \"onjoinPrivateRoom\");\r\n        \r\n    },\r\n    entity_updateroomkey:function(roomKeyc,avatar){\r\n        cc.log(\"entity_updateroomkeyentity_updateroomkey=\",roomKeyc)\r\n        this.RoomID.string=\"房间号:\"+roomKeyc.join(\"\")\r\n\r\n    },\r\n    enableWxShare: function () {\r\n        wx.showShareMenu({\r\n            withShareTicket:true,\r\n        });\r\n\r\n        wx.onShareAppMessage(function() {\r\n            return {\r\n                title: \"投石作战\",\r\n                imageUrl:SHARE_PICTURE,\r\n            }\r\n        });\r\n     },\r\n\r\n    enablePhysicManager: function () {\r\n        //cc.log(\"test1\")\r\n        //cc.director.getCollisionManager().enabled = true;\r\n        //cc.director.getPhysicsManager().enabled = true;\r\n\r\n        cc.director.getPhysicsManager().enabled =true;\r\n        var manager = cc.director.getCollisionManager();\r\n        manager.enabled = true;\r\n    },\r\n\r\n    enablePhysicsDebugDraw: function() {\r\n        cc.log(\"test2\")\r\n        var manager = cc.director.getCollisionManager();\r\n        manager.enabledDebugDraw = true;\r\n        manager.enabledDrawBoundingBox = true;\r\n\r\n        cc.director.getPhysicsManager().debugDrawFlags =\r\n            // cc.PhysicsManager.DrawBits.e_aabbBit |\r\n            // cc.PhysicsManager.DrawBits.e_pairBit |\r\n            cc.PhysicsManager.DrawBits.e_centerOfMassBit |\r\n            // cc.PhysicsManager.DrawBits.e_jointBit |\r\n            cc.PhysicsManager.DrawBits.e_shapeBit |\r\n            cc.PhysicsManager.DrawBits.e_rayCast;\r\n    },\r\n\r\n    \r\n\r\n    unInstallEvents: function() {\r\n        KBEngine.Event.deregister(\"onAvatarEnterWorld\", this, \"onAvatarEnterWorld\");\r\n        KBEngine.Event.deregister(\"onEnterWorld\", this, \"onEnterWorld\");\r\n        KBEngine.Event.deregister(\"onLeaveWorld\", this, \"onLeaveWorld\");\r\n        KBEngine.Event.deregister(\"game_begin_push\", this, \"game_begin_push\");\r\n        KBEngine.Event.deregister(\"entity_updateholds\", this, \"entity_updateholds\");\r\n        KBEngine.Event.deregister(\"newTurn\", this, \"newTurn\");\r\n        KBEngine.Event.deregister(\"playerReadyStateChange\", this, \"playerReadyStateChange\");\r\n        KBEngine.Event.deregister(\"onotherNetcut\", this);\r\n        KBEngine.Event.deregister(\"onGameOver\", this);\r\n        KBEngine.Event.deregister(\"onDisconnected\", this, \"onDisconnected\");\r\n\t\tKBEngine.Event.deregister(\"onConnectionState\", this, \"onConnectionState\");\r\n\t\tKBEngine.Event.deregister(\"onReloginBaseappFailed\", this, \"onReloginBaseappFailed\");\r\n        KBEngine.Event.deregister(\"onReloginBaseappSuccessfully\", this, \"onReloginBaseappSuccessfully\");\r\n        KBEngine.Event.deregister(\"onAvatarContinueGame\", this, \"onAvatarContinueGame\");\r\n\r\n        KBEngine.Event.deregister(\"onquick_chat\", this, \"onquick_chat\");\r\n        KBEngine.Event.deregister(\"onemoji\", this, \"onemoji\");\r\n        KBEngine.Event.deregister(\"oniptChat\", this, \"oniptChat\");\r\n\r\n        KBEngine.Event.deregister(\"onEnterWorld2\", this, \"onEnterWorld2\");\r\n        KBEngine.Event.deregister(\"updategamestuts\", this, \"updategamestuts\");\r\n        KBEngine.Event.deregister(\"entity_updateroomkey\", this, \"entity_updateroomkey\");\r\n\r\n        KBEngine.Event.deregister(\"onsyncsureact\", this, \"onsyncsureact\");\r\n        KBEngine.Event.deregister(\"onjoinPrivateRoom\", this, \"onjoinPrivateRoom\");\r\n    },\r\n    onjoinPrivateRoom:function(num){\r\n\r\n        cc.director.loadScene(\"StartScene\", () => {\r\n            window.loginres=num\r\n            cc.log(\"startscene===>wordscene\")\r\n        });\r\n        this.unInstallEvents();\r\n        \r\n    },\r\n    onquick_chat:function(eid,idx){\r\n        //cc.log(\"7777777777777777777777777777777777777777quick_chat=\",eid,idx)\r\n        var strstr=this.node.getComponent(\"Chat\").getQuickChatInfo(idx)[\"content\"]\r\n        //cc.log(\"888888888888888888888888888888888888quick_chat=\",strstr)\r\n        if(KBEngine.app.player().id==eid) {\r\n            this.seat1.getComponent(\"Seat\").chat(strstr)\r\n            //this.seat1.getComponent(\"Seat\").refresh();  \r\n        }\r\n        else{\r\n            this.seat2.getComponent(\"Seat\").chat(strstr)\r\n            //this.seat2.getComponent(\"Seat\").refresh();  \r\n        }\r\n    },\r\n    onemoji:function(eid,name){\r\n        //cc.log(\"888888888888888888888888888888888888emoji=\",name)\r\n        if(KBEngine.app.player().id==eid) {\r\n            this.seat1.getComponent(\"Seat\").emoji(name)\r\n            //this.seat1.getComponent(\"Seat\").refresh();  \r\n        }\r\n        else{\r\n            this.seat2.getComponent(\"Seat\").emoji(name)\r\n            //this.seat2.getComponent(\"Seat\").refresh();  \r\n        }\r\n    },\r\n    oniptChat:function(eid,strstr){\r\n        cc.log(\"888888888888888888888888888888888888eiptChat=\",strstr)\r\n        if(KBEngine.app.player().id==eid) {\r\n            this.seat1.getComponent(\"Seat\").chat(strstr)\r\n           // this.seat1.getComponent(\"Seat\").refresh();  \r\n        }\r\n        else{\r\n            this.seat2.getComponent(\"Seat\").chat(strstr)\r\n            //this.seat2.getComponent(\"Seat\").refresh();     \r\n        }\r\n    },\r\n    playerReadyStateChange:function(eid,state){\r\n        cc.log(\"playerReadyStateChange\")\r\n        if(KBEngine.app.player().id==eid) {   \r\n            this.seat1.active=true \r\n            this.seat1.getComponent(\"Seat\")._isReady=true\r\n            this.seat1.getComponent(\"Seat\").refresh();  \r\n        }else{\r\n            this.seat2.active=true \r\n            this.seat2.getComponent(\"Seat\")._isReady=true\r\n            this.seat2.getComponent(\"Seat\").refresh();   \r\n        }    \r\n\r\n    },\r\n    onupdateGamestates:function(curID,time){\r\n        cc.log(\"onupdateGamestates\")\r\n        this.newTurn(curID,time)\r\n\r\n    },\r\n    updategamestuts:function(num){\r\n        if(num==1){//服务器正在playing中\r\n            this.node.getChildByName(\"start\").active=false\r\n        }\r\n        else{//一局已结束\r\n            this.node.getChildByName(\"start\").active=true\r\n        }\r\n    },\r\n    onotherNetcut:function(curID){\r\n        cc.log(\"onotherNetcut。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。\")\r\n        if(curID==0){\r\n            this.gameHint.string = \"其他玩逃命，游戏马上结束.......\";\r\n            this.seat2.active=false;\r\n        }\r\n        else{\r\n            this.gameHint.node.active=true\r\n            this.gameHint.string = \"玩家\"+KBEngine.app.entities[curID].accountName +\"掉线，请等待.......\";\r\n        }\r\n        this.gameHint.node.opacity=255\r\n        var action = cc.fadeTo(13.0, 0);\r\n        this.gameHint.node.runAction(action);\r\n        //this.gameState.newTurn(15);\r\n        \r\n    },\r\n    onsyncsureact:function(strs){\r\n        cc.log(\"world::onsyncsureact\", strs)\r\n        //this.gameHint.node.opacity=255\r\n        //this.gameHint.string = strs\r\n        //var action = cc.fadeTo(8.0, 0);\r\n        //this.gameHint.node.runAction(action);\r\n    },\r\n    onDisconnected : function() {\r\n        KBEngine.INFO_MSG(\"disconnect! will try to reconnect...\");\r\n        //var action = cc.fadeTo(1.0, 0);\r\n        this.gameHint.node.opacity=255\r\n        this.gameHint.string = \"disconnect! will try to reconnect...\";\r\n        \r\n        this.Destroyplayer()\r\n        KBEngine.app.reloginBaseapp();\r\n    },\r\n    \r\n    onReloginBaseappTimer : function(self) {\r\n        KBEngine.INFO_MSG(\"will try to reconnect(\" + this.reloginCount + \")...\");\r\n    },\r\n    \r\n    onReloginBaseappFailed : function(failedcode) {\r\n        KBEngine.INFO_MSG(\"reogin is failed(断线重连失败), err=\" + KBEngine.app.serverErr(failedcode));   \r\n    },\r\n        \r\n    onReloginBaseappSuccessfully : function(){\r\n        KBEngine.INFO_MSG(\"reogin is successfully!(断线重连成功!)\");\r\n        this.gameHint.node.opacity=255\t\r\n        this.gameHint.node.active=true\r\n        var action = cc.fadeTo(8.0, 0);\r\n        this.gameHint.string = \"reogin is successfully!(断线重连成功!)\";\r\n\r\n        this.gameHint.node.runAction(action);\r\n    },\r\n        \r\n    onConnectionState : function(success) {\r\n        if(!success) {\r\n            KBEngine.ERROR_MSG(\"Connect(\" + KBEngine.app.ip + \":\" + KBEngine.app.port + \") is error! (连接错误)\");\r\n            this.onDisconnected()\r\n        }\r\n        else {\r\n            KBEngine.INFO_MSG(\"Connect successfully, please wait...(连接成功，请等候...)\");\r\n        }\r\n    },\r\n    reqChangeReadyState:function(){\r\n        this.node.getChildByName(\"start\").active=false\r\n        var player = KBEngine.app.player();\r\n        if(player){\r\n            player.reqChangeReadyState()\r\n        }   \r\n        this.seat1.getComponent(\"Seat\").setReady(true)\r\n        this.seat1.getComponent(\"Seat\").refresh();    \r\n    },\r\n    entity_updateholds:function(holds,entity){\r\n        cc.log(\"entity_updateholds\",entity.id,holds)\r\n        if(entity.className == \"Avatar\") {\r\n            if(entity.id==KBEngine.app.player().id) {      \r\n                //this.seat1.active=true\r\n                this.seat1.getComponent(\"Seat\")._holds=holds\r\n                this.seat1.getComponent(\"Seat\").refresh();    \r\n            }else{  //scalex==-1,\r\n                //this.seat2.active=true\r\n                this.seat2.getComponent(\"Seat\")._holds=holds\r\n                this.seat2.getComponent(\"Seat\").refresh();    \r\n            }\r\n        }  \r\n    },\r\n    game_begin_push:function(entity){\r\n        cc.log(\"WorldScene::game_begin_push\")\r\n        //this.seat1.active=true\r\n        //this.seat2.active=true\r\n        //this.seat1.getComponent(\"Seat\")._holds=entity.holds\r\n        this.seat1.getComponent(\"Seat\")._isReady=false\r\n        this.seat1.getComponent(\"Seat\").refresh(); \r\n\r\n        this.seat2.getComponent(\"Seat\")._isReady=false\r\n        this.seat2.getComponent(\"Seat\").refresh();  \r\n    },\r\n    onEnterWorld: function (entity) {\r\n        //SCALE=1;\r\n        cc.log(\"onEnterWorld entity.id=\",entity.id)\r\n        if(!entity.isPlayer()) {\r\n            var ae = null;\r\n            if(KBEngine.app.player().id==entity.id) {    \r\n                    this.seat1.active=true\r\n                    //this.seat1.getComponent(\"Seat\")._isReady=false\r\n                    this.seat1.getComponent(\"Seat\")._userName=entity.accountName\r\n                    this.seat1.getComponent(\"Seat\").avatarUrl=entity.avatarUrl\r\n                    this.seat1.getComponent(\"Seat\").refresh();  \r\n                    //this.entities[entity.id] = entity;  \r\n                    cc.log(\"WorldScene::onEnterWorld=\",this.seat1.getComponent(\"Seat\")._isReady)\r\n            }else{  //scalex==-1,\r\n                    this.matching.active=false;\r\n                    this.seat2.active=true\r\n                    //this.seat2.getComponent(\"Seat\")._isReady=true\r\n                    this.seat2.getComponent(\"Seat\")._userName=entity.accountName\r\n                    this.seat2.getComponent(\"Seat\").avatarUrl=entity.avatarUrl\r\n                    this.seat2.getComponent(\"Seat\").refresh();   \r\n                    //this.entities[entity.id] = entity; \r\n                    cc.log(\"WorldScene::onEnterWorld=\",this.seat2.getComponent(\"Seat\")._isReady)\r\n                }    \r\n            }\r\n    },\r\n    \r\n    onEnterWorld2: function (entityID) {\r\n        cc.log(\"onEnterWorld2\")\r\n        var entity=KBEngine.app.entities[entityID]\r\n        //SCALE=1;\r\n        cc.log(\"onEnterWorld entity.id=\",entity.id)\r\n            if(KBEngine.app.player().id==entity.id) {    \r\n                    this.seat1.active=true\r\n                    //this.seat1.getComponent(\"Seat\")._isReady=false\r\n                    this.seat1.getComponent(\"Seat\")._userName=entity.accountName\r\n                    this.seat1.getComponent(\"Seat\").avatarUrl=entity.avatarUrl\r\n                    this.seat1.getComponent(\"Seat\").refresh();  \r\n                    //this.entities[entity.id] = entity;  \r\n                    cc.log(\"WorldScene::onEnterWorld=\",this.seat1.getComponent(\"Seat\")._isReady)\r\n            }else{  //scalex==-1,\r\n                    this.matching.active=false;\r\n                    this.seat2.active=true\r\n                    //this.seat2.getComponent(\"Seat\")._isReady=true\r\n                    this.seat2.getComponent(\"Seat\")._userName=entity.accountName\r\n                    this.seat2.getComponent(\"Seat\").avatarUrl=entity.avatarUrl\r\n                    this.seat2.getComponent(\"Seat\").refresh();   \r\n                    //this.entities[entity.id] = entity; \r\n                    cc.log(\"WorldScene::onEnterWorld=\",this.seat2.getComponent(\"Seat\")._isReady)\r\n                }    \r\n    },\r\n    onLeaveWorld: function (entity) {\r\n        cc.log(\"onLeaveWorld\",entity.id,entity.className)\r\n        this.matching.active=true;\r\n\r\n        this.matching.stopAllActions()\r\n        var action1 = cc.fadeIn(0.5);//渐显\r\n        var action2 = cc.fadeOut(0.5);//渐隐效果\r\n        var repeat=cc.repeatForever(cc.sequence(action1,action2))\r\n        this.matching.runAction(repeat);\r\n\r\n        this.seat2.active=false\r\n        /*\r\n        cc.log(\"onLeaveWorld\",entity.id,entity.className)\r\n        if(this.entities[entity.id] && entity.className == \"Avatar\"){\r\n            this.entities[entity.id].removeFromParent()\r\n            this.entities[entity.id]=null\r\n        }  \r\n        */    \r\n    },\r\n\r\n    onAvatarEnterWorld : function(avatar) {\r\n        cc.log(\"onAvatarEnterWorld\")\r\n        this.createPlayer(avatar);\r\n    },\r\n\r\n   \r\n    updatePosition : function(entity) {\r\n       \r\n    },\t  \r\n    \r\n    set_position: function(entity) {\r\n        \r\n    },\r\n\r\n    setCameraTarget: function(entityID){\r\n        \r\n       \r\n    },\r\n\r\n    checkPlayerHasItem: function(left) {\r\n        //cc.log(\"test14\")\r\n      \r\n    },\r\n\r\n    newTurn: function(avatar,eid, second,card01,card02,card03,card04){\r\n        //window.AudioMgr.stopBGM()\r\n        //window.AudioMgr.playSFX(\"turn\")\r\n\r\n        this.gameState.newTurn(second);\r\n        this.clock.active=true\r\n        if(!this.gameState.isGameStart()) {\r\n            this.gameState.setGameStart(true);\r\n            //var action = cc.fadeTo(1.0, 0);\r\n            //this.label.string = \"游戏开始 !!!\";\r\n            //this.label.node.runAction(action);\r\n        }\r\n        this.card1selected=false\r\n        this.card2selected=false\r\n        this.card3selected=false\r\n        this.card4selected=false\r\n\r\n        this.card1.setScale(0.8)\r\n        this.card2.setScale(0.8)\r\n        this.card3.setScale(0.8)\r\n        this.card4.setScale(0.8)\r\n\r\n        this.card1.active=true\r\n        this.card2.active=true\r\n        this.card3.active=true\r\n        this.card4.active=true\r\n        \r\n        this.card01=card01;\r\n        this.card02=card02;\r\n        this.card03=card03;\r\n        this.card04=card04;\r\n        ////////////////////////////\r\n        var A_act1=null\r\n        var A_act2=null\r\n        var A_act3=null\r\n        var A_act4=null\r\n        var B_act1=null\r\n        var B_act2=null\r\n        var B_act3=null\r\n        var B_act4=null\r\n\r\n        var x1=this.seat1cardpos.x;\r\n        var y1=this.seat1cardpos.y\r\n\r\n        var x2=this.seat2cardpos.x;\r\n        var y2=this.seat2cardpos.y\r\n        var card1origposx=this.card1origpos.x\r\n        var card1origposy=this.card1origpos.y\r\n\r\n        var card2origposx=this.card2origpos.x\r\n        var card2origposy=this.card2origpos.y\r\n\r\n        var card3origposx=this.card3origpos.x\r\n        var card3origposy=this.card3origpos.y\r\n\r\n        var card4origposx=this.card4origpos.x\r\n        var card4origposy=this.card4origpos.y\r\n        cc.log(\"this.curid=\",eid)\r\n        cc.log(\"ddddddddddddddddddddthis.seat2cardpos=\",x1,y1)\r\n        cc.log(\"ddddddddddddddddddddthis.seat1cardpos=\",x2,y2)\r\n        cc.log(\"ddddddddddddddddddddthis..card1origpos=\",card1origposx,card1origposy)\r\n        cc.log(\"ddddddddddddddddddddthis..card2origpos=\",card2origposx,card2origposy)\r\n        cc.log(\"ddddddddddddddddddddthis..card2origpos=\",card3origposx,card3origposy)\r\n        cc.log(\"ddddddddddddddddddddthis..card2origpos=\",card4origposx,card4origposy)\r\n\r\n        this.card1.stopAllActions()\r\n        this.card2.stopAllActions()\r\n        this.card3.stopAllActions()\r\n        this.card4.stopAllActions()\r\n        if(eid==0){//各回各家\r\n \r\n\r\n            A_act1=cc.moveTo(1,cc.v2(x1,y1))\r\n            A_act2=cc.moveTo(1,cc.v2(x1,y1))\r\n\r\n            A_act3=cc.moveTo(1,cc.v2(x2,y2))\r\n            A_act4=cc.moveTo(1,cc.v2(x2,y2))\r\n        }\r\n        else if(eid==KBEngine.app.player().id){\r\n            cc.log(\"eid==KBEngine.app.player().id,moveto seat1\",eid,KBEngine.app.player().id)\r\n            A_act1=cc.moveTo(1,cc.v2(x1,y1))\r\n            A_act2=cc.moveTo(1,cc.v2(x1,y1))\r\n            A_act3=cc.moveTo(1,cc.v2(x1,y1))\r\n            A_act4=cc.moveTo(1,cc.v2(x1,y1))\r\n\r\n        }\r\n        else{\r\n            cc.log(\"eid!=KBEngine.app.player().id,moveto seat2\",eid,KBEngine.app.player().id)\r\n            A_act1=cc.moveTo(1,cc.v2(x2,y2))\r\n            A_act2=cc.moveTo(1,cc.v2(x2,y2))\r\n            A_act3=cc.moveTo(1,cc.v2(x2,y2))\r\n            A_act4=cc.moveTo(1,cc.v2(x2,y2))\r\n        }\r\n        var self=this;\r\n\r\n        this.card1num=2+parseInt((card01+1000-1061)/4)  //1,2,3,4\r\n        this.card2num=2+parseInt((card02+1000-1061)/4)\r\n        this.card3num=2+parseInt((card03+1000-1061)/4)\r\n        this.card4num=2+parseInt((card04+1000-1061)/4)\r\n        if (this.card1num>10) {this.card1num=1}\r\n        if (this.card2num>10) {this.card2num=1}\r\n        if (this.card3num>10) {this.card3num=1}\r\n        if (this.card4num>10) {this.card4num=1}\r\n\r\n        var funcount1=cc.callFunc(function(target){\r\n            this.seat1.getComponent(\"Seat\").refreshcount1()\r\n            this.seat2.getComponent(\"Seat\").refreshcount1()\r\n        }, this);\r\n\r\n        var funcount2=cc.callFunc(function(target){\r\n            this.seat1.getComponent(\"Seat\").refreshcount2()\r\n            this.seat2.getComponent(\"Seat\").refreshcount2()\r\n        }, this);\r\n\r\n        var self=this\r\n        var fun1=cc.callFunc(function(target){\r\n            target.x=x1,\r\n            target.y=y1;\r\n            card01=card01+1000;\r\n            var url=\"card_\"+card01+\"@2x\"\r\n            target.getComponent(cc.Sprite).spriteFrame=self.node.getChildByName(url).getComponent(cc.Sprite).spriteFrame\r\n            /*\r\n            cc.loader.loadRes(url,cc.SpriteFrame,function(err,spriteFrame) {\r\n            self.card1.getComponent(cc.Sprite).spriteFrame= spriteFrame\r\n            }); */\r\n        }, this.card1);\r\n       \r\n        \r\n        var fun2=cc.callFunc(function(target){\r\n            target.x=x1\r\n            target.y=y1\r\n            card02=card02+1000;\r\n            var url=\"card_\"+card02+\"@2x\"\r\n            target.getComponent(cc.Sprite).spriteFrame=self.node.getChildByName(url).getComponent(cc.Sprite).spriteFrame\r\n        }, this.card2);\r\n        var fun3=cc.callFunc(function(target){\r\n            target.x=x2\r\n            target.y=y2\r\n            card03=card03+1000;\r\n            var url=\"card_\"+card03+\"@2x\"\r\n            target.getComponent(cc.Sprite).spriteFrame=self.node.getChildByName(url).getComponent(cc.Sprite).spriteFrame\r\n        }, this.card3);\r\n        var fun4=cc.callFunc(function(target){\r\n            target.x=x2\r\n            target.y=y2\r\n            card04=card04+1000;\r\n            var url=\"card_\"+card04+\"@2x\"\r\n            target.getComponent(cc.Sprite).spriteFrame=self.node.getChildByName(url).getComponent(cc.Sprite).spriteFrame\r\n        }, this.card4);\r\n\r\n        var fun11=cc.callFunc(function(target){\r\n            target.x=card1origposx\r\n            target.y=card1origposy\r\n        }, this.card1);\r\n        \r\n        var fun22=cc.callFunc(function(target){\r\n            target.x=card2origposx\r\n            target.y=card2origposy\r\n        }, this.card2);\r\n        var fun33=cc.callFunc(function(target){\r\n            target.x=card3origposx\r\n            target.y=card3origposy\r\n        }, this.card3);\r\n        var fun44=cc.callFunc(function(target){\r\n            target.x=card4origposx\r\n            target.y=card4origposy\r\n        }, this.card4);\r\n\r\n        B_act1=cc.moveTo(1,cc.v2(card1origposx,card1origposy))\r\n        B_act2=cc.moveTo(1,cc.v2(card2origposx,card2origposy))\r\n        B_act3=cc.moveTo(1,cc.v2(card3origposx,card3origposy))\r\n        B_act4=cc.moveTo(1,cc.v2(card4origposx,card4origposy))\r\n\r\n        if(eid==12345){//各回各家2张\r\n            this.card1.runAction(cc.sequence(fun1,B_act1,fun11,funcount2))\r\n            this.card2.runAction(cc.sequence(fun2,B_act2,fun22,funcount2))\r\n            this.card3.runAction(cc.sequence(fun3,B_act3,fun33,funcount2))\r\n            this.card4.runAction(cc.sequence(fun4,B_act4,fun44,funcount2))\r\n\r\n        }\r\n        else{ //一家四张\r\n            this.card1.runAction(cc.sequence(A_act1,fun1,funcount1,cc.delayTime(1),B_act1,fun11,funcount2))\r\n            this.card2.runAction(cc.sequence(A_act2,fun2,funcount1,cc.delayTime(1),B_act2,fun22,funcount2))\r\n            this.card3.runAction(cc.sequence(A_act3,fun3,funcount1,cc.delayTime(1),B_act3,fun33,funcount2))\r\n            this.card4.runAction(cc.sequence(A_act4,fun4,funcount1,cc.delayTime(1),B_act4,fun44,funcount2))\r\n        }\r\n\r\n        /////////////////////////////\r\n\r\n        cc.log(\"wwwwwwnewTurn\",avatar.id, second,card01,card02,card03,card04)\r\n\r\n        this.opt.active=true\r\n        this.act=[]\r\n  \r\n       \r\n    },\r\n\r\n\r\n    resetItem: function() {\r\n    \r\n    },\r\n\r\n    otherAvatarOnPickUpItem: function(avatarID, itemID, position) {\r\n        \r\n    },\r\n\r\n    otherAvatarThrowItem: function(avatarID, itemID, force){\r\n        \r\n    },\r\n\r\n    otherAvatarOnStopWalk: function(avatarID, pos){\r\n        \r\n    },\r\n\r\n    otherAvatarOnStartWalk: function(avatarID, moveFlag){\r\n        \r\n        \r\n    },\r\n\r\n    otherAvatarRecoverItem: function(avatarID, itemID) {\r\n        //cc.log(\"test18\")\r\n    },\r\n\r\n    otherAvatarOnLeftJump: function(avatarID){\r\n        \r\n    },\r\n\r\n    otherAvatarOnRightJump: function(avatarID){\r\n        \r\n    },\r\n\r\n    onRecvDamage: function(avatarID, harm, hp) {\r\n        //cc.log(\"WorldScene::otherAvatarRecvDamage: avatarID=%d, harm=%d, hp=%d \", avatarID, harm, hp);\r\n        \r\n    },\r\n\r\n    onAvatarDie: function(avatarID) {\r\n        //cc.log(\"WorldScene::onAvatarDie, avatarid=%d\", avatarID)\r\n        \r\n    },\r\n\r\n    onGameOver: function(avatarID, isWin, hp, totalTime, totalHarm, score) {\r\n        if(avatarID == KBEngine.app.player().id) {\r\n            HP = hp;\r\n            TOTAL_TIME = totalTime;\r\n            OtherHP = totalHarm;\r\n            SCORE = score;\r\n            LVlevel=Math.round(100*SCORE)\r\n            this.unInstallEvents();\r\n            if(isWin) {\r\n                cc.director.loadScene(\"WinScene\");\r\n            } else {\r\n                cc.director.loadScene(\"LoseScene\");\r\n            }\r\n        }\r\n        //cc.log(\"8888888888888888888888888888888888888888888888888888888888888888888888888888888888888\")\r\n        //this.disEnableControlPlayer();\r\n        //this.unInstallEvents();\r\n        this.player = null;\r\n    },\r\n\r\n    onResetItem: function(itemID, position) {\r\n        ///SCALE=1;\r\n       \r\n    \r\n        //item.setPosition(position.x*SCALE, position.z*SCALE);\r\n    },\r\n\r\n    Destroyplayer:function(){\r\n        /*\r\n        cc.log(\"Avatar client die so destroy WorldScene playerprefab\")\r\n        if(this.player) {\r\n            this.player.removeFromParent(true)\r\n        }\r\n        */\r\n\r\n    },\r\n    createPlayer: function(avatar) {\r\n       // SCALE=1;\r\n        cc.log(\"new createPlayer this.player=，avatar.modelID=\",this.player,avatar.modelID )\r\n\r\n        if(!this.player) {\r\n            if(avatar.id==KBEngine.app.player().id) {\r\n                this.seat1.active=true\r\n                this.seat1.getComponent(\"Seat\")._userName=avatar.accountName\r\n                this.seat1.getComponent(\"Seat\").avatarUrl=avatar.avatarUrl\r\n                //this.seat1.getComponent(\"Seat\")._isReady=true\r\n                this.seat1.getComponent(\"Seat\").refresh();\r\n                this.player =  this.seat1;\r\n                //this.entities[avatar.id]=this.player \r\n            }else{\r\n                this.seat2.active=true\r\n                //this.seat2.getComponent(\"Seat\")._isReady=true\r\n                this.seat2.getComponent(\"Seat\")._userName=avatar.accountName\r\n                this.seat2.getComponent(\"Seat\").avatarUrl=avatar.avatarUrl\r\n                this.seat2.getComponent(\"Seat\").refresh();\r\n                this.player =  this.seat2;\r\n                //this.entities[avatar.id]=this.player \r\n            }\r\n            //var ctrl= this.player.addComponent(\"AvatarControl\");\r\n            //var action= this.player.addComponent(\"AvatarAction\");\r\n            this.player.setPosition(avatar.position.x*SCALE, avatar.position.z*SCALE);\r\n            //this.entities[avatar.id] = this.player;\r\n        }\r\n        cc.log(\"after createPlayer this.player=，avatar.modelID=\",this.player,avatar.modelID )\r\n    },\r\n\r\n    onAvatarContinueGame: function(avatar) {\r\n       this.createPlayer(avatar);\r\n    },\r\n\r\n    enableControlPlayer: function() {\r\n    \r\n    },\r\n\r\n    disEnableControlPlayer: function() {\r\n        \r\n    },\r\n});\r\n"]}