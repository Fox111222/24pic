{"version":3,"sources":["assets\\scripts\\cc_scripts\\WorldScene.js"],"names":["KBEngine","require","bindjs","cc","Class","Component","properties","seat1","type","Node","seat2","showwangfa","introduce","active","hidewangfa","showsetting","window","AudioMgr","playSFX","isshowsetting","settingNode","showchat","isshowchat","chatNode","log","onLoad","roomKeyc","installEvents","RoomID","find","getComponent","Label","yaoqing","node","getChildByName","matching","stopAllActions","action1","fadeIn","action2","fadeOut","repeat","repeatForever","sequence","runAction","playBGM","_timeLabel","sys","platform","WECHAT_GAME","enableWxShare","card1","card2","card3","card4","opt","label","act","card1num","card2num","card3num","card4num","lasttouchcard","on","EventType","TOUCH_END","onTouchEndedcard1","onTouchEndedcard2","onTouchEndedcard3","onTouchEndedcard4","card1selected","card2selected","card3selected","card4selected","gameState","clock","sp","i","card1origpos","position","card2origpos","card3origpos","card4origpos","delta","Sprite","spriteFrame","getOriginalSize","height","out","v2","seat1cardpos","convertToWorldSpaceAR","convertToNodeSpaceAR","y","seat2cardpos","gameHint","opacity","length","setScale","push","getBatteryPercent","isNative","os","OS_ANDROID","jsb","reflection","callStaticMethod","ANDROID_API","OS_IOS","IOS_API","update","dt","string","join","minutes","Math","floor","Date","now","_lastMinute","date","h","getHours","m","getMinutes","power","scaleX","onaddact","onreduceact","onmulact","ondivact","onlefact","onrigact","ondelact","num","pop","onsureact","action","fadeTo","str","res","eval2","player","app","pickUped","event","Event","register","entity_updateroomkey","avatar","wx","showShareMenu","withShareTicket","self","onShareAppMessage","title","imageUrl","SHARE_PICTURE","enablePhysicManager","director","getPhysicsManager","enabled","manager","getCollisionManager","enablePhysicsDebugDraw","enabledDebugDraw","enabledDrawBoundingBox","debugDrawFlags","PhysicsManager","DrawBits","e_centerOfMassBit","e_shapeBit","e_rayCast","unInstallEvents","deregister","onjoinPrivateRoom","loadScene","loginres","onquick_chat","eid","idx","strstr","getQuickChatInfo","id","chat","onemoji","name","emoji","oniptChat","playerReadyStateChange","state","_isReady","refresh","onupdateGamestates","curID","time","newTurn","updategamestuts","onotherNetcut","entities","accountName","onsyncsureact","strs","onDisconnected","INFO_MSG","Destroyplayer","reloginBaseapp","onReloginBaseappTimer","reloginCount","onReloginBaseappFailed","failedcode","serverErr","onReloginBaseappSuccessfully","onConnectionState","success","ERROR_MSG","ip","port","reqChangeReadyState","setReady","entity_updateholds","holds","entity","className","_holds","game_begin_push","onEnterWorld","isPlayer","ae","_userName","avatarUrl","onEnterWorld2","entityID","onLeaveWorld","onAvatarEnterWorld","createPlayer","updatePosition","set_position","setCameraTarget","checkPlayerHasItem","left","second","card01","card02","card03","card04","isGameStart","setGameStart","A_act1","A_act2","A_act3","A_act4","B_act1","B_act2","B_act3","B_act4","x1","x","y1","x2","y2","card1origposx","card1origposy","card2origposx","card2origposy","card3origposx","card3origposy","card4origposx","card4origposy","moveTo","parseInt","funcount1","callFunc","target","refreshcount1","funcount2","refreshcount2","fun1","url","fun2","fun3","fun4","fun11","fun22","fun33","fun44","delayTime","onGameOver","avatarID","isWin","hp","totalTime","totalHarm","score","HP","TOTAL_TIME","OtherHP","SCORE","LVlevel","round","invatefriend","shareAppMessage","query","fail","modelID","setPosition","SCALE","z","onAvatarContinueGame"],"mappings":"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","sourceRoot":"/","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\n\r\nvar KBEngine = require(\"kbengine\");\r\n//var bindjs=require(\"eval\")\r\nvar bindjs=require(\"eval2\")\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n    \r\n    properties: {\r\n        seat1: {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n\r\n        seat2: {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n    },\r\n    showwangfa:function(){\r\n        this.introduce.active=true\r\n    },\r\n    hidewangfa:function(){\r\n        this.introduce.active=false\r\n    },\r\n    showsetting:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        this.isshowsetting = !this.settingNode.active;\r\n        this.settingNode.active = this.isshowsetting;\r\n\r\n    },\r\n    showchat:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        this.isshowchat = !this.chatNode.active;\r\n        this.chatNode.active = this.isshowchat;\r\n        cc.log(\"showchat\")\r\n\r\n    },\r\n    onLoad () {\r\n        this.roomKeyc=\"\"\r\n        /*\r\n        var AudioMgr = require(\"AudioMgr\");\r\n        window.AudioMgr = new AudioMgr();\r\n        window.AudioMgr.init();\r\n        */\r\n\r\n\r\n        this.installEvents();\r\n        this.RoomID=cc.find(\"Canvas/bg2/RoomID\").getComponent(cc.Label)\r\n\r\n        this.yaoqing=cc.find(\"Canvas/bg2/yaoqing\")\r\n        this.yaoqing.active=false\r\n\r\n        this.introduce=this.node.getChildByName(\"introduce\")\r\n        this.introduce.active=false\r\n\r\n        if(window.type==1){\r\n            this.matching=this.node.getChildByName(\"bg2\").getChildByName(\"matching\")\r\n            \r\n        }\r\n        else{\r\n            this.matching=this.node.getChildByName(\"bg2\").getChildByName(\"matching2\")\r\n        }\r\n        //this.node.getChildByName(\"bg2\").getChildByName(\"matching\").active=true\r\n        this.matching.active=true\r\n        this.matching.stopAllActions()\r\n        var action1 = cc.fadeIn(0.5);//渐显\r\n        var action2 = cc.fadeOut(0.5);//渐隐效果\r\n        var repeat=cc.repeatForever(cc.sequence(action2,action1))\r\n        this.matching.runAction(repeat);\r\n       window.AudioMgr.playBGM(\"bgBet\")\r\n\r\n        this._timeLabel = cc.find(\"Canvas/bg2/time\").getComponent(cc.Label);\r\n        this.isshowsetting=false\r\n        //this.settingNode=cc.instantiate(this.setting)\r\n        //this.node.addChild(this.settingNode)\r\n        //this.settingNode=this.node.getChildByName(\"bg2\").getChildByName(\"settings\")\r\n        this.settingNode=cc.find(\"Canvas/settings\")\r\n        this.settingNode.active = this.isshowsetting;\r\n\r\n        this.isshowchat=false\r\n        //this.chatNode=cc.instantiate(this.chat)\r\n        //this.node.addChild(this.chatNode)\r\n        this.chatNode=cc.find(\"Canvas/chat\")\r\n        this.chatNode.active = this.isshowchat;\r\n        \r\n        if(cc.sys.platform == cc.sys.WECHAT_GAME) {\r\n            this.enableWxShare();\r\n        }\r\n        this.card1=this.node.getChildByName(\"card1\")\r\n        this.card2=this.node.getChildByName(\"card2\")\r\n        this.card3=this.node.getChildByName(\"card3\")\r\n        this.card4=this.node.getChildByName(\"card4\")\r\n        this.card1.active=false;\r\n        this.card2.active=false;\r\n        this.card3.active=false;\r\n        this.card4.active=false;\r\n        this.opt=this.node.getChildByName(\"bg2\").getChildByName(\"opt\")\r\n        this.opt.active=false;\r\n\r\n        this.label=this.node.getChildByName(\"bg2\").getChildByName(\"expstr\").getComponent(cc.Label)\r\n        this.act=[]\r\n        this.card1num=0;\r\n        this.card2num=0;\r\n        this.card3num=0;\r\n        this.card4num=0;\r\n\r\n        this.lasttouchcard=null\r\n\r\n        this.card1.on(cc.Node.EventType.TOUCH_END, this.onTouchEndedcard1, this);\r\n        this.card2.on(cc.Node.EventType.TOUCH_END, this.onTouchEndedcard2, this);\r\n        this.card3.on(cc.Node.EventType.TOUCH_END, this.onTouchEndedcard3, this);\r\n        this.card4.on(cc.Node.EventType.TOUCH_END, this.onTouchEndedcard4, this);\r\n\r\n        this.card1selected=false\r\n        this.card2selected=false\r\n        this.card3selected=false\r\n        this.card4selected=false\r\n\r\n\r\n\r\n        this.gameState = this.node.getComponent(\"GameState\");\r\n        this.clock=this.node.getChildByName(\"bg2\").getChildByName(\"clock\")\r\n        this.clock.active=false;\r\n\r\n        var sp=null\r\n        for(var i=1061;i<1115;i++){\r\n            sp=this.node.getChildByName(\"card_\"+i+\"@2x\")\r\n            sp.active=false;\r\n        }\r\n        this.card1origpos=this.card1.position\r\n        this.card2origpos=this.card2.position\r\n        this.card3origpos=this.card3.position\r\n        this.card4origpos=this.card4.position\r\n        \r\n\r\n        window.delta=this.node.getChildByName(\"bg2\").getChildByName(\"seat1\").getChildByName(\"card\").getComponent(cc.Sprite).spriteFrame.getOriginalSize().height*0.8\r\n        //\r\n        var out=cc.v2(0, 0)\r\n        //var seat1cardpos=cc.v2(0, 0)\r\n        var seat1cardpos=this.node.getChildByName(\"bg2\").getChildByName(\"seat1\").getChildByName(\"card\").position\r\n        this.node.getChildByName(\"bg2\").getChildByName(\"seat1\").convertToWorldSpaceAR (seat1cardpos, out)\r\n        this.seat1cardpos=this.node.convertToNodeSpaceAR(out)\r\n        this.seat1cardpos.y=this.seat1cardpos.y-this.node.getChildByName(\"bg2\").getChildByName(\"seat1\").getChildByName(\"card\").getComponent(cc.Sprite).spriteFrame.getOriginalSize().height*0.8\r\n        //this.node.getChildByName(\"bg2\").getChildByName(\"seat1\").y=this.node.getChildByName(\"bg2\").getChildByName(\"seat1\").y+window.delta\r\n        //var seat2cardpos=cc.v2(0, 0)\r\n        out=cc.v2(0, 0)\r\n        var seat2cardpos=this.node.getChildByName(\"bg2\").getChildByName(\"seat2\").getChildByName(\"card\").position\r\n        this.node.getChildByName(\"bg2\").getChildByName(\"seat2\").convertToWorldSpaceAR (seat2cardpos, out)\r\n        this.seat2cardpos=this.node.convertToNodeSpaceAR(out)\r\n\r\n\r\n        this.gameHint=this.node.getChildByName(\"gameHint\").getComponent(cc.Label)\r\n        this.gameHint.node.opacity=0;\r\n        this.gameHint.node.active=false;\r\n\r\n        this.seat1= this.node.getChildByName(\"bg2\").getChildByName(\"seat1\")\r\n        this.seat1.active=false\r\n        this.seat2= this.node.getChildByName(\"bg2\").getChildByName(\"seat2\")\r\n        this.seat2.active=false\r\n        if(cc.sys.platform == cc.sys.WECHAT_GAME) {\r\n            this.enableWxShare();\r\n            if(window.type==2)\r\n                this.yaoqing.active=true\r\n        }\r\n    },\r\n    onTouchEndedcard1:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        if(this.act.length-1>=0){\r\n            if(this.act[this.act.length-1]==this.card1num ||this.act[this.act.length-1]==this.card2num||this.act[this.act.length-1]==this.card3num||this.act[this.act.length-1]==this.card4num)\r\n            return\r\n        }\r\n        if(this.card1selected==false){\r\n            this.lasttouchcard=this.card1\r\n            this.card1selected=true\r\n            this.card1.setScale(1)\r\n            this.act.push(this.card1num)\r\n        }\r\n    },\r\n    onTouchEndedcard2:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        if(this.act.length-1>=0){\r\n            if(this.act[this.act.length-1]==this.card1num ||this.act[this.act.length-1]==this.card2num||this.act[this.act.length-1]==this.card3num||this.act[this.act.length-1]==this.card4num)\r\n            return\r\n        }\r\n        if(this.card2selected==false){\r\n            this.card2selected=true\r\n            this.card2.setScale(1)\r\n            this.act.push(this.card2num)\r\n            this.lasttouchcard=this.card2\r\n        }\r\n\r\n    },\r\n    onTouchEndedcard3:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        if(this.act.length-1>=0){\r\n            if(this.act[this.act.length-1]==this.card1num ||this.act[this.act.length-1]==this.card2num||this.act[this.act.length-1]==this.card3num||this.act[this.act.length-1]==this.card4num)\r\n            return\r\n        }\r\n        if(this.card3selected==false){\r\n            this.card3selected=true\r\n            this.card3.setScale(1)\r\n            this.act.push(this.card3num)\r\n            this.lasttouchcard=this.card3\r\n        }\r\n\r\n    },\r\n    onTouchEndedcard4:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        if(this.act.length-1>=0){\r\n            if(this.act[this.act.length-1]==this.card1num ||this.act[this.act.length-1]==this.card2num||this.act[this.act.length-1]==this.card3num||this.act[this.act.length-1]==this.card4num)\r\n            return\r\n        }\r\n        if(this.card4selected==false){\r\n            this.card4selected=true\r\n            this.card4.setScale(1)\r\n            this.act.push(this.card4num)\r\n            this.lasttouchcard=this.card4\r\n        }\r\n    },\r\n    getBatteryPercent:function(){\r\n        if(cc.sys.isNative){\r\n            if(cc.sys.os == cc.sys.OS_ANDROID){\r\n                return jsb.reflection.callStaticMethod(this.ANDROID_API, \"getBatteryPercent\", \"()F\");\r\n            }\r\n            else if(cc.sys.os == cc.sys.OS_IOS){\r\n                return jsb.reflection.callStaticMethod(this.IOS_API, \"getBatteryPercent\");\r\n            }            \r\n        }\r\n        return 0.9;\r\n    },\r\n    update: function (dt) {\r\n        this.label.string=this.act.join(\"\")\r\n        var minutes = Math.floor(Date.now()/1000/60);\r\n        if(this._lastMinute != minutes){\r\n            this._lastMinute = minutes;\r\n            var date = new Date();\r\n            var h = date.getHours();\r\n            h = h < 10? \"0\"+h:h;\r\n            \r\n            var m = date.getMinutes();\r\n            m = m < 10? \"0\"+m:m;\r\n            this._timeLabel.string = \"\" + h + \":\" + m;             \r\n        }\r\n\r\n        var power = cc.find(\"Canvas/bg2/power\")\r\n        power.scaleX = this.getBatteryPercent();\r\n\r\n        \r\n    },\r\n    onaddact:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        this.act.push(\"+\")\r\n\r\n    },\r\n    onreduceact:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        this.act.push(\"-\")\r\n\r\n    },\r\n    onmulact:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        this.act.push(\"*\")\r\n\r\n    },\r\n    ondivact:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        this.act.push(\"/\")\r\n\r\n    },\r\n    onlefact:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        this.act.push(\"(\")\r\n\r\n    },\r\n    onrigact:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        this.act.push(\")\")\r\n\r\n    },\r\n    ondelact:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        var num=this.act.pop()\r\n        if(this.lasttouchcard==null){\r\n            return\r\n        }\r\n        this.lasttouchcard.setScale(0.8)\r\n        if(this.lasttouchcard==this.card1) this.card1selected=false\r\n        if(this.lasttouchcard==this.card2) this.card2selected=false\r\n        if(this.lasttouchcard==this.card3) this.card3selected=false\r\n        if(this.lasttouchcard==this.card4) this.card4selected=false\r\n        this.lasttouchcard=null\r\n\r\n    },\r\n    onsureact:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        if(this.card1selected==false||this.card2selected==false||this.card3selected==false||this.card4selected==false){\r\n            this.gameHint.node.active=true\r\n            this.gameHint.string = \"四张牌都必须使用一次，请重新计算\";\r\n            this.gameHint.node.opacity=255\r\n            var action = cc.fadeTo(8.0, 0);\r\n            this.gameHint.node.runAction(action);\r\n\r\n            this.card1selected=false\r\n            this.card2selected=false\r\n            this.card3selected=false\r\n            this.card4selected=false\r\n    \r\n            this.card1.setScale(0.8)\r\n            this.card2.setScale(0.8)\r\n            this.card3.setScale(0.8)\r\n            this.card4.setScale(0.8)\r\n            this.act=[]\r\n            return\r\n        }\r\n            \r\n        //window.AudioMgr.playSFX(\"ui_click\")\r\n        this.card1selected=false\r\n        this.card2selected=false\r\n        this.card3selected=false\r\n        this.card4selected=false\r\n\r\n        this.card1.setScale(0.8)\r\n        this.card2.setScale(0.8)\r\n        this.card3.setScale(0.8)\r\n        this.card4.setScale(0.8)\r\n\r\n        var str=this.act.join(\"\")\r\n        var res=0;\r\n        try{\r\n            //var res=eval(str);\r\n            //var res= window.binding.eval(str)\r\n            res=window.eval2(str)\r\n            //cc.log(\"ttttttttttttttt\",res)\r\n        }\r\n        catch{\r\n            //res=\"syntax error\"\r\n            this.gameHint.node.active=true\r\n            this.gameHint.string = \"输入无效，请重新计算\";\r\n            this.gameHint.node.opacity=255\r\n            var action = cc.fadeTo(8.0, 0);\r\n            this.gameHint.node.runAction(action);\r\n            this.act=[]\r\n        }\r\n        //alert();\r\n        this.act=[]\r\n        //this.act.push(res)\r\n        if(res==24){\r\n            var player = KBEngine.app.player();\r\n            if(player){\r\n                player.onsureact(str)\r\n            }\r\n\r\n        }\r\n        else{\r\n            this.gameHint.node.active=true\r\n            this.gameHint.string = \"计算结果为\" + res + \"不正确，请重新计算\";\r\n            this.gameHint.node.opacity=255\r\n            var action = cc.fadeTo(8.0, 0);\r\n            this.gameHint.node.runAction(action);\r\n        }\r\n        //cc.log(\"submit=\",res)\r\n\r\n    },\r\n    pickUped:function(event){\r\n        //cc.log(\"worldsence.pickuped\")\r\n\r\n    },\r\n    installEvents : function() {\r\n        KBEngine.Event.register(\"onAvatarEnterWorld\", this, \"onAvatarEnterWorld\");\r\n        KBEngine.Event.register(\"onEnterWorld\", this, \"onEnterWorld\");\r\n        KBEngine.Event.register(\"onLeaveWorld\", this, \"onLeaveWorld\");\r\n        KBEngine.Event.register(\"game_begin_push\", this, \"game_begin_push\");\r\n        KBEngine.Event.register(\"entity_updateholds\", this, \"entity_updateholds\");\r\n        KBEngine.Event.register(\"newTurn\", this, \"newTurn\");\r\n        KBEngine.Event.register(\"playerReadyStateChange\", this, \"playerReadyStateChange\");\r\n        KBEngine.Event.register(\"onotherNetcut\", this, \"onotherNetcut\");\r\n        KBEngine.Event.register(\"onGameOver\", this, \"onGameOver\");\r\n\r\n        KBEngine.Event.register(\"onDisconnected\", this, \"onDisconnected\");\r\n\t\tKBEngine.Event.register(\"onConnectionState\", this, \"onConnectionState\");\r\n\t\tKBEngine.Event.register(\"onReloginBaseappFailed\", this, \"onReloginBaseappFailed\");\r\n        KBEngine.Event.register(\"onReloginBaseappSuccessfully\", this, \"onReloginBaseappSuccessfully\");\r\n\r\n        KBEngine.Event.register(\"onAvatarContinueGame\", this, \"onAvatarContinueGame\");\r\n\r\n        KBEngine.Event.register(\"onquick_chat\", this, \"onquick_chat\");\r\n        KBEngine.Event.register(\"onemoji\", this, \"onemoji\");\r\n        KBEngine.Event.register(\"oniptChat\", this, \"oniptChat\");\r\n\r\n        KBEngine.Event.register(\"onEnterWorld2\", this, \"onEnterWorld2\");\r\n        KBEngine.Event.register(\"updategamestuts\", this, \"updategamestuts\");\r\n        KBEngine.Event.register(\"entity_updateroomkey\", this, \"entity_updateroomkey\");\r\n        \r\n        KBEngine.Event.register(\"onsyncsureact\", this, \"onsyncsureact\");\r\n        KBEngine.Event.register(\"onjoinPrivateRoom\", this, \"onjoinPrivateRoom\");\r\n        \r\n    },\r\n    entity_updateroomkey:function(roomKeyc,avatar){\r\n        cc.log(\"entity_updateroomkeyentity_updateroomkey=\",roomKeyc)\r\n        this.RoomID.string=\"房间号:\"+roomKeyc.join(\"\")\r\n        this.roomKeyc=roomKeyc.join(\"\")\r\n\r\n    },\r\n    enableWxShare: function () {\r\n        wx.showShareMenu({\r\n            withShareTicket:true,\r\n        });\r\n        var self=this\r\n        wx.onShareAppMessage(function() {\r\n            return {\r\n                title: \"才艺24点小PK\",\r\n                imageUrl:SHARE_PICTURE,\r\n                //roomID:sekf.RoomID.string,\r\n            }\r\n        });\r\n     },\r\n\r\n    enablePhysicManager: function () {\r\n        //cc.log(\"test1\")\r\n        //cc.director.getCollisionManager().enabled = true;\r\n        //cc.director.getPhysicsManager().enabled = true;\r\n\r\n        cc.director.getPhysicsManager().enabled =true;\r\n        var manager = cc.director.getCollisionManager();\r\n        manager.enabled = true;\r\n    },\r\n\r\n    enablePhysicsDebugDraw: function() {\r\n        cc.log(\"test2\")\r\n        var manager = cc.director.getCollisionManager();\r\n        manager.enabledDebugDraw = true;\r\n        manager.enabledDrawBoundingBox = true;\r\n\r\n        cc.director.getPhysicsManager().debugDrawFlags =\r\n            // cc.PhysicsManager.DrawBits.e_aabbBit |\r\n            // cc.PhysicsManager.DrawBits.e_pairBit |\r\n            cc.PhysicsManager.DrawBits.e_centerOfMassBit |\r\n            // cc.PhysicsManager.DrawBits.e_jointBit |\r\n            cc.PhysicsManager.DrawBits.e_shapeBit |\r\n            cc.PhysicsManager.DrawBits.e_rayCast;\r\n    },\r\n\r\n    \r\n\r\n    unInstallEvents: function() {\r\n        KBEngine.Event.deregister(\"onAvatarEnterWorld\", this, \"onAvatarEnterWorld\");\r\n        KBEngine.Event.deregister(\"onEnterWorld\", this, \"onEnterWorld\");\r\n        KBEngine.Event.deregister(\"onLeaveWorld\", this, \"onLeaveWorld\");\r\n        KBEngine.Event.deregister(\"game_begin_push\", this, \"game_begin_push\");\r\n        KBEngine.Event.deregister(\"entity_updateholds\", this, \"entity_updateholds\");\r\n        KBEngine.Event.deregister(\"newTurn\", this, \"newTurn\");\r\n        KBEngine.Event.deregister(\"playerReadyStateChange\", this, \"playerReadyStateChange\");\r\n        KBEngine.Event.deregister(\"onotherNetcut\", this);\r\n        KBEngine.Event.deregister(\"onGameOver\", this);\r\n        KBEngine.Event.deregister(\"onDisconnected\", this, \"onDisconnected\");\r\n\t\tKBEngine.Event.deregister(\"onConnectionState\", this, \"onConnectionState\");\r\n\t\tKBEngine.Event.deregister(\"onReloginBaseappFailed\", this, \"onReloginBaseappFailed\");\r\n        KBEngine.Event.deregister(\"onReloginBaseappSuccessfully\", this, \"onReloginBaseappSuccessfully\");\r\n        KBEngine.Event.deregister(\"onAvatarContinueGame\", this, \"onAvatarContinueGame\");\r\n\r\n        KBEngine.Event.deregister(\"onquick_chat\", this, \"onquick_chat\");\r\n        KBEngine.Event.deregister(\"onemoji\", this, \"onemoji\");\r\n        KBEngine.Event.deregister(\"oniptChat\", this, \"oniptChat\");\r\n\r\n        KBEngine.Event.deregister(\"onEnterWorld2\", this, \"onEnterWorld2\");\r\n        KBEngine.Event.deregister(\"updategamestuts\", this, \"updategamestuts\");\r\n        KBEngine.Event.deregister(\"entity_updateroomkey\", this, \"entity_updateroomkey\");\r\n\r\n        KBEngine.Event.deregister(\"onsyncsureact\", this, \"onsyncsureact\");\r\n        KBEngine.Event.deregister(\"onjoinPrivateRoom\", this, \"onjoinPrivateRoom\");\r\n    },\r\n    onjoinPrivateRoom:function(num){\r\n\r\n        cc.director.loadScene(\"StartScene\", () => {\r\n            window.loginres=num\r\n            cc.log(\"startscene===>wordscene\")\r\n        });\r\n        this.unInstallEvents();\r\n        \r\n    },\r\n    onquick_chat:function(eid,idx){\r\n        //cc.log(\"7777777777777777777777777777777777777777quick_chat=\",eid,idx)\r\n        var strstr=this.node.getComponent(\"Chat\").getQuickChatInfo(idx)[\"content\"]\r\n        //cc.log(\"888888888888888888888888888888888888quick_chat=\",strstr)\r\n        if(KBEngine.app.player().id==eid) {\r\n            this.seat1.getComponent(\"Seat\").chat(strstr)\r\n            //this.seat1.getComponent(\"Seat\").refresh();  \r\n        }\r\n        else{\r\n            this.seat2.getComponent(\"Seat\").chat(strstr)\r\n            //this.seat2.getComponent(\"Seat\").refresh();  \r\n        }\r\n    },\r\n    onemoji:function(eid,name){\r\n        //cc.log(\"888888888888888888888888888888888888emoji=\",name)\r\n        if(KBEngine.app.player().id==eid) {\r\n            this.seat1.getComponent(\"Seat\").emoji(name)\r\n            //this.seat1.getComponent(\"Seat\").refresh();  \r\n        }\r\n        else{\r\n            this.seat2.getComponent(\"Seat\").emoji(name)\r\n            //this.seat2.getComponent(\"Seat\").refresh();  \r\n        }\r\n    },\r\n    oniptChat:function(eid,strstr){\r\n        cc.log(\"888888888888888888888888888888888888eiptChat=\",strstr)\r\n        if(KBEngine.app.player().id==eid) {\r\n            this.seat1.getComponent(\"Seat\").chat(strstr)\r\n           // this.seat1.getComponent(\"Seat\").refresh();  \r\n        }\r\n        else{\r\n            this.seat2.getComponent(\"Seat\").chat(strstr)\r\n            //this.seat2.getComponent(\"Seat\").refresh();     \r\n        }\r\n    },\r\n    playerReadyStateChange:function(eid,state){\r\n        cc.log(\"playerReadyStateChange\")\r\n        if(KBEngine.app.player().id==eid) {   \r\n            this.seat1.active=true \r\n            this.seat1.getComponent(\"Seat\")._isReady=true\r\n            this.seat1.getComponent(\"Seat\").refresh();  \r\n        }else{\r\n            this.seat2.active=true \r\n            this.seat2.getComponent(\"Seat\")._isReady=true\r\n            this.seat2.getComponent(\"Seat\").refresh();   \r\n        }    \r\n\r\n    },\r\n    onupdateGamestates:function(curID,time){\r\n        cc.log(\"onupdateGamestates\")\r\n        this.newTurn(curID,time)\r\n\r\n    },\r\n    updategamestuts:function(num){\r\n        if(num==1){//服务器正在playing中\r\n            this.node.getChildByName(\"start\").active=false\r\n        }\r\n        else{//一局已结束\r\n            this.node.getChildByName(\"start\").active=true\r\n        }\r\n    },\r\n    onotherNetcut:function(curID){\r\n        cc.log(\"onotherNetcut。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。\")\r\n        if(curID==0){\r\n            this.gameHint.string = \"其他玩逃命，游戏马上结束.......\";\r\n            this.seat2.active=false;\r\n        }\r\n        else{\r\n            this.gameHint.node.active=true\r\n            this.gameHint.string = \"玩家\"+KBEngine.app.entities[curID].accountName +\"掉线，请等待.......\";\r\n        }\r\n        this.gameHint.node.opacity=255\r\n        var action = cc.fadeTo(13.0, 0);\r\n        this.gameHint.node.runAction(action);\r\n        //this.gameState.newTurn(15);\r\n        \r\n    },\r\n    onsyncsureact:function(strs){\r\n        cc.log(\"world::onsyncsureact\", strs)\r\n        //this.gameHint.node.opacity=255\r\n        //this.gameHint.string = strs\r\n        //var action = cc.fadeTo(8.0, 0);\r\n        //this.gameHint.node.runAction(action);\r\n    },\r\n    onDisconnected : function() {\r\n        KBEngine.INFO_MSG(\"disconnect! will try to reconnect...\");\r\n        //var action = cc.fadeTo(1.0, 0);\r\n        this.gameHint.node.opacity=255\r\n        this.gameHint.string = \"disconnect! will try to reconnect...\";\r\n        \r\n        this.Destroyplayer()\r\n        KBEngine.app.reloginBaseapp();\r\n    },\r\n    \r\n    onReloginBaseappTimer : function(self) {\r\n        KBEngine.INFO_MSG(\"will try to reconnect(\" + this.reloginCount + \")...\");\r\n    },\r\n    \r\n    onReloginBaseappFailed : function(failedcode) {\r\n        KBEngine.INFO_MSG(\"reogin is failed(断线重连失败), err=\" + KBEngine.app.serverErr(failedcode));   \r\n    },\r\n        \r\n    onReloginBaseappSuccessfully : function(){\r\n        KBEngine.INFO_MSG(\"reogin is successfully!(断线重连成功!)\");\r\n        this.gameHint.node.opacity=255\t\r\n        this.gameHint.node.active=true\r\n        var action = cc.fadeTo(8.0, 0);\r\n        this.gameHint.string = \"reogin is successfully!(断线重连成功!)\";\r\n\r\n        this.gameHint.node.runAction(action);\r\n    },\r\n        \r\n    onConnectionState : function(success) {\r\n        if(!success) {\r\n            KBEngine.ERROR_MSG(\"Connect(\" + KBEngine.app.ip + \":\" + KBEngine.app.port + \") is error! (连接错误)\");\r\n            this.onDisconnected()\r\n        }\r\n        else {\r\n            KBEngine.INFO_MSG(\"Connect successfully, please wait...(连接成功，请等候...)\");\r\n        }\r\n    },\r\n    reqChangeReadyState:function(){\r\n        this.node.getChildByName(\"start\").active=false\r\n        var player = KBEngine.app.player();\r\n        if(player){\r\n            player.reqChangeReadyState()\r\n        }   \r\n        this.seat1.getComponent(\"Seat\").setReady(true)\r\n        this.seat1.getComponent(\"Seat\").refresh();    \r\n    },\r\n    entity_updateholds:function(holds,entity){\r\n        cc.log(\"entity_updateholds\",entity.id,holds)\r\n        if(entity.className == \"Avatar\") {\r\n            if(entity.id==KBEngine.app.player().id) {      \r\n                //this.seat1.active=true\r\n                this.seat1.getComponent(\"Seat\")._holds=holds\r\n                this.seat1.getComponent(\"Seat\").refresh();    \r\n            }else{  //scalex==-1,\r\n                //this.seat2.active=true\r\n                this.seat2.getComponent(\"Seat\")._holds=holds\r\n                this.seat2.getComponent(\"Seat\").refresh();    \r\n            }\r\n        }  \r\n    },\r\n    game_begin_push:function(entity){\r\n        cc.log(\"WorldScene::game_begin_push\")\r\n        //this.seat1.active=true\r\n        //this.seat2.active=true\r\n        //this.seat1.getComponent(\"Seat\")._holds=entity.holds\r\n        this.seat1.getComponent(\"Seat\")._isReady=false\r\n        this.seat1.getComponent(\"Seat\").refresh(); \r\n\r\n        this.seat2.getComponent(\"Seat\")._isReady=false\r\n        this.seat2.getComponent(\"Seat\").refresh();  \r\n    },\r\n    onEnterWorld: function (entity) {\r\n        //SCALE=1;\r\n        cc.log(\"onEnterWorld entity.id=\",entity.id)\r\n        if(!entity.isPlayer()) {\r\n            var ae = null;\r\n            if(KBEngine.app.player().id==entity.id) {    \r\n                    this.seat1.active=true\r\n                    //this.seat1.getComponent(\"Seat\")._isReady=false\r\n                    this.seat1.getComponent(\"Seat\")._userName=entity.accountName\r\n                    this.seat1.getComponent(\"Seat\").avatarUrl=entity.avatarUrl\r\n                    this.seat1.getComponent(\"Seat\").refresh();  \r\n                    //this.entities[entity.id] = entity;  \r\n                    cc.log(\"WorldScene::onEnterWorld=\",this.seat1.getComponent(\"Seat\")._isReady)\r\n            }else{  //scalex==-1,\r\n                    this.matching.active=false;\r\n                    this.seat2.active=true\r\n                    //this.seat2.getComponent(\"Seat\")._isReady=true\r\n                    this.seat2.getComponent(\"Seat\")._userName=entity.accountName\r\n                    this.seat2.getComponent(\"Seat\").avatarUrl=entity.avatarUrl\r\n                    this.seat2.getComponent(\"Seat\").refresh();   \r\n                    //this.entities[entity.id] = entity; \r\n                    cc.log(\"WorldScene::onEnterWorld=\",this.seat2.getComponent(\"Seat\")._isReady)\r\n                }    \r\n            }\r\n    },\r\n    \r\n    onEnterWorld2: function (entityID) {\r\n        cc.log(\"onEnterWorld2\")\r\n        var entity=KBEngine.app.entities[entityID]\r\n        //SCALE=1;\r\n        cc.log(\"onEnterWorld entity.id=\",entity.id)\r\n            if(KBEngine.app.player().id==entity.id) {    \r\n                    this.seat1.active=true\r\n                    //this.seat1.getComponent(\"Seat\")._isReady=false\r\n                    this.seat1.getComponent(\"Seat\")._userName=entity.accountName\r\n                    this.seat1.getComponent(\"Seat\").avatarUrl=entity.avatarUrl\r\n                    this.seat1.getComponent(\"Seat\").refresh();  \r\n                    //this.entities[entity.id] = entity;  \r\n                    cc.log(\"WorldScene::onEnterWorld=\",this.seat1.getComponent(\"Seat\")._isReady)\r\n            }else{  //scalex==-1,\r\n                    this.matching.active=false;\r\n                    this.seat2.active=true\r\n                    //this.seat2.getComponent(\"Seat\")._isReady=true\r\n                    this.seat2.getComponent(\"Seat\")._userName=entity.accountName\r\n                    this.seat2.getComponent(\"Seat\").avatarUrl=entity.avatarUrl\r\n                    this.seat2.getComponent(\"Seat\").refresh();   \r\n                    //this.entities[entity.id] = entity; \r\n                    cc.log(\"WorldScene::onEnterWorld=\",this.seat2.getComponent(\"Seat\")._isReady)\r\n                }    \r\n    },\r\n    onLeaveWorld: function (entity) {\r\n        cc.log(\"onLeaveWorld\",entity.id,entity.className)\r\n        this.matching.active=true;\r\n\r\n        this.matching.stopAllActions()\r\n        var action1 = cc.fadeIn(0.5);//渐显\r\n        var action2 = cc.fadeOut(0.5);//渐隐效果\r\n        var repeat=cc.repeatForever(cc.sequence(action1,action2))\r\n        this.matching.runAction(repeat);\r\n\r\n        this.seat2.active=false\r\n        /*\r\n        cc.log(\"onLeaveWorld\",entity.id,entity.className)\r\n        if(this.entities[entity.id] && entity.className == \"Avatar\"){\r\n            this.entities[entity.id].removeFromParent()\r\n            this.entities[entity.id]=null\r\n        }  \r\n        */    \r\n    },\r\n\r\n    onAvatarEnterWorld : function(avatar) {\r\n        cc.log(\"onAvatarEnterWorld\")\r\n        this.createPlayer(avatar);\r\n    },\r\n\r\n   \r\n    updatePosition : function(entity) {\r\n       \r\n    },\t  \r\n    \r\n    set_position: function(entity) {\r\n        \r\n    },\r\n\r\n    setCameraTarget: function(entityID){\r\n        \r\n       \r\n    },\r\n\r\n    checkPlayerHasItem: function(left) {\r\n        //cc.log(\"test14\")\r\n      \r\n    },\r\n\r\n    newTurn: function(avatar,eid, second,card01,card02,card03,card04){\r\n        //window.AudioMgr.stopBGM()\r\n        //window.AudioMgr.playSFX(\"turn\")\r\n\r\n        this.gameState.newTurn(second);\r\n        this.clock.active=true\r\n        if(!this.gameState.isGameStart()) {\r\n            this.gameState.setGameStart(true);\r\n            //var action = cc.fadeTo(1.0, 0);\r\n            //this.label.string = \"游戏开始 !!!\";\r\n            //this.label.node.runAction(action);\r\n        }\r\n        this.card1selected=false\r\n        this.card2selected=false\r\n        this.card3selected=false\r\n        this.card4selected=false\r\n\r\n        this.card1.setScale(0.8)\r\n        this.card2.setScale(0.8)\r\n        this.card3.setScale(0.8)\r\n        this.card4.setScale(0.8)\r\n\r\n        this.card1.active=true\r\n        this.card2.active=true\r\n        this.card3.active=true\r\n        this.card4.active=true\r\n        \r\n        this.card01=card01;\r\n        this.card02=card02;\r\n        this.card03=card03;\r\n        this.card04=card04;\r\n        ////////////////////////////\r\n        var A_act1=null\r\n        var A_act2=null\r\n        var A_act3=null\r\n        var A_act4=null\r\n        var B_act1=null\r\n        var B_act2=null\r\n        var B_act3=null\r\n        var B_act4=null\r\n\r\n        var x1=this.seat1cardpos.x;\r\n        var y1=this.seat1cardpos.y\r\n\r\n        var x2=this.seat2cardpos.x;\r\n        var y2=this.seat2cardpos.y\r\n        var card1origposx=this.card1origpos.x\r\n        var card1origposy=this.card1origpos.y\r\n\r\n        var card2origposx=this.card2origpos.x\r\n        var card2origposy=this.card2origpos.y\r\n\r\n        var card3origposx=this.card3origpos.x\r\n        var card3origposy=this.card3origpos.y\r\n\r\n        var card4origposx=this.card4origpos.x\r\n        var card4origposy=this.card4origpos.y\r\n        cc.log(\"this.curid=\",eid)\r\n        cc.log(\"ddddddddddddddddddddthis.seat2cardpos=\",x1,y1)\r\n        cc.log(\"ddddddddddddddddddddthis.seat1cardpos=\",x2,y2)\r\n        cc.log(\"ddddddddddddddddddddthis..card1origpos=\",card1origposx,card1origposy)\r\n        cc.log(\"ddddddddddddddddddddthis..card2origpos=\",card2origposx,card2origposy)\r\n        cc.log(\"ddddddddddddddddddddthis..card2origpos=\",card3origposx,card3origposy)\r\n        cc.log(\"ddddddddddddddddddddthis..card2origpos=\",card4origposx,card4origposy)\r\n\r\n        this.card1.stopAllActions()\r\n        this.card2.stopAllActions()\r\n        this.card3.stopAllActions()\r\n        this.card4.stopAllActions()\r\n        if(eid==0){//各回各家\r\n \r\n\r\n            A_act1=cc.moveTo(1,cc.v2(x1,y1))\r\n            A_act2=cc.moveTo(1,cc.v2(x1,y1))\r\n\r\n            A_act3=cc.moveTo(1,cc.v2(x2,y2))\r\n            A_act4=cc.moveTo(1,cc.v2(x2,y2))\r\n        }\r\n        else if(eid==KBEngine.app.player().id){\r\n            cc.log(\"eid==KBEngine.app.player().id,moveto seat1\",eid,KBEngine.app.player().id)\r\n            A_act1=cc.moveTo(1,cc.v2(x1,y1))\r\n            A_act2=cc.moveTo(1,cc.v2(x1,y1))\r\n            A_act3=cc.moveTo(1,cc.v2(x1,y1))\r\n            A_act4=cc.moveTo(1,cc.v2(x1,y1))\r\n\r\n        }\r\n        else{\r\n            cc.log(\"eid!=KBEngine.app.player().id,moveto seat2\",eid,KBEngine.app.player().id)\r\n            A_act1=cc.moveTo(1,cc.v2(x2,y2))\r\n            A_act2=cc.moveTo(1,cc.v2(x2,y2))\r\n            A_act3=cc.moveTo(1,cc.v2(x2,y2))\r\n            A_act4=cc.moveTo(1,cc.v2(x2,y2))\r\n        }\r\n        var self=this;\r\n\r\n        this.card1num=2+parseInt((card01+1000-1061)/4)  //1,2,3,4\r\n        this.card2num=2+parseInt((card02+1000-1061)/4)\r\n        this.card3num=2+parseInt((card03+1000-1061)/4)\r\n        this.card4num=2+parseInt((card04+1000-1061)/4)\r\n        if (this.card1num>10) {this.card1num=1}\r\n        if (this.card2num>10) {this.card2num=1}\r\n        if (this.card3num>10) {this.card3num=1}\r\n        if (this.card4num>10) {this.card4num=1}\r\n\r\n        var funcount1=cc.callFunc(function(target){\r\n            this.seat1.getComponent(\"Seat\").refreshcount1()\r\n            this.seat2.getComponent(\"Seat\").refreshcount1()\r\n        }, this);\r\n\r\n        var funcount2=cc.callFunc(function(target){\r\n            this.seat1.getComponent(\"Seat\").refreshcount2()\r\n            this.seat2.getComponent(\"Seat\").refreshcount2()\r\n        }, this);\r\n\r\n        var self=this\r\n        var fun1=cc.callFunc(function(target){\r\n            target.x=x1,\r\n            target.y=y1;\r\n            card01=card01+1000;\r\n            var url=\"card_\"+card01+\"@2x\"\r\n            target.getComponent(cc.Sprite).spriteFrame=self.node.getChildByName(url).getComponent(cc.Sprite).spriteFrame\r\n            /*\r\n            cc.loader.loadRes(url,cc.SpriteFrame,function(err,spriteFrame) {\r\n            self.card1.getComponent(cc.Sprite).spriteFrame= spriteFrame\r\n            }); */\r\n        }, this.card1);\r\n       \r\n        \r\n        var fun2=cc.callFunc(function(target){\r\n            target.x=x1\r\n            target.y=y1\r\n            card02=card02+1000;\r\n            var url=\"card_\"+card02+\"@2x\"\r\n            target.getComponent(cc.Sprite).spriteFrame=self.node.getChildByName(url).getComponent(cc.Sprite).spriteFrame\r\n        }, this.card2);\r\n        var fun3=cc.callFunc(function(target){\r\n            target.x=x2\r\n            target.y=y2\r\n            card03=card03+1000;\r\n            var url=\"card_\"+card03+\"@2x\"\r\n            target.getComponent(cc.Sprite).spriteFrame=self.node.getChildByName(url).getComponent(cc.Sprite).spriteFrame\r\n        }, this.card3);\r\n        var fun4=cc.callFunc(function(target){\r\n            target.x=x2\r\n            target.y=y2\r\n            card04=card04+1000;\r\n            var url=\"card_\"+card04+\"@2x\"\r\n            target.getComponent(cc.Sprite).spriteFrame=self.node.getChildByName(url).getComponent(cc.Sprite).spriteFrame\r\n        }, this.card4);\r\n\r\n        var fun11=cc.callFunc(function(target){\r\n            target.x=card1origposx\r\n            target.y=card1origposy\r\n        }, this.card1);\r\n        \r\n        var fun22=cc.callFunc(function(target){\r\n            target.x=card2origposx\r\n            target.y=card2origposy\r\n        }, this.card2);\r\n        var fun33=cc.callFunc(function(target){\r\n            target.x=card3origposx\r\n            target.y=card3origposy\r\n        }, this.card3);\r\n        var fun44=cc.callFunc(function(target){\r\n            target.x=card4origposx\r\n            target.y=card4origposy\r\n        }, this.card4);\r\n\r\n        B_act1=cc.moveTo(1,cc.v2(card1origposx,card1origposy))\r\n        B_act2=cc.moveTo(1,cc.v2(card2origposx,card2origposy))\r\n        B_act3=cc.moveTo(1,cc.v2(card3origposx,card3origposy))\r\n        B_act4=cc.moveTo(1,cc.v2(card4origposx,card4origposy))\r\n\r\n        if(eid==12345){//各回各家2张\r\n            this.card1.runAction(cc.sequence(fun1,B_act1,fun11,funcount2))\r\n            this.card2.runAction(cc.sequence(fun2,B_act2,fun22,funcount2))\r\n            this.card3.runAction(cc.sequence(fun3,B_act3,fun33,funcount2))\r\n            this.card4.runAction(cc.sequence(fun4,B_act4,fun44,funcount2))\r\n\r\n        }\r\n        else{ //一家四张\r\n            this.card1.runAction(cc.sequence(A_act1,fun1,funcount1,cc.delayTime(1),B_act1,fun11,funcount2))\r\n            this.card2.runAction(cc.sequence(A_act2,fun2,funcount1,cc.delayTime(1),B_act2,fun22,funcount2))\r\n            this.card3.runAction(cc.sequence(A_act3,fun3,funcount1,cc.delayTime(1),B_act3,fun33,funcount2))\r\n            this.card4.runAction(cc.sequence(A_act4,fun4,funcount1,cc.delayTime(1),B_act4,fun44,funcount2))\r\n        }\r\n\r\n        /////////////////////////////\r\n\r\n        cc.log(\"wwwwwwnewTurn\",avatar.id, second,card01,card02,card03,card04)\r\n\r\n        this.opt.active=true\r\n        this.act=[]\r\n  \r\n       \r\n    },\r\n\r\n    onGameOver: function(avatarID, isWin, hp, totalTime, totalHarm, score) {\r\n        if(avatarID == KBEngine.app.player().id) {\r\n            HP = hp;\r\n            TOTAL_TIME = totalTime;\r\n            OtherHP = totalHarm;\r\n            SCORE = score;\r\n            LVlevel=Math.round(100*SCORE)\r\n            this.unInstallEvents();\r\n            if(isWin) {\r\n                cc.director.loadScene(\"WinScene\");\r\n            } else {\r\n                cc.director.loadScene(\"LoseScene\");\r\n            }\r\n        }\r\n        //cc.log(\"8888888888888888888888888888888888888888888888888888888888888888888888888888888888888\")\r\n        //this.disEnableControlPlayer();\r\n        //this.unInstallEvents();\r\n        this.player = null;\r\n    },\r\n    invatefriend:function(){\r\n        //this.yaoqing.active=false\r\n        var self=this;\r\n        wx.shareAppMessage({\r\n            title: self.RoomID.string,\r\n            imageUrl: SHARE_PICTURE,\r\n            //query: \"Roomid=\" + self.roomKeyc + \"&UserName=\" + KBEngine.app.entities[KBEngine.app.player().id].accountName,// 别人点击链接时会得到的数据\r\n            //query: \"nick=\" + nick + \"&gender=\" + gender + \"&city=\" + city,\r\n            query:\"Roomid=\"+ self.roomKeyc+\"&UserName=\"+ KBEngine.app.entities[KBEngine.app.player().id].accountName,\r\n            success(res) {               \r\n               \r\n                \r\n                cc.log(\"分享成功\" + res);\r\n                this.yaoqing.active=false               \r\n                \r\n    \r\n            },\r\n            fail(res) {\r\n                cc.log(\"分享失败\" + res);\r\n                //this.yaoqing.active=true\r\n            }\r\n            \r\n        });\r\n    },\r\n    createPlayer: function(avatar) {\r\n       // SCALE=1;\r\n        cc.log(\"new createPlayer this.player=，avatar.modelID=\",this.player,avatar.modelID )\r\n\r\n        if(!this.player) {\r\n            if(avatar.id==KBEngine.app.player().id) {\r\n                this.seat1.active=true\r\n                this.seat1.getComponent(\"Seat\")._userName=avatar.accountName\r\n                this.seat1.getComponent(\"Seat\").avatarUrl=avatar.avatarUrl\r\n                //this.seat1.getComponent(\"Seat\")._isReady=true\r\n                this.seat1.getComponent(\"Seat\").refresh();\r\n                this.player =  this.seat1;\r\n                //this.entities[avatar.id]=this.player \r\n            }else{\r\n                this.seat2.active=true\r\n                //this.seat2.getComponent(\"Seat\")._isReady=true\r\n                this.seat2.getComponent(\"Seat\")._userName=avatar.accountName\r\n                this.seat2.getComponent(\"Seat\").avatarUrl=avatar.avatarUrl\r\n                this.seat2.getComponent(\"Seat\").refresh();\r\n                this.player =  this.seat2;\r\n                //this.entities[avatar.id]=this.player \r\n            }\r\n            //var ctrl= this.player.addComponent(\"AvatarControl\");\r\n            //var action= this.player.addComponent(\"AvatarAction\");\r\n            this.player.setPosition(avatar.position.x*SCALE, avatar.position.z*SCALE);\r\n            //this.entities[avatar.id] = this.player;\r\n        }\r\n        cc.log(\"after createPlayer this.player=，avatar.modelID=\",this.player,avatar.modelID )\r\n    },\r\n\r\n    onAvatarContinueGame: function(avatar) {\r\n       this.createPlayer(avatar);\r\n    },\r\n});\r\n"]}