{"version":3,"sources":["assets\\scripts\\cc_scripts\\WorldScene.js"],"names":["KBEngine","require","bindjs","cc","Class","Component","properties","seat1","type","Node","seat2","showwangfa","window","AudioMgr","playSFX","introduce","active","hidewangfa","showsetting","isshowsetting","settingNode","showchat","isshowchat","chatNode","log","onLoad","roomKeyc","installEvents","RoomID","find","getComponent","Label","yaoqing","node","getChildByName","matching","stopAllActions","action1","fadeIn","action2","fadeOut","repeat","repeatForever","sequence","runAction","playBGM","_timeLabel","sys","platform","WECHAT_GAME","enableWxShare","card1","card2","card3","card4","opt","label","act","card1num","card2num","card3num","card4num","lasttouchcard","on","EventType","TOUCH_END","onTouchEndedcard1","onTouchEndedcard2","onTouchEndedcard3","onTouchEndedcard4","card1selected","card2selected","card3selected","card4selected","gameState","clock","sp","i","card1origpos","position","card2origpos","card3origpos","card4origpos","delta","Sprite","spriteFrame","getOriginalSize","height","out","v2","seat1cardpos","convertToWorldSpaceAR","convertToNodeSpaceAR","y","seat2cardpos","gameHint","opacity","length","setScale","push","getBatteryPercent","isNative","os","OS_ANDROID","jsb","reflection","callStaticMethod","ANDROID_API","OS_IOS","IOS_API","update","dt","string","join","minutes","Math","floor","Date","now","_lastMinute","date","h","getHours","m","getMinutes","power","scaleX","onaddact","onreduceact","onmulact","ondivact","onlefact","onrigact","ondelact","num","pop","onsureact","action","fadeTo","str","res","eval2","player","app","pickUped","event","Event","register","entity_updateroomkey","avatar","wx","showShareMenu","loader","loadRes","err","data","onShareAppMessage","title","imageUrl","url","success","fail","enablePhysicManager","director","getPhysicsManager","enabled","manager","getCollisionManager","enablePhysicsDebugDraw","enabledDebugDraw","enabledDrawBoundingBox","debugDrawFlags","PhysicsManager","DrawBits","e_centerOfMassBit","e_shapeBit","e_rayCast","unInstallEvents","deregister","onjoinPrivateRoom","loadScene","loginres","onquick_chat","eid","idx","strstr","getQuickChatInfo","id","chat","onemoji","name","emoji","oniptChat","playerReadyStateChange","state","_isReady","refresh","onupdateGamestates","curID","time","newTurn","updategamestuts","onotherNetcut","entities","accountName","onsyncsureact","strs","onDisconnected","INFO_MSG","reloginBaseapp","onReloginBaseappTimer","self","reloginCount","onReloginBaseappFailed","failedcode","serverErr","onReloginBaseappSuccessfully","onConnectionState","ERROR_MSG","ip","port","reqChangeReadyState","setReady","entity_updateholds","holds","entity","className","_holds","game_begin_push","onEnterWorld","isPlayer","ae","_userName","avatarUrl","onEnterWorld2","entityID","onLeaveWorld","onAvatarEnterWorld","createPlayer","updatePosition","set_position","setCameraTarget","checkPlayerHasItem","left","second","card01","card02","card03","card04","isGameStart","setGameStart","A_act1","A_act2","A_act3","A_act4","B_act1","B_act2","B_act3","B_act4","x1","x","y1","x2","y2","card1origposx","card1origposy","card2origposx","card2origposy","card3origposx","card3origposy","card4origposx","card4origposy","moveTo","parseInt","funcount1","callFunc","target","refreshcount1","funcount2","refreshcount2","fun1","fun2","fun3","fun4","fun11","fun22","fun33","fun44","delayTime","onGameOver","avatarID","isWin","hp","totalTime","totalHarm","score","HP","TOTAL_TIME","OtherHP","SCORE","LVlevel","round","invatefriend","selff","shareAppMessage","query","modelID","setPosition","SCALE","z","onAvatarContinueGame"],"mappings":"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","sourceRoot":"/","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\n\r\nvar KBEngine = require(\"kbengine\");\r\n//var bindjs=require(\"eval\")\r\nvar bindjs=require(\"eval2\")\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n    \r\n    properties: {\r\n        seat1: {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n\r\n        seat2: {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n    },\r\n    showwangfa:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        this.introduce.active=true\r\n    },\r\n    hidewangfa:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        this.introduce.active=false\r\n    },\r\n    showsetting:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        this.isshowsetting = !this.settingNode.active;\r\n        this.settingNode.active = this.isshowsetting;\r\n\r\n    },\r\n    showchat:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        this.isshowchat = !this.chatNode.active;\r\n        this.chatNode.active = this.isshowchat;\r\n        cc.log(\"showchat\")\r\n\r\n    },\r\n    onLoad () {\r\n        this.roomKeyc=\"\"\r\n        this.installEvents();\r\n        this.RoomID=cc.find(\"Canvas/bg2/RoomID\").getComponent(cc.Label)\r\n\r\n        this.yaoqing=cc.find(\"Canvas/bg2/yaoqing\")\r\n        this.yaoqing.active=false\r\n\r\n        this.introduce=this.node.getChildByName(\"introduce\")\r\n        this.introduce.active=false\r\n\r\n        if(window.type==1){\r\n            this.matching=this.node.getChildByName(\"bg2\").getChildByName(\"matching\")\r\n            \r\n        }\r\n        else{\r\n            this.matching=this.node.getChildByName(\"bg2\").getChildByName(\"matching2\")\r\n        }\r\n        //this.node.getChildByName(\"bg2\").getChildByName(\"matching\").active=true\r\n        this.matching.active=true\r\n        this.matching.stopAllActions()\r\n        var action1 = cc.fadeIn(0.5);//渐显\r\n        var action2 = cc.fadeOut(0.5);//渐隐效果\r\n        var repeat=cc.repeatForever(cc.sequence(action2,action1))\r\n        this.matching.runAction(repeat);\r\n       window.AudioMgr.playBGM(\"bgBet\")\r\n\r\n        this._timeLabel = cc.find(\"Canvas/bg2/time\").getComponent(cc.Label);\r\n        this.isshowsetting=false\r\n        //this.settingNode=cc.instantiate(this.setting)\r\n        //this.node.addChild(this.settingNode)\r\n        //this.settingNode=this.node.getChildByName(\"bg2\").getChildByName(\"settings\")\r\n        this.settingNode=cc.find(\"Canvas/settings\")\r\n        this.settingNode.active = this.isshowsetting;\r\n\r\n        this.isshowchat=false\r\n        //this.chatNode=cc.instantiate(this.chat)\r\n        //this.node.addChild(this.chatNode)\r\n        this.chatNode=cc.find(\"Canvas/chat\")\r\n        this.chatNode.active = this.isshowchat;\r\n        \r\n        if(cc.sys.platform == cc.sys.WECHAT_GAME) {\r\n            this.enableWxShare();\r\n        }\r\n        this.card1=this.node.getChildByName(\"card1\")\r\n        this.card2=this.node.getChildByName(\"card2\")\r\n        this.card3=this.node.getChildByName(\"card3\")\r\n        this.card4=this.node.getChildByName(\"card4\")\r\n        this.card1.active=false;\r\n        this.card2.active=false;\r\n        this.card3.active=false;\r\n        this.card4.active=false;\r\n        this.opt=this.node.getChildByName(\"bg2\").getChildByName(\"opt\")\r\n        this.opt.active=false;\r\n\r\n        this.label=this.node.getChildByName(\"bg2\").getChildByName(\"expstr\").getComponent(cc.Label)\r\n        this.act=[]\r\n        this.card1num=0;\r\n        this.card2num=0;\r\n        this.card3num=0;\r\n        this.card4num=0;\r\n\r\n        this.lasttouchcard=null\r\n\r\n        this.card1.on(cc.Node.EventType.TOUCH_END, this.onTouchEndedcard1, this);\r\n        this.card2.on(cc.Node.EventType.TOUCH_END, this.onTouchEndedcard2, this);\r\n        this.card3.on(cc.Node.EventType.TOUCH_END, this.onTouchEndedcard3, this);\r\n        this.card4.on(cc.Node.EventType.TOUCH_END, this.onTouchEndedcard4, this);\r\n\r\n        this.card1selected=false\r\n        this.card2selected=false\r\n        this.card3selected=false\r\n        this.card4selected=false\r\n\r\n\r\n\r\n        this.gameState = this.node.getComponent(\"GameState\");\r\n        this.clock=this.node.getChildByName(\"bg2\").getChildByName(\"clock\")\r\n        this.clock.active=false;\r\n\r\n        var sp=null\r\n        for(var i=1061;i<1115;i++){\r\n            sp=this.node.getChildByName(\"card_\"+i+\"@2x\")\r\n            sp.active=false;\r\n        }\r\n        this.card1origpos=this.card1.position\r\n        this.card2origpos=this.card2.position\r\n        this.card3origpos=this.card3.position\r\n        this.card4origpos=this.card4.position\r\n        \r\n\r\n        window.delta=this.node.getChildByName(\"bg2\").getChildByName(\"seat1\").getChildByName(\"card\").getComponent(cc.Sprite).spriteFrame.getOriginalSize().height*0.8\r\n        //\r\n        var out=cc.v2(0, 0)\r\n        //var seat1cardpos=cc.v2(0, 0)\r\n        var seat1cardpos=this.node.getChildByName(\"bg2\").getChildByName(\"seat1\").getChildByName(\"card\").position\r\n        this.node.getChildByName(\"bg2\").getChildByName(\"seat1\").convertToWorldSpaceAR (seat1cardpos, out)\r\n        this.seat1cardpos=this.node.convertToNodeSpaceAR(out)\r\n        this.seat1cardpos.y=this.seat1cardpos.y-this.node.getChildByName(\"bg2\").getChildByName(\"seat1\").getChildByName(\"card\").getComponent(cc.Sprite).spriteFrame.getOriginalSize().height*0.8\r\n        //this.node.getChildByName(\"bg2\").getChildByName(\"seat1\").y=this.node.getChildByName(\"bg2\").getChildByName(\"seat1\").y+window.delta\r\n        //var seat2cardpos=cc.v2(0, 0)\r\n        out=cc.v2(0, 0)\r\n        var seat2cardpos=this.node.getChildByName(\"bg2\").getChildByName(\"seat2\").getChildByName(\"card\").position\r\n        this.node.getChildByName(\"bg2\").getChildByName(\"seat2\").convertToWorldSpaceAR (seat2cardpos, out)\r\n        this.seat2cardpos=this.node.convertToNodeSpaceAR(out)\r\n\r\n\r\n        this.gameHint=this.node.getChildByName(\"gameHint\").getComponent(cc.Label)\r\n        this.gameHint.node.opacity=0;\r\n        this.gameHint.node.active=false;\r\n\r\n        this.seat1= this.node.getChildByName(\"bg2\").getChildByName(\"seat1\")\r\n        this.seat1.active=false\r\n        this.seat2= this.node.getChildByName(\"bg2\").getChildByName(\"seat2\")\r\n        this.seat2.active=false\r\n        if(cc.sys.platform == cc.sys.WECHAT_GAME) {\r\n            this.enableWxShare();\r\n            if(window.type==2)\r\n                this.yaoqing.active=true\r\n        }\r\n    },\r\n    onTouchEndedcard1:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        if(this.act.length-1>=0){\r\n            if(this.act[this.act.length-1]==this.card1num ||this.act[this.act.length-1]==this.card2num||this.act[this.act.length-1]==this.card3num||this.act[this.act.length-1]==this.card4num)\r\n            return\r\n        }\r\n        if(this.card1selected==false){\r\n            this.lasttouchcard=this.card1\r\n            this.card1selected=true\r\n            this.card1.setScale(1)\r\n            this.act.push(this.card1num)\r\n        }\r\n    },\r\n    onTouchEndedcard2:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        if(this.act.length-1>=0){\r\n            if(this.act[this.act.length-1]==this.card1num ||this.act[this.act.length-1]==this.card2num||this.act[this.act.length-1]==this.card3num||this.act[this.act.length-1]==this.card4num)\r\n            return\r\n        }\r\n        if(this.card2selected==false){\r\n            this.card2selected=true\r\n            this.card2.setScale(1)\r\n            this.act.push(this.card2num)\r\n            this.lasttouchcard=this.card2\r\n        }\r\n\r\n    },\r\n    onTouchEndedcard3:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        if(this.act.length-1>=0){\r\n            if(this.act[this.act.length-1]==this.card1num ||this.act[this.act.length-1]==this.card2num||this.act[this.act.length-1]==this.card3num||this.act[this.act.length-1]==this.card4num)\r\n            return\r\n        }\r\n        if(this.card3selected==false){\r\n            this.card3selected=true\r\n            this.card3.setScale(1)\r\n            this.act.push(this.card3num)\r\n            this.lasttouchcard=this.card3\r\n        }\r\n\r\n    },\r\n    onTouchEndedcard4:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        if(this.act.length-1>=0){\r\n            if(this.act[this.act.length-1]==this.card1num ||this.act[this.act.length-1]==this.card2num||this.act[this.act.length-1]==this.card3num||this.act[this.act.length-1]==this.card4num)\r\n            return\r\n        }\r\n        if(this.card4selected==false){\r\n            this.card4selected=true\r\n            this.card4.setScale(1)\r\n            this.act.push(this.card4num)\r\n            this.lasttouchcard=this.card4\r\n        }\r\n    },\r\n    getBatteryPercent:function(){\r\n        if(cc.sys.isNative){\r\n            if(cc.sys.os == cc.sys.OS_ANDROID){\r\n                return jsb.reflection.callStaticMethod(this.ANDROID_API, \"getBatteryPercent\", \"()F\");\r\n            }\r\n            else if(cc.sys.os == cc.sys.OS_IOS){\r\n                return jsb.reflection.callStaticMethod(this.IOS_API, \"getBatteryPercent\");\r\n            }            \r\n        }\r\n        return 0.9;\r\n    },\r\n    update: function (dt) {\r\n        this.label.string=this.act.join(\"\")\r\n        var minutes = Math.floor(Date.now()/1000/60);\r\n        if(this._lastMinute != minutes){\r\n            this._lastMinute = minutes;\r\n            var date = new Date();\r\n            var h = date.getHours();\r\n            h = h < 10? \"0\"+h:h;\r\n            \r\n            var m = date.getMinutes();\r\n            m = m < 10? \"0\"+m:m;\r\n            this._timeLabel.string = \"\" + h + \":\" + m;             \r\n        }\r\n\r\n        var power = cc.find(\"Canvas/bg2/power\")\r\n        power.scaleX = this.getBatteryPercent();\r\n\r\n        \r\n    },\r\n    onaddact:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        this.act.push(\"+\")\r\n\r\n    },\r\n    onreduceact:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        this.act.push(\"-\")\r\n\r\n    },\r\n    onmulact:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        this.act.push(\"*\")\r\n\r\n    },\r\n    ondivact:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        this.act.push(\"/\")\r\n\r\n    },\r\n    onlefact:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        this.act.push(\"(\")\r\n\r\n    },\r\n    onrigact:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        this.act.push(\")\")\r\n\r\n    },\r\n    ondelact:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        var num=this.act.pop()\r\n        if(this.lasttouchcard==null){\r\n            return\r\n        }\r\n        this.lasttouchcard.setScale(0.8)\r\n        if(this.lasttouchcard==this.card1) this.card1selected=false\r\n        if(this.lasttouchcard==this.card2) this.card2selected=false\r\n        if(this.lasttouchcard==this.card3) this.card3selected=false\r\n        if(this.lasttouchcard==this.card4) this.card4selected=false\r\n        this.lasttouchcard=null\r\n\r\n    },\r\n    onsureact:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        if(this.card1selected==false||this.card2selected==false||this.card3selected==false||this.card4selected==false){\r\n            this.gameHint.node.active=true\r\n            this.gameHint.string = \"四张牌都必须使用一次，请重新计算\";\r\n            this.gameHint.node.opacity=255\r\n            var action = cc.fadeTo(8.0, 0);\r\n            this.gameHint.node.runAction(action);\r\n\r\n            this.card1selected=false\r\n            this.card2selected=false\r\n            this.card3selected=false\r\n            this.card4selected=false\r\n    \r\n            this.card1.setScale(0.8)\r\n            this.card2.setScale(0.8)\r\n            this.card3.setScale(0.8)\r\n            this.card4.setScale(0.8)\r\n            this.act=[]\r\n            return\r\n        }\r\n            \r\n        //window.AudioMgr.playSFX(\"ui_click\")\r\n        this.card1selected=false\r\n        this.card2selected=false\r\n        this.card3selected=false\r\n        this.card4selected=false\r\n\r\n        this.card1.setScale(0.8)\r\n        this.card2.setScale(0.8)\r\n        this.card3.setScale(0.8)\r\n        this.card4.setScale(0.8)\r\n\r\n        var str=this.act.join(\"\")\r\n        var res=0;\r\n        try{\r\n            //var res=eval(str);\r\n            //var res= window.binding.eval(str)\r\n            res=window.eval2(str)\r\n            //cc.log(\"ttttttttttttttt\",res)\r\n        }\r\n        catch{\r\n            //res=\"syntax error\"\r\n            this.gameHint.node.active=true\r\n            this.gameHint.string = \"输入无效，请重新计算\";\r\n            this.gameHint.node.opacity=255\r\n            var action = cc.fadeTo(8.0, 0);\r\n            this.gameHint.node.runAction(action);\r\n            this.act=[]\r\n        }\r\n        //alert();\r\n        this.act=[]\r\n        //this.act.push(res)\r\n        if(res==24){\r\n            var player = KBEngine.app.player();\r\n            if(player){\r\n                player.onsureact(str)\r\n            }\r\n\r\n        }\r\n        else{\r\n            this.gameHint.node.active=true\r\n            this.gameHint.string = \"计算结果为\" + res + \"不正确，请重新计算\";\r\n            this.gameHint.node.opacity=255\r\n            var action = cc.fadeTo(8.0, 0);\r\n            this.gameHint.node.runAction(action);\r\n        }\r\n        //cc.log(\"submit=\",res)\r\n\r\n    },\r\n    pickUped:function(event){\r\n        //cc.log(\"worldsence.pickuped\")\r\n\r\n    },\r\n    installEvents : function() {\r\n        KBEngine.Event.register(\"onAvatarEnterWorld\", this, \"onAvatarEnterWorld\");\r\n        KBEngine.Event.register(\"onEnterWorld\", this, \"onEnterWorld\");\r\n        KBEngine.Event.register(\"onLeaveWorld\", this, \"onLeaveWorld\");\r\n        KBEngine.Event.register(\"game_begin_push\", this, \"game_begin_push\");\r\n        KBEngine.Event.register(\"entity_updateholds\", this, \"entity_updateholds\");\r\n        KBEngine.Event.register(\"newTurn\", this, \"newTurn\");\r\n        KBEngine.Event.register(\"playerReadyStateChange\", this, \"playerReadyStateChange\");\r\n        KBEngine.Event.register(\"onotherNetcut\", this, \"onotherNetcut\");\r\n        KBEngine.Event.register(\"onGameOver\", this, \"onGameOver\");\r\n\r\n        KBEngine.Event.register(\"onDisconnected\", this, \"onDisconnected\");\r\n\t\tKBEngine.Event.register(\"onConnectionState\", this, \"onConnectionState\");\r\n\t\tKBEngine.Event.register(\"onReloginBaseappFailed\", this, \"onReloginBaseappFailed\");\r\n        KBEngine.Event.register(\"onReloginBaseappSuccessfully\", this, \"onReloginBaseappSuccessfully\");\r\n\r\n        KBEngine.Event.register(\"onAvatarContinueGame\", this, \"onAvatarContinueGame\");\r\n\r\n        KBEngine.Event.register(\"onquick_chat\", this, \"onquick_chat\");\r\n        KBEngine.Event.register(\"onemoji\", this, \"onemoji\");\r\n        KBEngine.Event.register(\"oniptChat\", this, \"oniptChat\");\r\n\r\n        KBEngine.Event.register(\"onEnterWorld2\", this, \"onEnterWorld2\");\r\n        KBEngine.Event.register(\"updategamestuts\", this, \"updategamestuts\");\r\n        KBEngine.Event.register(\"entity_updateroomkey\", this, \"entity_updateroomkey\");\r\n        \r\n        KBEngine.Event.register(\"onsyncsureact\", this, \"onsyncsureact\");\r\n        KBEngine.Event.register(\"onjoinPrivateRoom\", this, \"onjoinPrivateRoom\");\r\n        \r\n    },\r\n    entity_updateroomkey:function(roomKeyc,avatar){\r\n        cc.log(\"entity_updateroomkeyentity_updateroomkey=\",roomKeyc)\r\n        this.RoomID.string=\"房间号:\"+roomKeyc.join(\"\")\r\n        this.roomKeyc=roomKeyc.join(\"\")\r\n\r\n    },\r\n    enableWxShare: function () {\r\n        wx.showShareMenu();\r\n\r\n        cc.loader.loadRes(\"sound/share\",function(err,data){\r\n           // wx.shareAppMessage({   //打开小游戏自动分享\r\n           wx.onShareAppMessage(function(res){\r\n               return{\r\n                title: \"24点 智力小PK\",\r\n                imageUrl: data.url,\r\n                //query: \"Roomid=\" + self.roomKeyc + \"&UserName=\" + KBEngine.app.entities[KBEngine.app.player().id].accountName,// 别人点击链接时会得到的数据\r\n                //query: \"nick=\" + nick + \"&gender=\" + gender + \"&city=\" + city,\r\n                //query:\"Roomid=\"+ self.roomKeyc+\"&UserName=\"+ KBEngine.app.entities[KBEngine.app.player().id].accountName,\r\n                success(res) {               \r\n                   \r\n                    \r\n                    cc.log(\"分享成功\" + res);\r\n                    //this.yaoqing.active=false                      \r\n                },\r\n                fail(res) {\r\n                    cc.log(\"分享失败\" + res);\r\n                    //this.yaoqing.active=true\r\n                }\r\n            }\r\n                \r\n            });\r\n        });\r\n     },\r\n\r\n    enablePhysicManager: function () {\r\n        //cc.log(\"test1\")\r\n        //cc.director.getCollisionManager().enabled = true;\r\n        //cc.director.getPhysicsManager().enabled = true;\r\n\r\n        cc.director.getPhysicsManager().enabled =true;\r\n        var manager = cc.director.getCollisionManager();\r\n        manager.enabled = true;\r\n    },\r\n\r\n    enablePhysicsDebugDraw: function() {\r\n        cc.log(\"test2\")\r\n        var manager = cc.director.getCollisionManager();\r\n        manager.enabledDebugDraw = true;\r\n        manager.enabledDrawBoundingBox = true;\r\n\r\n        cc.director.getPhysicsManager().debugDrawFlags =\r\n            // cc.PhysicsManager.DrawBits.e_aabbBit |\r\n            // cc.PhysicsManager.DrawBits.e_pairBit |\r\n            cc.PhysicsManager.DrawBits.e_centerOfMassBit |\r\n            // cc.PhysicsManager.DrawBits.e_jointBit |\r\n            cc.PhysicsManager.DrawBits.e_shapeBit |\r\n            cc.PhysicsManager.DrawBits.e_rayCast;\r\n    },\r\n\r\n    \r\n\r\n    unInstallEvents: function() {\r\n        KBEngine.Event.deregister(\"onAvatarEnterWorld\", this, \"onAvatarEnterWorld\");\r\n        KBEngine.Event.deregister(\"onEnterWorld\", this, \"onEnterWorld\");\r\n        KBEngine.Event.deregister(\"onLeaveWorld\", this, \"onLeaveWorld\");\r\n        KBEngine.Event.deregister(\"game_begin_push\", this, \"game_begin_push\");\r\n        KBEngine.Event.deregister(\"entity_updateholds\", this, \"entity_updateholds\");\r\n        KBEngine.Event.deregister(\"newTurn\", this, \"newTurn\");\r\n        KBEngine.Event.deregister(\"playerReadyStateChange\", this, \"playerReadyStateChange\");\r\n        KBEngine.Event.deregister(\"onotherNetcut\", this);\r\n        KBEngine.Event.deregister(\"onGameOver\", this);\r\n        KBEngine.Event.deregister(\"onDisconnected\", this, \"onDisconnected\");\r\n\t\tKBEngine.Event.deregister(\"onConnectionState\", this, \"onConnectionState\");\r\n\t\tKBEngine.Event.deregister(\"onReloginBaseappFailed\", this, \"onReloginBaseappFailed\");\r\n        KBEngine.Event.deregister(\"onReloginBaseappSuccessfully\", this, \"onReloginBaseappSuccessfully\");\r\n        KBEngine.Event.deregister(\"onAvatarContinueGame\", this, \"onAvatarContinueGame\");\r\n\r\n        KBEngine.Event.deregister(\"onquick_chat\", this, \"onquick_chat\");\r\n        KBEngine.Event.deregister(\"onemoji\", this, \"onemoji\");\r\n        KBEngine.Event.deregister(\"oniptChat\", this, \"oniptChat\");\r\n\r\n        KBEngine.Event.deregister(\"onEnterWorld2\", this, \"onEnterWorld2\");\r\n        KBEngine.Event.deregister(\"updategamestuts\", this, \"updategamestuts\");\r\n        KBEngine.Event.deregister(\"entity_updateroomkey\", this, \"entity_updateroomkey\");\r\n\r\n        KBEngine.Event.deregister(\"onsyncsureact\", this, \"onsyncsureact\");\r\n        KBEngine.Event.deregister(\"onjoinPrivateRoom\", this, \"onjoinPrivateRoom\");\r\n    },\r\n    onjoinPrivateRoom:function(num){\r\n\r\n        cc.director.loadScene(\"StartScene\", () => {\r\n            window.loginres=num\r\n            cc.log(\"startscene===>wordscene\")\r\n        });\r\n        this.unInstallEvents();\r\n        \r\n    },\r\n    onquick_chat:function(eid,idx){\r\n        //cc.log(\"7777777777777777777777777777777777777777quick_chat=\",eid,idx)\r\n        var strstr=this.node.getComponent(\"Chat\").getQuickChatInfo(idx)[\"content\"]\r\n        //cc.log(\"888888888888888888888888888888888888quick_chat=\",strstr)\r\n        if(KBEngine.app.player().id==eid) {\r\n            this.seat1.getComponent(\"Seat\").chat(strstr)\r\n            //this.seat1.getComponent(\"Seat\").refresh();  \r\n        }\r\n        else{\r\n            this.seat2.getComponent(\"Seat\").chat(strstr)\r\n            //this.seat2.getComponent(\"Seat\").refresh();  \r\n        }\r\n    },\r\n    onemoji:function(eid,name){\r\n        //cc.log(\"888888888888888888888888888888888888emoji=\",name)\r\n        if(KBEngine.app.player().id==eid) {\r\n            this.seat1.getComponent(\"Seat\").emoji(name)\r\n            //this.seat1.getComponent(\"Seat\").refresh();  \r\n        }\r\n        else{\r\n            this.seat2.getComponent(\"Seat\").emoji(name)\r\n            //this.seat2.getComponent(\"Seat\").refresh();  \r\n        }\r\n    },\r\n    oniptChat:function(eid,strstr){\r\n        //cc.log(\"888888888888888888888888888888888888eiptChat=\",strstr)\r\n        if(KBEngine.app.player().id==eid) {\r\n            this.seat1.getComponent(\"Seat\").chat(strstr)\r\n           // this.seat1.getComponent(\"Seat\").refresh();  \r\n        }\r\n        else{\r\n            this.seat2.getComponent(\"Seat\").chat(strstr)\r\n            //this.seat2.getComponent(\"Seat\").refresh();     \r\n        }\r\n    },\r\n    playerReadyStateChange:function(eid,state){\r\n        //cc.log(\"playerReadyStateChange\")\r\n        if(KBEngine.app.player().id==eid) {   \r\n            this.seat1.active=true \r\n            this.seat1.getComponent(\"Seat\")._isReady=true\r\n            this.seat1.getComponent(\"Seat\").refresh();  \r\n        }else{\r\n            this.seat2.active=true \r\n            this.seat2.getComponent(\"Seat\")._isReady=true\r\n            this.seat2.getComponent(\"Seat\").refresh();   \r\n        }    \r\n\r\n    },\r\n    onupdateGamestates:function(curID,time){\r\n        //cc.log(\"onupdateGamestates\")\r\n        this.newTurn(curID,time)\r\n\r\n    },\r\n    updategamestuts:function(num){\r\n        if(num==1){//服务器正在playing中\r\n            this.node.getChildByName(\"start\").active=false\r\n        }\r\n        else{//一局已结束\r\n            this.node.getChildByName(\"start\").active=true\r\n        }\r\n    },\r\n    onotherNetcut:function(curID){\r\n        cc.log(\"onotherNetcut。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。\")\r\n        if(curID==0){\r\n            this.gameHint.string = \"其他玩逃命，游戏马上结束.......\";\r\n            this.seat2.active=false;\r\n        }\r\n        else{\r\n            this.gameHint.node.active=true\r\n            this.gameHint.string = \"玩家\"+KBEngine.app.entities[curID].accountName +\"掉线，请等待.......\";\r\n        }\r\n        this.gameHint.node.opacity=255\r\n        var action = cc.fadeTo(13.0, 0);\r\n        this.gameHint.node.runAction(action);\r\n        //this.gameState.newTurn(15);\r\n        \r\n    },\r\n    onsyncsureact:function(strs){\r\n        cc.log(\"world::onsyncsureact\", strs)\r\n        //this.gameHint.node.opacity=255\r\n        //this.gameHint.string = strs\r\n        //var action = cc.fadeTo(8.0, 0);\r\n        //this.gameHint.node.runAction(action);\r\n    },\r\n    onDisconnected : function() {\r\n        KBEngine.INFO_MSG(\"disconnect! will try to reconnect...\");\r\n        //var action = cc.fadeTo(1.0, 0);\r\n        this.gameHint.node.opacity=255\r\n        this.gameHint.string = \"disconnect! will try to reconnect...\";\r\n        \r\n        //this.Destroyplayer()\r\n        KBEngine.app.reloginBaseapp();\r\n    },\r\n    \r\n    onReloginBaseappTimer : function(self) {\r\n        KBEngine.INFO_MSG(\"will try to reconnect(\" + this.reloginCount + \")...\");\r\n    },\r\n    \r\n    onReloginBaseappFailed : function(failedcode) {\r\n        KBEngine.INFO_MSG(\"reogin is failed(断线重连失败), err=\" + KBEngine.app.serverErr(failedcode));   \r\n    },\r\n        \r\n    onReloginBaseappSuccessfully : function(){\r\n        KBEngine.INFO_MSG(\"reogin is successfully!(断线重连成功!)\");\r\n        this.gameHint.node.opacity=255\t\r\n        this.gameHint.node.active=true\r\n        var action = cc.fadeTo(8.0, 0);\r\n        this.gameHint.string = \"reogin is successfully!(断线重连成功!)\";\r\n\r\n        this.gameHint.node.runAction(action);\r\n    },\r\n        \r\n    onConnectionState : function(success) {\r\n        if(!success) {\r\n            KBEngine.ERROR_MSG(\"Connect(\" + KBEngine.app.ip + \":\" + KBEngine.app.port + \") is error! (连接错误)\");\r\n            this.onDisconnected()\r\n        }\r\n        else {\r\n            KBEngine.INFO_MSG(\"Connect successfully, please wait...(连接成功，请等候...)\");\r\n        }\r\n    },\r\n    reqChangeReadyState:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        this.node.getChildByName(\"start\").active=false\r\n        var player = KBEngine.app.player();\r\n        if(player){\r\n            player.reqChangeReadyState()\r\n        }   \r\n        this.seat1.getComponent(\"Seat\").setReady(true)\r\n        this.seat1.getComponent(\"Seat\").refresh();    \r\n    },\r\n    entity_updateholds:function(holds,entity){\r\n        cc.log(\"entity_updateholds\",entity.id,holds)\r\n        if(entity.className == \"Avatar\") {\r\n            if(entity.id==KBEngine.app.player().id) {      \r\n                //this.seat1.active=true\r\n                this.seat1.getComponent(\"Seat\")._holds=holds\r\n                this.seat1.getComponent(\"Seat\").refresh();    \r\n            }else{  //scalex==-1,\r\n                //this.seat2.active=true\r\n                this.seat2.getComponent(\"Seat\")._holds=holds\r\n                this.seat2.getComponent(\"Seat\").refresh();    \r\n            }\r\n        }  \r\n    },\r\n    game_begin_push:function(entity){\r\n        cc.log(\"WorldScene::game_begin_push\")\r\n        //this.seat1.active=true\r\n        //this.seat2.active=true\r\n        //this.seat1.getComponent(\"Seat\")._holds=entity.holds\r\n        this.seat1.getComponent(\"Seat\")._isReady=false\r\n        this.seat1.getComponent(\"Seat\").refresh(); \r\n\r\n        this.seat2.getComponent(\"Seat\")._isReady=false\r\n        this.seat2.getComponent(\"Seat\").refresh();  \r\n    },\r\n    onEnterWorld: function (entity) {\r\n        //SCALE=1;\r\n        cc.log(\"onEnterWorld entity.id=\",entity.id)\r\n        if(!entity.isPlayer()) {\r\n            var ae = null;\r\n            if(KBEngine.app.player().id==entity.id) {    \r\n                    this.seat1.active=true\r\n                    //this.seat1.getComponent(\"Seat\")._isReady=false\r\n                    this.seat1.getComponent(\"Seat\")._userName=entity.accountName\r\n                    this.seat1.getComponent(\"Seat\").avatarUrl=entity.avatarUrl\r\n                    this.seat1.getComponent(\"Seat\").refresh();  \r\n                    //this.entities[entity.id] = entity;  \r\n                    cc.log(\"WorldScene::onEnterWorld=\",this.seat1.getComponent(\"Seat\")._isReady)\r\n            }else{  //scalex==-1,\r\n                    this.matching.active=false;\r\n                    this.seat2.active=true\r\n                    //this.seat2.getComponent(\"Seat\")._isReady=true\r\n                    this.seat2.getComponent(\"Seat\")._userName=entity.accountName\r\n                    this.seat2.getComponent(\"Seat\").avatarUrl=entity.avatarUrl\r\n                    this.seat2.getComponent(\"Seat\").refresh();   \r\n                    //this.entities[entity.id] = entity; \r\n                    cc.log(\"WorldScene::onEnterWorld=\",this.seat2.getComponent(\"Seat\")._isReady)\r\n                }    \r\n            }\r\n    },\r\n    \r\n    onEnterWorld2: function (entityID) {\r\n        cc.log(\"onEnterWorld2\")\r\n        var entity=KBEngine.app.entities[entityID]\r\n        //SCALE=1;\r\n        cc.log(\"onEnterWorld entity.id=\",entity.id)\r\n            if(KBEngine.app.player().id==entity.id) {    \r\n                    this.seat1.active=true\r\n                    //this.seat1.getComponent(\"Seat\")._isReady=false\r\n                    this.seat1.getComponent(\"Seat\")._userName=entity.accountName\r\n                    this.seat1.getComponent(\"Seat\").avatarUrl=entity.avatarUrl\r\n                    this.seat1.getComponent(\"Seat\").refresh();  \r\n                    //this.entities[entity.id] = entity;  \r\n                    cc.log(\"WorldScene::onEnterWorld=\",this.seat1.getComponent(\"Seat\")._isReady)\r\n            }else{  //scalex==-1,\r\n                    this.matching.active=false;\r\n                    this.seat2.active=true\r\n                    //this.seat2.getComponent(\"Seat\")._isReady=true\r\n                    this.seat2.getComponent(\"Seat\")._userName=entity.accountName\r\n                    this.seat2.getComponent(\"Seat\").avatarUrl=entity.avatarUrl\r\n                    this.seat2.getComponent(\"Seat\").refresh();   \r\n                    //this.entities[entity.id] = entity; \r\n                    cc.log(\"WorldScene::onEnterWorld=\",this.seat2.getComponent(\"Seat\")._isReady)\r\n                }    \r\n    },\r\n    onLeaveWorld: function (entity) {\r\n        cc.log(\"onLeaveWorld\",entity.id,entity.className)\r\n        this.matching.active=true;\r\n\r\n        this.matching.stopAllActions()\r\n        var action1 = cc.fadeIn(0.5);//渐显\r\n        var action2 = cc.fadeOut(0.5);//渐隐效果\r\n        var repeat=cc.repeatForever(cc.sequence(action1,action2))\r\n        this.matching.runAction(repeat);\r\n\r\n        this.seat2.active=false\r\n        /*\r\n        cc.log(\"onLeaveWorld\",entity.id,entity.className)\r\n        if(this.entities[entity.id] && entity.className == \"Avatar\"){\r\n            this.entities[entity.id].removeFromParent()\r\n            this.entities[entity.id]=null\r\n        }  \r\n        */    \r\n    },\r\n\r\n    onAvatarEnterWorld : function(avatar) {\r\n        cc.log(\"onAvatarEnterWorld\")\r\n        this.createPlayer(avatar);\r\n    },\r\n\r\n   \r\n    updatePosition : function(entity) {\r\n       \r\n    },\t  \r\n    \r\n    set_position: function(entity) {\r\n        \r\n    },\r\n\r\n    setCameraTarget: function(entityID){\r\n        \r\n       \r\n    },\r\n\r\n    checkPlayerHasItem: function(left) {\r\n        //cc.log(\"test14\")\r\n      \r\n    },\r\n\r\n    newTurn: function(avatar,eid, second,card01,card02,card03,card04){\r\n        //window.AudioMgr.stopBGM()\r\n        //window.AudioMgr.playSFX(\"turn\")\r\n\r\n        this.gameState.newTurn(second);\r\n        this.clock.active=true\r\n        this.node.getChildByName(\"start\").active=false\r\n        if(!this.gameState.isGameStart()) {\r\n            this.gameState.setGameStart(true);\r\n            //var action = cc.fadeTo(1.0, 0);\r\n            //this.label.string = \"游戏开始 !!!\";\r\n            //this.label.node.runAction(action);\r\n        }\r\n        this.card1selected=false\r\n        this.card2selected=false\r\n        this.card3selected=false\r\n        this.card4selected=false\r\n\r\n        this.card1.setScale(0.8)\r\n        this.card2.setScale(0.8)\r\n        this.card3.setScale(0.8)\r\n        this.card4.setScale(0.8)\r\n\r\n        this.card1.active=true\r\n        this.card2.active=true\r\n        this.card3.active=true\r\n        this.card4.active=true\r\n        \r\n        this.card01=card01;\r\n        this.card02=card02;\r\n        this.card03=card03;\r\n        this.card04=card04;\r\n        ////////////////////////////\r\n        var A_act1=null\r\n        var A_act2=null\r\n        var A_act3=null\r\n        var A_act4=null\r\n        var B_act1=null\r\n        var B_act2=null\r\n        var B_act3=null\r\n        var B_act4=null\r\n\r\n        var x1=this.seat1cardpos.x;\r\n        var y1=this.seat1cardpos.y\r\n\r\n        var x2=this.seat2cardpos.x;\r\n        var y2=this.seat2cardpos.y\r\n        var card1origposx=this.card1origpos.x\r\n        var card1origposy=this.card1origpos.y\r\n\r\n        var card2origposx=this.card2origpos.x\r\n        var card2origposy=this.card2origpos.y\r\n\r\n        var card3origposx=this.card3origpos.x\r\n        var card3origposy=this.card3origpos.y\r\n\r\n        var card4origposx=this.card4origpos.x\r\n        var card4origposy=this.card4origpos.y\r\n        cc.log(\"this.curid=\",eid)\r\n        cc.log(\"ddddddddddddddddddddthis.seat2cardpos=\",x1,y1)\r\n        cc.log(\"ddddddddddddddddddddthis.seat1cardpos=\",x2,y2)\r\n        cc.log(\"ddddddddddddddddddddthis..card1origpos=\",card1origposx,card1origposy)\r\n        cc.log(\"ddddddddddddddddddddthis..card2origpos=\",card2origposx,card2origposy)\r\n        cc.log(\"ddddddddddddddddddddthis..card2origpos=\",card3origposx,card3origposy)\r\n        cc.log(\"ddddddddddddddddddddthis..card2origpos=\",card4origposx,card4origposy)\r\n\r\n        this.card1.stopAllActions()\r\n        this.card2.stopAllActions()\r\n        this.card3.stopAllActions()\r\n        this.card4.stopAllActions()\r\n        if(eid==0){//各回各家\r\n \r\n\r\n            A_act1=cc.moveTo(1,cc.v2(x1,y1))\r\n            A_act2=cc.moveTo(1,cc.v2(x1,y1))\r\n\r\n            A_act3=cc.moveTo(1,cc.v2(x2,y2))\r\n            A_act4=cc.moveTo(1,cc.v2(x2,y2))\r\n        }\r\n        else if(eid==KBEngine.app.player().id){\r\n            cc.log(\"eid==KBEngine.app.player().id,moveto seat1\",eid,KBEngine.app.player().id)\r\n            A_act1=cc.moveTo(1,cc.v2(x1,y1))\r\n            A_act2=cc.moveTo(1,cc.v2(x1,y1))\r\n            A_act3=cc.moveTo(1,cc.v2(x1,y1))\r\n            A_act4=cc.moveTo(1,cc.v2(x1,y1))\r\n\r\n        }\r\n        else{\r\n            cc.log(\"eid!=KBEngine.app.player().id,moveto seat2\",eid,KBEngine.app.player().id)\r\n            A_act1=cc.moveTo(1,cc.v2(x2,y2))\r\n            A_act2=cc.moveTo(1,cc.v2(x2,y2))\r\n            A_act3=cc.moveTo(1,cc.v2(x2,y2))\r\n            A_act4=cc.moveTo(1,cc.v2(x2,y2))\r\n        }\r\n        var self=this;\r\n\r\n        this.card1num=2+parseInt((card01+1000-1061)/4)  //1,2,3,4\r\n        this.card2num=2+parseInt((card02+1000-1061)/4)\r\n        this.card3num=2+parseInt((card03+1000-1061)/4)\r\n        this.card4num=2+parseInt((card04+1000-1061)/4)\r\n        if (this.card1num>10) {this.card1num=1}\r\n        if (this.card2num>10) {this.card2num=1}\r\n        if (this.card3num>10) {this.card3num=1}\r\n        if (this.card4num>10) {this.card4num=1}\r\n\r\n        var funcount1=cc.callFunc(function(target){\r\n            this.seat1.getComponent(\"Seat\").refreshcount1()\r\n            this.seat2.getComponent(\"Seat\").refreshcount1()\r\n        }, this);\r\n\r\n        var funcount2=cc.callFunc(function(target){\r\n            this.seat1.getComponent(\"Seat\").refreshcount2()\r\n            this.seat2.getComponent(\"Seat\").refreshcount2()\r\n        }, this);\r\n\r\n        var self=this\r\n        var fun1=cc.callFunc(function(target){\r\n            target.x=x1,\r\n            target.y=y1;\r\n            card01=card01+1000;\r\n            var url=\"card_\"+card01+\"@2x\"\r\n            target.getComponent(cc.Sprite).spriteFrame=self.node.getChildByName(url).getComponent(cc.Sprite).spriteFrame\r\n            /*\r\n            cc.loader.loadRes(url,cc.SpriteFrame,function(err,spriteFrame) {\r\n            self.card1.getComponent(cc.Sprite).spriteFrame= spriteFrame\r\n            }); */\r\n        }, this.card1);\r\n       \r\n        \r\n        var fun2=cc.callFunc(function(target){\r\n            target.x=x1\r\n            target.y=y1\r\n            card02=card02+1000;\r\n            var url=\"card_\"+card02+\"@2x\"\r\n            target.getComponent(cc.Sprite).spriteFrame=self.node.getChildByName(url).getComponent(cc.Sprite).spriteFrame\r\n        }, this.card2);\r\n        var fun3=cc.callFunc(function(target){\r\n            target.x=x2\r\n            target.y=y2\r\n            card03=card03+1000;\r\n            var url=\"card_\"+card03+\"@2x\"\r\n            target.getComponent(cc.Sprite).spriteFrame=self.node.getChildByName(url).getComponent(cc.Sprite).spriteFrame\r\n        }, this.card3);\r\n        var fun4=cc.callFunc(function(target){\r\n            target.x=x2\r\n            target.y=y2\r\n            card04=card04+1000;\r\n            var url=\"card_\"+card04+\"@2x\"\r\n            target.getComponent(cc.Sprite).spriteFrame=self.node.getChildByName(url).getComponent(cc.Sprite).spriteFrame\r\n        }, this.card4);\r\n\r\n        var fun11=cc.callFunc(function(target){\r\n            target.x=card1origposx\r\n            target.y=card1origposy\r\n        }, this.card1);\r\n        \r\n        var fun22=cc.callFunc(function(target){\r\n            target.x=card2origposx\r\n            target.y=card2origposy\r\n        }, this.card2);\r\n        var fun33=cc.callFunc(function(target){\r\n            target.x=card3origposx\r\n            target.y=card3origposy\r\n        }, this.card3);\r\n        var fun44=cc.callFunc(function(target){\r\n            target.x=card4origposx\r\n            target.y=card4origposy\r\n        }, this.card4);\r\n\r\n        B_act1=cc.moveTo(1,cc.v2(card1origposx,card1origposy))\r\n        B_act2=cc.moveTo(1,cc.v2(card2origposx,card2origposy))\r\n        B_act3=cc.moveTo(1,cc.v2(card3origposx,card3origposy))\r\n        B_act4=cc.moveTo(1,cc.v2(card4origposx,card4origposy))\r\n\r\n        if(eid==12345){//各回各家2张\r\n            this.card1.runAction(cc.sequence(fun1,B_act1,fun11,funcount2))\r\n            this.card2.runAction(cc.sequence(fun2,B_act2,fun22,funcount2))\r\n            this.card3.runAction(cc.sequence(fun3,B_act3,fun33,funcount2))\r\n            this.card4.runAction(cc.sequence(fun4,B_act4,fun44,funcount2))\r\n\r\n        }\r\n        else{ //一家四张\r\n            this.card1.runAction(cc.sequence(A_act1,fun1,funcount1,cc.delayTime(1),B_act1,fun11,funcount2))\r\n            this.card2.runAction(cc.sequence(A_act2,fun2,funcount1,cc.delayTime(1),B_act2,fun22,funcount2))\r\n            this.card3.runAction(cc.sequence(A_act3,fun3,funcount1,cc.delayTime(1),B_act3,fun33,funcount2))\r\n            this.card4.runAction(cc.sequence(A_act4,fun4,funcount1,cc.delayTime(1),B_act4,fun44,funcount2))\r\n        }\r\n\r\n        /////////////////////////////\r\n\r\n        cc.log(\"wwwwwwnewTurn\",avatar.id, second,card01,card02,card03,card04)\r\n\r\n        this.opt.active=true\r\n        this.act=[]\r\n  \r\n       \r\n    },\r\n\r\n    onGameOver: function(avatarID, isWin, hp, totalTime, totalHarm, score) {\r\n        if(avatarID == KBEngine.app.player().id) {\r\n            HP = hp;\r\n            TOTAL_TIME = totalTime;\r\n            OtherHP = totalHarm;\r\n            SCORE = score;\r\n            LVlevel=Math.round(100*SCORE)\r\n            this.unInstallEvents();\r\n            if(isWin) {\r\n                cc.director.loadScene(\"WinScene\");\r\n            } else {\r\n                cc.director.loadScene(\"LoseScene\");\r\n            }\r\n        }\r\n        //cc.log(\"8888888888888888888888888888888888888888888888888888888888888888888888888888888888888\")\r\n        //this.disEnableControlPlayer();\r\n        //this.unInstallEvents();\r\n        this.player = null;\r\n    },\r\n    invatefriend:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        //this.yaoqing.active=false\r\n        var self=this;\r\n        ///////////////////////////\r\n        cc.loader.loadRes(\"sound/share\",function(err,data){\r\n            var selff=self;\r\n            wx.shareAppMessage({\r\n                title: self.RoomID.string,\r\n                imageUrl: data.url,\r\n                //query: \"Roomid=\" + self.roomKeyc + \"&UserName=\" + KBEngine.app.entities[KBEngine.app.player().id].accountName,// 别人点击链接时会得到的数据\r\n                //query: \"nick=\" + nick + \"&gender=\" + gender + \"&city=\" + city,\r\n                query:\"Roomid=\"+ self.roomKeyc+\"&UserName=\"+ KBEngine.app.entities[KBEngine.app.player().id].accountName,\r\n                success(res) {               \r\n                   \r\n                    \r\n                    cc.log(\"分享成功\" + res);\r\n                    selff.yaoqing.active=false               \r\n                    \r\n        \r\n                },\r\n                fail(res) {\r\n                    cc.log(\"分享失败\" + res);\r\n                    //this.yaoqing.active=true\r\n                }\r\n                \r\n            });\r\n        });\r\n\r\n        /////////////////////////\r\n        /*\r\n        wx.shareAppMessage({\r\n            title: self.RoomID.string,\r\n            imageUrl: data.url,\r\n            //query: \"Roomid=\" + self.roomKeyc + \"&UserName=\" + KBEngine.app.entities[KBEngine.app.player().id].accountName,// 别人点击链接时会得到的数据\r\n            //query: \"nick=\" + nick + \"&gender=\" + gender + \"&city=\" + city,\r\n            query:\"Roomid=\"+ self.roomKeyc+\"&UserName=\"+ KBEngine.app.entities[KBEngine.app.player().id].accountName,\r\n            success(res) {               \r\n               \r\n                \r\n                cc.log(\"分享成功\" + res);\r\n                this.yaoqing.active=false               \r\n                \r\n    \r\n            },\r\n            fail(res) {\r\n                cc.log(\"分享失败\" + res);\r\n                //this.yaoqing.active=true\r\n            }\r\n            \r\n        });\r\n        */\r\n    },\r\n    createPlayer: function(avatar) {\r\n       // SCALE=1;\r\n        cc.log(\"new createPlayer this.player=，avatar.modelID=\",this.player,avatar.modelID )\r\n\r\n        if(!this.player) {\r\n            if(avatar.id==KBEngine.app.player().id) {\r\n                this.seat1.active=true\r\n                this.seat1.getComponent(\"Seat\")._userName=avatar.accountName\r\n                this.seat1.getComponent(\"Seat\").avatarUrl=avatar.avatarUrl\r\n                //this.seat1.getComponent(\"Seat\")._isReady=true\r\n                this.seat1.getComponent(\"Seat\").refresh();\r\n                this.player =  this.seat1;\r\n                //this.entities[avatar.id]=this.player \r\n            }else{\r\n                this.seat2.active=true\r\n                //this.seat2.getComponent(\"Seat\")._isReady=true\r\n                this.seat2.getComponent(\"Seat\")._userName=avatar.accountName\r\n                this.seat2.getComponent(\"Seat\").avatarUrl=avatar.avatarUrl\r\n                this.seat2.getComponent(\"Seat\").refresh();\r\n                this.player =  this.seat2;\r\n                //this.entities[avatar.id]=this.player \r\n            }\r\n            //var ctrl= this.player.addComponent(\"AvatarControl\");\r\n            //var action= this.player.addComponent(\"AvatarAction\");\r\n            this.player.setPosition(avatar.position.x*SCALE, avatar.position.z*SCALE);\r\n            //this.entities[avatar.id] = this.player;\r\n        }\r\n        cc.log(\"after createPlayer this.player=，avatar.modelID=\",this.player,avatar.modelID )\r\n    },\r\n\r\n    onAvatarContinueGame: function(avatar) {\r\n       this.createPlayer(avatar);\r\n    },\r\n});\r\n"]}