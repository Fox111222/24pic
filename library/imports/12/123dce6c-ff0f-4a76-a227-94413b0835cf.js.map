{"version":3,"sources":["assets\\scripts\\cc_scripts\\WorldScene.js"],"names":["KBEngine","require","bindjs","cc","Class","Component","properties","seat1","type","Node","seat2","cardAtlas","SpriteAtlas","showwangfa","window","AudioMgr","playSFX","introduce","active","hidewangfa","showsetting","isshowsetting","settingNode","showchat","isshowchat","chatNode","log","onBgClicked","event","stopPropagation","onLoad","roomKeyc","installEvents","RoomID","find","getComponent","Label","yaoqing","node","getChildByName","matching","stopAllActions","action1","fadeIn","action2","fadeOut","repeat","repeatForever","sequence","runAction","undefined","playBGM","_timeLabel","sys","platform","WECHAT_GAME","enableWxShare","card1","card2","card3","card4","opt","label","act","card1num","card2num","card3num","card4num","lasttouchcard","on","EventType","TOUCH_END","onTouchEndedcard1","onTouchEndedcard2","onTouchEndedcard3","onTouchEndedcard4","card1selected","card2selected","card3selected","card4selected","gameState","clock","card1origpos","position","card2origpos","card3origpos","card4origpos","delta","Sprite","spriteFrame","getOriginalSize","height","out","v2","seat1cardpos","getPosition","convertToWorldSpaceAR","convertToNodeSpaceAR","seat2cardpos","gameHint","opacity","player","app","updateStaus","batteryPercent","power","Z_power","length","setScale","push","getBatteryPercent","info","wx","getBatteryInfo","success","level","status","isCharging","string","scaleX","bind","update","dt","join","minutes","Math","floor","Date","now","_lastMinute","date","h","getHours","m","getMinutes","onaddact","onreduceact","onmulact","ondivact","onlefact","onrigact","ondelact","num","pop","onsureact","action","fadeTo","str","res","eval2","pickUped","Event","register","entity_updateroomkey","avatar","id","showShareMenu","loader","loadRes","err","data","onShareAppMessage","title","imageUrl","url","fail","enablePhysicManager","director","getPhysicsManager","enabled","manager","getCollisionManager","enablePhysicsDebugDraw","enabledDebugDraw","enabledDrawBoundingBox","debugDrawFlags","PhysicsManager","DrawBits","e_centerOfMassBit","e_shapeBit","e_rayCast","unInstallEvents","deregister","onjoinPrivateRoom","loadScene","loginres","onquick_chat","eid","idx","strstr","getQuickChatInfo","chat","onemoji","name","emoji","oniptChat","playerReadyStateChange","state","_isReady","refresh","onupdateGamestates","curID","time","newTurn","updategamestuts","onclientMSG","msg","onotherNetcut","entities","accountName","onsyncsureact","strs","onDisconnected","INFO_MSG","reloginBaseapp","onReloginBaseappTimer","self","reloginCount","onReloginBaseappFailed","failedcode","serverErr","onReloginBaseappSuccessfully","onConnectionState","ERROR_MSG","ip","port","reqChangeReadyState","setReady","entity_updateholds","holds","entity","className","_holds","game_begin_push","onEnterWorld","isPlayer","ae","_userName","avatarUrl","onEnterWorld2","entityID","onLeaveWorld","onAvatarEnterWorld","createPlayer","updatePosition","set_position","setCameraTarget","checkPlayerHasItem","left","second","card01","card02","card03","card04","isGameStart","setGameStart","A_act1","A_act2","A_act3","A_act4","B_act1","B_act2","B_act3","B_act4","x1","x","y1","y","x2","y2","card1origposx","card1origposy","card2origposx","card2origposy","card3origposx","card3origposy","card4origposx","card4origposy","moveTo","parseInt","funcount1","callFunc","target","refreshcount1","funcount2","refreshcount2","fun1","getSpriteFrame","fun2","fun3","fun4","fun11","fun22","fun33","fun44","delayTime","onGameOver","avatarID","isWin","hp","totalTime","totalHarm","score","HP","TOTAL_TIME","OtherHP","SCORE","LVlevel","round","invatefriend","selff","shareAppMessage","query","modelID","onAvatarContinueGame"],"mappings":"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","sourceRoot":"/","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\n\r\nvar KBEngine = require(\"kbengine\");\r\n//var bindjs=require(\"eval\")\r\nvar bindjs=require(\"eval2\")\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n    \r\n    properties: {\r\n        seat1: {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n\r\n        seat2: {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        cardAtlas:{\r\n            default:null,\r\n            type:cc.SpriteAtlas\r\n        },\r\n    },\r\n    showwangfa:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        this.introduce.active=true\r\n    },\r\n    hidewangfa:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        this.introduce.active=false\r\n    },\r\n    showsetting:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        this.isshowsetting = !this.settingNode.active;\r\n        this.settingNode.active = this.isshowsetting;\r\n\r\n    },\r\n    showchat:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        this.isshowchat = !this.chatNode.active;\r\n        this.chatNode.active = this.isshowchat;\r\n        cc.log(\"showchat\")\r\n\r\n    },\r\n    onBgClicked:function(event){\r\n        event.stopPropagation()\r\n    },\r\n    onLoad () {\r\n        this.roomKeyc=\"\"\r\n        this.installEvents();\r\n        this.RoomID=cc.find(\"Canvas/bg2/RoomID\").getComponent(cc.Label)\r\n\r\n        this.yaoqing=cc.find(\"Canvas/bg2/yaoqing\")\r\n        this.yaoqing.active=false\r\n\r\n        this.introduce=this.node.getChildByName(\"introduce\")\r\n        this.introduce.active=false\r\n        \r\n        if(window.type==1){\r\n            this.matching=this.node.getChildByName(\"bg2\").getChildByName(\"matching\")\r\n            this.matching.active=true\r\n            this.matching.stopAllActions()\r\n            var action1 = cc.fadeIn(0.5);//渐显\r\n            var action2 = cc.fadeOut(0.5);//渐隐效果\r\n            var repeat=cc.repeatForever(cc.sequence(action2,action1))\r\n            this.matching.runAction(repeat);\r\n            \r\n        }\r\n        else{\r\n            this.matching=undefined\r\n        }\r\n        //this.node.getChildByName(\"bg2\").getChildByName(\"matching\").active=true\r\n        \r\n        window.AudioMgr.playBGM(\"bgBet\")\r\n\r\n        this._timeLabel = cc.find(\"Canvas/bg2/time\").getComponent(cc.Label);\r\n        this.isshowsetting=false\r\n        //this.settingNode=cc.instantiate(this.setting)\r\n        //this.node.addChild(this.settingNode)\r\n        //this.settingNode=this.node.getChildByName(\"bg2\").getChildByName(\"settings\")\r\n        this.settingNode=cc.find(\"Canvas/settings\")\r\n        this.settingNode.active = this.isshowsetting;\r\n\r\n        this.isshowchat=false\r\n        //this.chatNode=cc.instantiate(this.chat)\r\n        //this.node.addChild(this.chatNode)\r\n        this.chatNode=cc.find(\"Canvas/chat\")\r\n        this.chatNode.active = this.isshowchat;\r\n        \r\n        if(cc.sys.platform == cc.sys.WECHAT_GAME) {\r\n            this.enableWxShare();\r\n        }\r\n        this.card1=this.node.getChildByName(\"card1\")\r\n        this.card2=this.node.getChildByName(\"card2\")\r\n        this.card3=this.node.getChildByName(\"card3\")\r\n        this.card4=this.node.getChildByName(\"card4\")\r\n        this.card1.active=false;\r\n        this.card2.active=false;\r\n        this.card3.active=false;\r\n        this.card4.active=false;\r\n        this.opt=this.node.getChildByName(\"bg2\").getChildByName(\"opt\")\r\n        this.opt.active=false;\r\n\r\n        this.label=this.node.getChildByName(\"bg2\").getChildByName(\"expstr\").getComponent(cc.Label)\r\n        this.act=[]\r\n        this.card1num=0;\r\n        this.card2num=0;\r\n        this.card3num=0;\r\n        this.card4num=0;\r\n\r\n        this.lasttouchcard=null\r\n\r\n        this.card1.on(cc.Node.EventType.TOUCH_END, this.onTouchEndedcard1, this);\r\n        this.card2.on(cc.Node.EventType.TOUCH_END, this.onTouchEndedcard2, this);\r\n        this.card3.on(cc.Node.EventType.TOUCH_END, this.onTouchEndedcard3, this);\r\n        this.card4.on(cc.Node.EventType.TOUCH_END, this.onTouchEndedcard4, this);\r\n\r\n        this.card1selected=false\r\n        this.card2selected=false\r\n        this.card3selected=false\r\n        this.card4selected=false\r\n\r\n\r\n\r\n        this.gameState = this.node.getComponent(\"GameState\");\r\n        this.clock=this.node.getChildByName(\"bg2\").getChildByName(\"clock\")\r\n        this.clock.active=false;\r\n\r\n        /*\r\n        var sp=null\r\n        for(var i=1061;i<1115;i++){\r\n            sp=this.node.getChildByName(\"card_\"+i+\"@2x\")\r\n            sp.active=false;\r\n        }\r\n        */\r\n        this.card1origpos=this.card1.position\r\n        this.card2origpos=this.card2.position\r\n        this.card3origpos=this.card3.position\r\n        this.card4origpos=this.card4.position\r\n        \r\n\r\n        window.delta=this.node.getChildByName(\"bg2\").getChildByName(\"seat1\").getChildByName(\"card\").getComponent(cc.Sprite).spriteFrame.getOriginalSize().height*0.8\r\n        //\r\n        var out=cc.v2(0, 0)\r\n        //var seat1cardpos=cc.v2(0, 0)\r\n        //var seat1cardpos=this.node.getChildByName(\"bg2\").getChildByName(\"seat1\").getChildByName(\"card\").position\r\n        var seat1cardpos=this.node.getChildByName(\"bg2\").getChildByName(\"seat1\").getChildByName(\"card\").getPosition()\r\n\r\n\r\n        this.node.getChildByName(\"bg2\").getChildByName(\"seat1\").convertToWorldSpaceAR (seat1cardpos, out)\r\n        this.seat1cardpos=this.node.convertToNodeSpaceAR(out)\r\n //       this.seat1cardpos.y=this.seat1cardpos.y-this.node.getChildByName(\"bg2\").getChildByName(\"seat1\").getChildByName(\"card\").getComponent(cc.Sprite).spriteFrame.getOriginalSize().height*0.8\r\n        //this.node.getChildByName(\"bg2\").getChildByName(\"seat1\").y=this.node.getChildByName(\"bg2\").getChildByName(\"seat1\").y+window.delta\r\n        //var seat2cardpos=cc.v2(0, 0)\r\n        //cc.log(\"--------------------------------------------------------\",this.seat1cardpos.x,this.seat1cardpos.y)\r\n        out=cc.v2(0, 0)\r\n        //var seat2cardpos=this.node.getChildByName(\"bg2\").getChildByName(\"seat2\").getChildByName(\"card\").position\r\n        var seat2cardpos=this.node.getChildByName(\"bg2\").getChildByName(\"seat2\").getChildByName(\"card\").getPosition()\r\n        this.node.getChildByName(\"bg2\").getChildByName(\"seat2\").convertToWorldSpaceAR (seat2cardpos, out)\r\n        this.seat2cardpos=this.node.convertToNodeSpaceAR(out)\r\n\r\n\r\n        this.gameHint=this.node.getChildByName(\"gameHint\").getComponent(cc.Label)\r\n        this.gameHint.node.opacity=0;\r\n        this.gameHint.node.active=false;\r\n\r\n        this.seat1= this.node.getChildByName(\"bg2\").getChildByName(\"seat1\")\r\n        this.seat1.active=false\r\n        this.seat2= this.node.getChildByName(\"bg2\").getChildByName(\"seat2\")\r\n        this.seat2.active=false\r\n        if(cc.sys.platform == cc.sys.WECHAT_GAME) {\r\n            this.enableWxShare();\r\n            if(window.type==2)\r\n                this.yaoqing.active=true\r\n        }\r\n        var player = KBEngine.app.player();\r\n        if(player){\r\n            player.updateStaus()\r\n        }\r\n        this.batteryPercent=cc.find(\"Canvas/bg2/batteryPercent\").getComponent(cc.Label)\r\n        this.batteryPercent.node.active=false\r\n        this.power = cc.find(\"Canvas/bg2/power\")\r\n        this.power.active=false\r\n        this.Z_power = cc.find(\"Canvas/bg2/Z_power\")\r\n        this.Z_power.active=false\r\n    },\r\n    onTouchEndedcard1:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        if(this.act.length-1>=0){\r\n            if(this.act[this.act.length-1]==this.card1num ||this.act[this.act.length-1]==this.card2num||this.act[this.act.length-1]==this.card3num||this.act[this.act.length-1]==this.card4num)\r\n            return\r\n        }\r\n        if(this.card1selected==false){\r\n            this.lasttouchcard=this.card1\r\n            this.card1selected=true\r\n            this.card1.setScale(1)\r\n            this.act.push(this.card1num)\r\n        }\r\n    },\r\n    onTouchEndedcard2:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        if(this.act.length-1>=0){\r\n            if(this.act[this.act.length-1]==this.card1num ||this.act[this.act.length-1]==this.card2num||this.act[this.act.length-1]==this.card3num||this.act[this.act.length-1]==this.card4num)\r\n            return\r\n        }\r\n        if(this.card2selected==false){\r\n            this.card2selected=true\r\n            this.card2.setScale(1)\r\n            this.act.push(this.card2num)\r\n            this.lasttouchcard=this.card2\r\n        }\r\n\r\n    },\r\n    onTouchEndedcard3:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        if(this.act.length-1>=0){\r\n            if(this.act[this.act.length-1]==this.card1num ||this.act[this.act.length-1]==this.card2num||this.act[this.act.length-1]==this.card3num||this.act[this.act.length-1]==this.card4num)\r\n            return\r\n        }\r\n        if(this.card3selected==false){\r\n            this.card3selected=true\r\n            this.card3.setScale(1)\r\n            this.act.push(this.card3num)\r\n            this.lasttouchcard=this.card3\r\n        }\r\n\r\n    },\r\n    onTouchEndedcard4:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        if(this.act.length-1>=0){\r\n            if(this.act[this.act.length-1]==this.card1num ||this.act[this.act.length-1]==this.card2num||this.act[this.act.length-1]==this.card3num||this.act[this.act.length-1]==this.card4num)\r\n            return\r\n        }\r\n        if(this.card4selected==false){\r\n            this.card4selected=true\r\n            this.card4.setScale(1)\r\n            this.act.push(this.card4num)\r\n            this.lasttouchcard=this.card4\r\n        }\r\n    },\r\n    getBatteryPercent:function(){\r\n        //if(cc.sys.isNative){\r\n            //var self=this;\r\n            //if(cc.sys.os == cc.sys.OS_ANDROID){\r\n            //    return jsb.reflection.callStaticMethod(this.ANDROID_API, \"getBatteryPercent\", \"()F\");\r\n            //}\r\n            //else if(cc.sys.os == cc.sys.OS_IOS){\r\n            //    return jsb.reflection.callStaticMethod(this.IOS_API, \"getBatteryPercent\");\r\n            //}\r\n            if(cc.sys.platform == cc.sys.WECHAT_GAME){\r\n                /*\r\n                var batteryInfo = jsb.reflection.callStaticMethod(\"org/cocos2dx/javascript/AppActivity\", \"getBatteryStatusInfo\", \"()Ljava/lang/String;\")\r\n                if (!batteryInfo) {\r\n                    cc.log(\"当前无返回！！！！！！！！！！！！！！！！！！！！！！！！\");\r\n                    return\r\n                }\r\n                var info = batteryInfo.split(\"_\");\r\n                var level = parseInt(info[0]);\r\n                var scale = parseInt(info[1]);\r\n                var status = info[2];\r\n                //this.label.string = \"电量剩余：\" + (level * 100) / scale + \"\\t\" + \"当前电池使用状态状态：\" + status;\r\n                self.batteryPercent.string=\"电量剩余：\" + (level * 100) / scale + \"\\t\" + \"当前电池使用状态状态：\" + status;\r\n                cc.log(\"电量剩余：\" + (level * 100) / scale + \"\\t\" + \"当前电池使用状态状态：\" + status)\r\n                */\r\n                \r\n                //var info=wx.getBatteryInfoSync()\r\n                var info=wx.getBatteryInfo({\r\n                    success:function(info){\r\n                        var level = info.level;\r\n                        var status = info.isCharging ?\"充电中\":\"没充电\"\r\n                        if(this.batteryPercent!=undefined){\r\n                            this.batteryPercent.string=\"\"+ level + \"%\"+ status;\r\n                            this.batteryPercent.node.active=true\r\n                        }\r\n                        if(this.power!=undefined){\r\n                            this.power.scaleX = level/100\r\n                            this.power.active=true\r\n                            this.Z_power.active=true\r\n                        }    \r\n                    }.bind(this)\r\n                })\r\n                \r\n                //cc.log(\"电量剩余\" +level + \"%\" + \"电池使用状态\" + status)\r\n                //return level;\r\n            //}           \r\n        }\r\n        \r\n    },\r\n    update: function (dt) {\r\n        this.label.string=this.act.join(\"\")\r\n        var minutes = Math.floor(Date.now()/1000/60);\r\n        if(this._lastMinute != minutes){\r\n            this._lastMinute = minutes;\r\n            var date = new Date();\r\n            var h = date.getHours();\r\n            h = h < 10? \"0\"+h:h;\r\n            \r\n            var m = date.getMinutes();\r\n            m = m < 10? \"0\"+m:m;\r\n            this._timeLabel.string = \"\" + h + \":\" + m;             \r\n        }\r\n        if(cc.sys.platform == cc.sys.WECHAT_GAME){  \r\n            this.getBatteryPercent();\r\n        }\r\n\r\n        \r\n    },\r\n    onaddact:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        this.act.push(\"+\")\r\n\r\n    },\r\n    onreduceact:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        this.act.push(\"-\")\r\n\r\n    },\r\n    onmulact:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        this.act.push(\"*\")\r\n\r\n    },\r\n    ondivact:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        this.act.push(\"/\")\r\n\r\n    },\r\n    onlefact:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        this.act.push(\"(\")\r\n\r\n    },\r\n    onrigact:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        this.act.push(\")\")\r\n\r\n    },\r\n    ondelact:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        var num=this.act.pop()\r\n        if(this.lasttouchcard==null){\r\n            return\r\n        }\r\n        this.lasttouchcard.setScale(0.8)\r\n        if(this.lasttouchcard==this.card1) this.card1selected=false\r\n        if(this.lasttouchcard==this.card2) this.card2selected=false\r\n        if(this.lasttouchcard==this.card3) this.card3selected=false\r\n        if(this.lasttouchcard==this.card4) this.card4selected=false\r\n        this.lasttouchcard=null\r\n\r\n    },\r\n    onsureact:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        if(this.card1selected==false||this.card2selected==false||this.card3selected==false||this.card4selected==false){\r\n            this.gameHint.node.active=true\r\n            this.gameHint.string = \"四张牌都必须使用一次，请重新计算\";\r\n            this.gameHint.node.opacity=255\r\n            var action = cc.fadeTo(8.0, 0);\r\n            this.gameHint.node.runAction(action);\r\n\r\n            this.card1selected=false\r\n            this.card2selected=false\r\n            this.card3selected=false\r\n            this.card4selected=false\r\n    \r\n            this.card1.setScale(0.8)\r\n            this.card2.setScale(0.8)\r\n            this.card3.setScale(0.8)\r\n            this.card4.setScale(0.8)\r\n            this.act=[]\r\n            return\r\n        }\r\n            \r\n        //window.AudioMgr.playSFX(\"ui_click\")\r\n        this.card1selected=false\r\n        this.card2selected=false\r\n        this.card3selected=false\r\n        this.card4selected=false\r\n\r\n        this.card1.setScale(0.8)\r\n        this.card2.setScale(0.8)\r\n        this.card3.setScale(0.8)\r\n        this.card4.setScale(0.8)\r\n\r\n        var str=this.act.join(\"\")\r\n        var res=0;\r\n        try{\r\n            //var res=eval(str);\r\n            //var res= window.binding.eval(str)\r\n            res=window.eval2(str)\r\n            //cc.log(\"ttttttttttttttt\",res)\r\n        }\r\n        catch{\r\n            //res=\"syntax error\"\r\n            this.gameHint.node.active=true\r\n            this.gameHint.string = \"输入无效，请重新计算\";\r\n            this.gameHint.node.opacity=255\r\n            var action = cc.fadeTo(8.0, 0);\r\n            this.gameHint.node.runAction(action);\r\n            this.act=[]\r\n        }\r\n        //alert();\r\n        this.act=[]\r\n        //this.act.push(res)\r\n        if(res==24){\r\n            var player = KBEngine.app.player();\r\n            if(player){\r\n                player.onsureact(str)\r\n            }\r\n\r\n        }\r\n        else{\r\n            this.gameHint.node.active=true\r\n            this.gameHint.string = \"计算结果为\" + res + \"不正确，请重新计算\";\r\n            this.gameHint.node.opacity=255\r\n            var action = cc.fadeTo(8.0, 0);\r\n            this.gameHint.node.runAction(action);\r\n        }\r\n        //cc.log(\"submit=\",res)\r\n\r\n    },\r\n    pickUped:function(event){\r\n        //cc.log(\"worldsence.pickuped\")\r\n\r\n    },\r\n    installEvents : function() {\r\n        KBEngine.Event.register(\"onAvatarEnterWorld\", this, \"onAvatarEnterWorld\");\r\n        KBEngine.Event.register(\"onEnterWorld\", this, \"onEnterWorld\");\r\n        KBEngine.Event.register(\"onLeaveWorld\", this, \"onLeaveWorld\");\r\n        KBEngine.Event.register(\"game_begin_push\", this, \"game_begin_push\");\r\n        KBEngine.Event.register(\"entity_updateholds\", this, \"entity_updateholds\");\r\n        KBEngine.Event.register(\"newTurn\", this, \"newTurn\");\r\n        KBEngine.Event.register(\"playerReadyStateChange\", this, \"playerReadyStateChange\");\r\n        KBEngine.Event.register(\"onotherNetcut\", this, \"onotherNetcut\");\r\n        KBEngine.Event.register(\"onGameOver\", this, \"onGameOver\");\r\n\r\n        KBEngine.Event.register(\"onDisconnected\", this, \"onDisconnected\");\r\n\t\tKBEngine.Event.register(\"onConnectionState\", this, \"onConnectionState\");\r\n\t\tKBEngine.Event.register(\"onReloginBaseappFailed\", this, \"onReloginBaseappFailed\");\r\n        KBEngine.Event.register(\"onReloginBaseappSuccessfully\", this, \"onReloginBaseappSuccessfully\");\r\n\r\n        KBEngine.Event.register(\"onAvatarContinueGame\", this, \"onAvatarContinueGame\");\r\n\r\n        KBEngine.Event.register(\"onquick_chat\", this, \"onquick_chat\");\r\n        KBEngine.Event.register(\"onemoji\", this, \"onemoji\");\r\n        KBEngine.Event.register(\"oniptChat\", this, \"oniptChat\");\r\n\r\n        KBEngine.Event.register(\"onEnterWorld2\", this, \"onEnterWorld2\");\r\n        KBEngine.Event.register(\"updategamestuts\", this, \"updategamestuts\");\r\n        KBEngine.Event.register(\"entity_updateroomkey\", this, \"entity_updateroomkey\");\r\n        \r\n        KBEngine.Event.register(\"onsyncsureact\", this, \"onsyncsureact\");\r\n        KBEngine.Event.register(\"onjoinPrivateRoom\", this, \"onjoinPrivateRoom\");\r\n        KBEngine.Event.register(\"onclientMSG\", this, \"onclientMSG\");\r\n        \r\n    },\r\n    entity_updateroomkey:function(roomKeyc,avatar){\r\n        cc.log(\"entity[%d]updateroomkeyentity_updateroomkey=\", avatar.id, roomKeyc)\r\n        if(avatar.id==KBEngine.app.player().id){\r\n            this.RoomID.string=\"房间号:\"+roomKeyc.join(\"\")\r\n            this.roomKeyc=roomKeyc.join(\"\")\r\n        }\r\n        \r\n\r\n    },\r\n\r\n    enableWxShare: function () {\r\n        wx.showShareMenu();\r\n\r\n        cc.loader.loadRes(\"sound/share\",function(err,data){\r\n           // wx.shareAppMessage({   //打开小游戏自动分享\r\n           wx.onShareAppMessage(function(res){\r\n               return{\r\n                title: \"24点 智力小PK\",\r\n                imageUrl: data.url,\r\n                //query: \"Roomid=\" + self.roomKeyc + \"&UserName=\" + KBEngine.app.entities[KBEngine.app.player().id].accountName,// 别人点击链接时会得到的数据\r\n                //query: \"nick=\" + nick + \"&gender=\" + gender + \"&city=\" + city,\r\n                //query:\"Roomid=\"+ self.roomKeyc+\"&UserName=\"+ KBEngine.app.entities[KBEngine.app.player().id].accountName,\r\n                success(res) {               \r\n                   \r\n                    \r\n                    cc.log(\"分享成功\" + res);\r\n                    //this.yaoqing.active=false                      \r\n                },\r\n                fail(res) {\r\n                    cc.log(\"分享失败\" + res);\r\n                    //this.yaoqing.active=true\r\n                }\r\n            }\r\n                \r\n            });\r\n        });\r\n     },\r\n\r\n    enablePhysicManager: function () {\r\n        //cc.log(\"test1\")\r\n        //cc.director.getCollisionManager().enabled = true;\r\n        //cc.director.getPhysicsManager().enabled = true;\r\n\r\n        cc.director.getPhysicsManager().enabled =true;\r\n        var manager = cc.director.getCollisionManager();\r\n        manager.enabled = true;\r\n    },\r\n\r\n    enablePhysicsDebugDraw: function() {\r\n        cc.log(\"test2\")\r\n        var manager = cc.director.getCollisionManager();\r\n        manager.enabledDebugDraw = true;\r\n        manager.enabledDrawBoundingBox = true;\r\n\r\n        cc.director.getPhysicsManager().debugDrawFlags =\r\n            // cc.PhysicsManager.DrawBits.e_aabbBit |\r\n            // cc.PhysicsManager.DrawBits.e_pairBit |\r\n            cc.PhysicsManager.DrawBits.e_centerOfMassBit |\r\n            // cc.PhysicsManager.DrawBits.e_jointBit |\r\n            cc.PhysicsManager.DrawBits.e_shapeBit |\r\n            cc.PhysicsManager.DrawBits.e_rayCast;\r\n    },\r\n\r\n    \r\n\r\n    unInstallEvents: function() {\r\n        KBEngine.Event.deregister(\"onAvatarEnterWorld\", this, \"onAvatarEnterWorld\");\r\n        KBEngine.Event.deregister(\"onEnterWorld\", this, \"onEnterWorld\");\r\n        KBEngine.Event.deregister(\"onLeaveWorld\", this, \"onLeaveWorld\");\r\n        KBEngine.Event.deregister(\"game_begin_push\", this, \"game_begin_push\");\r\n        KBEngine.Event.deregister(\"entity_updateholds\", this, \"entity_updateholds\");\r\n        KBEngine.Event.deregister(\"newTurn\", this, \"newTurn\");\r\n        KBEngine.Event.deregister(\"playerReadyStateChange\", this, \"playerReadyStateChange\");\r\n        KBEngine.Event.deregister(\"onotherNetcut\", this);\r\n        KBEngine.Event.deregister(\"onGameOver\", this);\r\n        KBEngine.Event.deregister(\"onDisconnected\", this, \"onDisconnected\");\r\n\t\tKBEngine.Event.deregister(\"onConnectionState\", this, \"onConnectionState\");\r\n\t\tKBEngine.Event.deregister(\"onReloginBaseappFailed\", this, \"onReloginBaseappFailed\");\r\n        KBEngine.Event.deregister(\"onReloginBaseappSuccessfully\", this, \"onReloginBaseappSuccessfully\");\r\n        KBEngine.Event.deregister(\"onAvatarContinueGame\", this, \"onAvatarContinueGame\");\r\n\r\n        KBEngine.Event.deregister(\"onquick_chat\", this, \"onquick_chat\");\r\n        KBEngine.Event.deregister(\"onemoji\", this, \"onemoji\");\r\n        KBEngine.Event.deregister(\"oniptChat\", this, \"oniptChat\");\r\n\r\n        KBEngine.Event.deregister(\"onEnterWorld2\", this, \"onEnterWorld2\");\r\n        KBEngine.Event.deregister(\"updategamestuts\", this, \"updategamestuts\");\r\n        KBEngine.Event.deregister(\"entity_updateroomkey\", this, \"entity_updateroomkey\");\r\n\r\n        KBEngine.Event.deregister(\"onsyncsureact\", this, \"onsyncsureact\");\r\n        KBEngine.Event.deregister(\"onjoinPrivateRoom\", this, \"onjoinPrivateRoom\");\r\n        KBEngine.Event.deregister(\"onclientMSG\", this, \"onclientMSG\");\r\n    },\r\n    onjoinPrivateRoom:function(num){\r\n\r\n        cc.director.loadScene(\"StartScene\", () => {\r\n            window.loginres=num\r\n            cc.log(\"startscene===>wordscene\")\r\n        });\r\n        this.unInstallEvents();\r\n        \r\n    },\r\n    onquick_chat:function(eid,idx){\r\n        //cc.log(\"7777777777777777777777777777777777777777quick_chat=\",eid,idx)\r\n        var strstr=this.node.getComponent(\"Chat\").getQuickChatInfo(idx)[\"content\"]\r\n        //cc.log(\"888888888888888888888888888888888888quick_chat=\",strstr)\r\n        if(KBEngine.app.player().id==eid) {\r\n            this.seat1.getComponent(\"Seat\").chat(strstr)\r\n            //this.seat1.getComponent(\"Seat\").refresh();  \r\n        }\r\n        else{\r\n            this.seat2.getComponent(\"Seat\").chat(strstr)\r\n            //this.seat2.getComponent(\"Seat\").refresh();  \r\n        }\r\n    },\r\n    onemoji:function(eid,name){\r\n        //cc.log(\"888888888888888888888888888888888888emoji=\",name)\r\n        if(KBEngine.app.player().id==eid) {\r\n            this.seat1.getComponent(\"Seat\").emoji(name)\r\n            //this.seat1.getComponent(\"Seat\").refresh();  \r\n        }\r\n        else{\r\n            this.seat2.getComponent(\"Seat\").emoji(name)\r\n            //this.seat2.getComponent(\"Seat\").refresh();  \r\n        }\r\n    },\r\n    oniptChat:function(eid,strstr){\r\n        //cc.log(\"888888888888888888888888888888888888eiptChat=\",strstr)\r\n        if(KBEngine.app.player().id==eid) {\r\n            this.seat1.getComponent(\"Seat\").chat(strstr)\r\n           // this.seat1.getComponent(\"Seat\").refresh();  \r\n        }\r\n        else{\r\n            this.seat2.getComponent(\"Seat\").chat(strstr)\r\n            //this.seat2.getComponent(\"Seat\").refresh();     \r\n        }\r\n    },\r\n    playerReadyStateChange:function(eid,state){\r\n        //cc.log(\"playerReadyStateChange\")\r\n        if(KBEngine.app.player().id==eid) {   \r\n            this.seat1.active=true \r\n            this.seat1.getComponent(\"Seat\")._isReady=true\r\n            this.seat1.getComponent(\"Seat\").refresh();  \r\n        }else{\r\n            this.seat2.active=true \r\n            this.seat2.getComponent(\"Seat\")._isReady=true\r\n            this.seat2.getComponent(\"Seat\").refresh();   \r\n        }    \r\n\r\n    },\r\n    onupdateGamestates:function(curID,time){\r\n        //cc.log(\"onupdateGamestates\")\r\n        this.newTurn(curID,time)\r\n\r\n    },\r\n    updategamestuts:function(num){\r\n        if(num==1){//服务器正在playing中\r\n            this.node.getChildByName(\"start\").active=false\r\n        }\r\n        else{//一局已结束\r\n            this.node.getChildByName(\"start\").active=true\r\n        }\r\n    },\r\n    onclientMSG:function(msg){\r\n        this.gameHint.node.active=true\r\n        this.gameHint.string = msg\r\n        this.gameHint.node.opacity=255\r\n        var action = cc.fadeTo(13.0, 0);\r\n        this.gameHint.node.runAction(action);\r\n    },\r\n    onotherNetcut:function(curID){\r\n        cc.log(\"onotherNetcut。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。\")\r\n        if(curID==0){\r\n            this.gameHint.string = \"其他玩逃命，游戏马上结束.......\";\r\n            this.seat2.active=false;\r\n        }\r\n        else{\r\n            this.gameHint.node.active=true\r\n            this.gameHint.string = \"玩家\"+KBEngine.app.entities[curID].accountName +\"掉线，请等待.......\";\r\n        }\r\n        this.gameHint.node.opacity=255\r\n        var action = cc.fadeTo(13.0, 0);\r\n        this.gameHint.node.runAction(action);\r\n        //this.gameState.newTurn(15);\r\n        \r\n    },\r\n    onsyncsureact:function(strs){\r\n        cc.log(\"world::onsyncsureact\", strs)\r\n        //this.gameHint.node.opacity=255\r\n        //this.gameHint.string = strs\r\n        //var action = cc.fadeTo(8.0, 0);\r\n        //this.gameHint.node.runAction(action);\r\n    },\r\n    onDisconnected : function() {\r\n        KBEngine.INFO_MSG(\"disconnect! will try to reconnect...\");\r\n        //var action = cc.fadeTo(1.0, 0);\r\n        if(this.gameHint.node){\r\n            this.gameHint.node.opacity=255\r\n            this.gameHint.string = \"disconnect! will try to reconnect...\";\r\n            this.gameHint.node.active=true\r\n        }\r\n        //this.Destroyplayer()\r\n        KBEngine.app.reloginBaseapp();\r\n    },\r\n    \r\n    onReloginBaseappTimer : function(self) {\r\n        KBEngine.INFO_MSG(\"will try to reconnect(\" + this.reloginCount + \")...\");\r\n    },\r\n    \r\n    onReloginBaseappFailed : function(failedcode) {\r\n        KBEngine.INFO_MSG(\"reogin is failed(断线重连失败), err=\" + KBEngine.app.serverErr(failedcode));   \r\n    },\r\n        \r\n    onReloginBaseappSuccessfully : function(){\r\n        KBEngine.INFO_MSG(\"reogin is successfully!(断线重连成功!)\");\r\n        this.gameHint.node.opacity=255\t\r\n        this.gameHint.node.active=true\r\n        var action = cc.fadeTo(8.0, 0);\r\n        this.gameHint.string = \"reogin is successfully!(断线重连成功!)\";\r\n\r\n        this.gameHint.node.runAction(action);\r\n    },\r\n        \r\n    onConnectionState : function(success) {\r\n        if(!success) {\r\n            KBEngine.ERROR_MSG(\"Connect(\" + KBEngine.app.ip + \":\" + KBEngine.app.port + \") is error! (连接错误)\");\r\n            this.onDisconnected()\r\n        }\r\n        else {\r\n            KBEngine.INFO_MSG(\"Connect successfully, please wait...(连接成功，请等候...)\");\r\n        }\r\n    },\r\n    reqChangeReadyState:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        this.node.getChildByName(\"start\").active=false\r\n        var player = KBEngine.app.player();\r\n        if(player){\r\n            player.reqChangeReadyState()\r\n        }   \r\n        this.seat1.getComponent(\"Seat\").setReady(true)\r\n        this.seat1.getComponent(\"Seat\").refresh();    \r\n    },\r\n    entity_updateholds:function(holds,entity){\r\n        cc.log(\"entity_updateholds\",entity.id,holds)\r\n        if(entity.className == \"Avatar\") {\r\n            if(entity.id==KBEngine.app.player().id) {      \r\n                //this.seat1.active=true\r\n                this.seat1.getComponent(\"Seat\")._holds=holds\r\n                this.seat1.getComponent(\"Seat\").refresh();    \r\n            }else{  //scalex==-1,\r\n                //this.seat2.active=true\r\n                this.seat2.getComponent(\"Seat\")._holds=holds\r\n                this.seat2.getComponent(\"Seat\").refresh();    \r\n            }\r\n        }  \r\n    },\r\n    game_begin_push:function(entity){\r\n        cc.log(\"WorldScene::game_begin_push\")\r\n        //this.seat1.active=true\r\n        //this.seat2.active=true\r\n        //this.seat1.getComponent(\"Seat\")._holds=entity.holds\r\n        this.seat1.getComponent(\"Seat\")._isReady=false\r\n        this.seat1.getComponent(\"Seat\").refresh(); \r\n\r\n        this.seat2.getComponent(\"Seat\")._isReady=false\r\n        this.seat2.getComponent(\"Seat\").refresh();  \r\n    },\r\n    onEnterWorld: function (entity) {\r\n        //SCALE=1;\r\n        cc.log(\"onEnterWorld entity.id=\",entity.id)\r\n        if(!entity.isPlayer()) {\r\n            var ae = null;\r\n            if(KBEngine.app.player().id==entity.id) {    \r\n                    this.seat1.active=true\r\n                    //this.seat1.getComponent(\"Seat\")._isReady=false\r\n                    this.seat1.getComponent(\"Seat\")._userName=entity.accountName\r\n                    this.seat1.getComponent(\"Seat\").avatarUrl=entity.avatarUrl\r\n                    this.seat1.getComponent(\"Seat\").refresh();  \r\n                    //this.entities[entity.id] = entity;  \r\n                    cc.log(\"WorldScene::onEnterWorld=\",this.seat1.getComponent(\"Seat\")._isReady)\r\n            }else{  //scalex==-1,\r\n                if(this.matching!=undefined){\r\n                    this.matching.active=false;  \r\n                }                    \r\n                    this.seat2.active=true\r\n                    //this.seat2.getComponent(\"Seat\")._isReady=true\r\n                    this.seat2.getComponent(\"Seat\")._userName=entity.accountName\r\n                    this.seat2.getComponent(\"Seat\").avatarUrl=entity.avatarUrl\r\n                    this.seat2.getComponent(\"Seat\").refresh();   \r\n                    //this.entities[entity.id] = entity; \r\n                    cc.log(\"WorldScene::onEnterWorld=\",this.seat2.getComponent(\"Seat\")._isReady)\r\n                }    \r\n            }\r\n    },\r\n    \r\n    onEnterWorld2: function (entityID) {\r\n        cc.log(\"onEnterWorld2\")\r\n        var entity=KBEngine.app.entities[entityID]\r\n        //SCALE=1;\r\n        cc.log(\"onEnterWorld entity.id=\",entity.id)\r\n            if(KBEngine.app.player().id==entity.id) {    \r\n                    this.seat1.active=true\r\n                    //this.seat1.getComponent(\"Seat\")._isReady=false\r\n                    this.seat1.getComponent(\"Seat\")._userName=entity.accountName\r\n                    this.seat1.getComponent(\"Seat\").avatarUrl=entity.avatarUrl\r\n                    this.seat1.getComponent(\"Seat\").refresh();  \r\n                    //this.entities[entity.id] = entity;  \r\n                    cc.log(\"WorldScene::onEnterWorld=\",this.seat1.getComponent(\"Seat\")._isReady)\r\n            }else{  //scalex==-1,\r\n                if(this.matching!=undefined){\r\n                    this.matching.active=false;\r\n                }\r\n                    this.seat2.active=true\r\n                    //this.seat2.getComponent(\"Seat\")._isReady=true\r\n                    this.seat2.getComponent(\"Seat\")._userName=entity.accountName\r\n                    this.seat2.getComponent(\"Seat\").avatarUrl=entity.avatarUrl\r\n                    this.seat2.getComponent(\"Seat\").refresh();   \r\n                    //this.entities[entity.id] = entity; \r\n                    cc.log(\"WorldScene::onEnterWorld=\",this.seat2.getComponent(\"Seat\")._isReady)\r\n                }    \r\n    },\r\n    onLeaveWorld: function (entity) {\r\n        cc.log(\"onLeaveWorld\",entity.id,entity.className)\r\n        if(this.matching!=undefined){\r\n            this.matching.active=true;\r\n            this.matching.stopAllActions()\r\n            var action1 = cc.fadeIn(0.5);//渐显\r\n            var action2 = cc.fadeOut(0.5);//渐隐效果\r\n            var repeat=cc.repeatForever(cc.sequence(action1,action2))\r\n            this.matching.runAction(repeat);\r\n        }\r\n        if(window.type!=1 && this.yaoqing!=undefined){\r\n            this.yaoqing.active=true\r\n        }\r\n\r\n        this.seat2.active=false\r\n        /*\r\n        cc.log(\"onLeaveWorld\",entity.id,entity.className)\r\n        if(this.entities[entity.id] && entity.className == \"Avatar\"){\r\n            this.entities[entity.id].removeFromParent()\r\n            this.entities[entity.id]=null\r\n        }  \r\n        */    \r\n    },\r\n\r\n    onAvatarEnterWorld : function(avatar) {\r\n        cc.log(\"onAvatarEnterWorld\")\r\n        this.createPlayer(avatar);\r\n    },\r\n\r\n   \r\n    updatePosition : function(entity) {\r\n       \r\n    },\t  \r\n    \r\n    set_position: function(entity) {\r\n        \r\n    },\r\n\r\n    setCameraTarget: function(entityID){\r\n        \r\n       \r\n    },\r\n\r\n    checkPlayerHasItem: function(left) {\r\n        //cc.log(\"test14\")\r\n      \r\n    },\r\n\r\n    newTurn: function(avatar,eid, second,card01,card02,card03,card04){\r\n        //window.AudioMgr.stopBGM()\r\n        //window.AudioMgr.playSFX(\"turn\")\r\n\r\n        this.gameState.newTurn(second);\r\n        this.clock.active=true\r\n        this.node.getChildByName(\"start\").active=false\r\n        if(!this.gameState.isGameStart()) {\r\n            this.gameState.setGameStart(true);\r\n            //var action = cc.fadeTo(1.0, 0);\r\n            //this.label.string = \"游戏开始 !!!\";\r\n            //this.label.node.runAction(action);\r\n        }\r\n        this.card1selected=false\r\n        this.card2selected=false\r\n        this.card3selected=false\r\n        this.card4selected=false\r\n\r\n        this.card1.setScale(0.8)\r\n        this.card2.setScale(0.8)\r\n        this.card3.setScale(0.8)\r\n        this.card4.setScale(0.8)\r\n\r\n        this.card1.active=true\r\n        this.card2.active=true\r\n        this.card3.active=true\r\n        this.card4.active=true\r\n        \r\n        this.card01=card01;\r\n        this.card02=card02;\r\n        this.card03=card03;\r\n        this.card04=card04;\r\n        ////////////////////////////\r\n        var A_act1=null\r\n        var A_act2=null\r\n        var A_act3=null\r\n        var A_act4=null\r\n        var B_act1=null\r\n        var B_act2=null\r\n        var B_act3=null\r\n        var B_act4=null\r\n\r\n        var x1=this.seat1cardpos.x;\r\n        var y1=this.seat1cardpos.y\r\n\r\n        var x2=this.seat2cardpos.x;\r\n        var y2=this.seat2cardpos.y\r\n        var card1origposx=this.card1origpos.x\r\n        var card1origposy=this.card1origpos.y\r\n\r\n        var card2origposx=this.card2origpos.x\r\n        var card2origposy=this.card2origpos.y\r\n\r\n        var card3origposx=this.card3origpos.x\r\n        var card3origposy=this.card3origpos.y\r\n\r\n        var card4origposx=this.card4origpos.x\r\n        var card4origposy=this.card4origpos.y\r\n        cc.log(\"this.curid=\",eid)\r\n        cc.log(\"ddddddddddddddddddddthis.seat2cardpos=\",x1,y1)\r\n        cc.log(\"ddddddddddddddddddddthis.seat1cardpos=\",x2,y2)\r\n        cc.log(\"ddddddddddddddddddddthis..card1origpos=\",card1origposx,card1origposy)\r\n        cc.log(\"ddddddddddddddddddddthis..card2origpos=\",card2origposx,card2origposy)\r\n        cc.log(\"ddddddddddddddddddddthis..card2origpos=\",card3origposx,card3origposy)\r\n        cc.log(\"ddddddddddddddddddddthis..card2origpos=\",card4origposx,card4origposy)\r\n\r\n        this.card1.stopAllActions()\r\n        this.card2.stopAllActions()\r\n        this.card3.stopAllActions()\r\n        this.card4.stopAllActions()\r\n        if(eid==0){//各回各家\r\n \r\n\r\n            A_act1=cc.moveTo(1,cc.v2(x1,y1))\r\n            A_act2=cc.moveTo(1,cc.v2(x1,y1))\r\n\r\n            A_act3=cc.moveTo(1,cc.v2(x2,y2))\r\n            A_act4=cc.moveTo(1,cc.v2(x2,y2))\r\n        }\r\n        else if(eid==KBEngine.app.player().id){\r\n            cc.log(\"eid==KBEngine.app.player().id,moveto seat1\",eid,KBEngine.app.player().id)\r\n            A_act1=cc.moveTo(1,cc.v2(x1,y1))\r\n            A_act2=cc.moveTo(1,cc.v2(x1,y1))\r\n            A_act3=cc.moveTo(1,cc.v2(x1,y1))\r\n            A_act4=cc.moveTo(1,cc.v2(x1,y1))\r\n\r\n        }\r\n        else{\r\n            cc.log(\"eid!=KBEngine.app.player().id,moveto seat2\",eid,KBEngine.app.player().id)\r\n            A_act1=cc.moveTo(1,cc.v2(x2,y2))\r\n            A_act2=cc.moveTo(1,cc.v2(x2,y2))\r\n            A_act3=cc.moveTo(1,cc.v2(x2,y2))\r\n            A_act4=cc.moveTo(1,cc.v2(x2,y2))\r\n        }\r\n        var self=this;\r\n\r\n        this.card1num=2+parseInt((card01+1000-1061)/4)  //1,2,3,4\r\n        this.card2num=2+parseInt((card02+1000-1061)/4)\r\n        this.card3num=2+parseInt((card03+1000-1061)/4)\r\n        this.card4num=2+parseInt((card04+1000-1061)/4)\r\n        if (this.card1num>10) {this.card1num=1}\r\n        if (this.card2num>10) {this.card2num=1}\r\n        if (this.card3num>10) {this.card3num=1}\r\n        if (this.card4num>10) {this.card4num=1}\r\n\r\n        var funcount1=cc.callFunc(function(target){\r\n            this.seat1.getComponent(\"Seat\").refreshcount1()\r\n            this.seat2.getComponent(\"Seat\").refreshcount1()\r\n        }, this);\r\n\r\n        var funcount2=cc.callFunc(function(target){\r\n            this.seat1.getComponent(\"Seat\").refreshcount2()\r\n            this.seat2.getComponent(\"Seat\").refreshcount2()\r\n        }, this);\r\n\r\n        var self=this\r\n        var fun1=cc.callFunc(function(target){\r\n            target.x=x1,\r\n            target.y=y1;\r\n            card01=card01+1000;\r\n            var url=\"card_\"+card01+\"@2x\"\r\n            //target.getComponent(cc.Sprite).spriteFrame=self.node.getChildByName(url).getComponent(cc.Sprite).spriteFrame\r\n            //////////////////////////////\r\n            target.getComponent(cc.Sprite).spriteFrame=self.cardAtlas.getSpriteFrame(url)\r\n            ///////////////////////////\r\n            \r\n            /*\r\n            cc.loader.loadRes(url,cc.SpriteFrame,function(err,spriteFrame) {\r\n            self.card1.getComponent(cc.Sprite).spriteFrame= spriteFrame\r\n            }); */\r\n        }, this.card1);\r\n       \r\n        \r\n        var fun2=cc.callFunc(function(target){\r\n            target.x=x1\r\n            target.y=y1\r\n            card02=card02+1000;\r\n            var url=\"card_\"+card02+\"@2x\"\r\n            //target.getComponent(cc.Sprite).spriteFrame=self.node.getChildByName(url).getComponent(cc.Sprite).spriteFrame\r\n            target.getComponent(cc.Sprite).spriteFrame=self.cardAtlas.getSpriteFrame(url)\r\n        }, this.card2);\r\n        var fun3=cc.callFunc(function(target){\r\n            target.x=x2\r\n            target.y=y2\r\n            card03=card03+1000;\r\n            var url=\"card_\"+card03+\"@2x\"\r\n            //target.getComponent(cc.Sprite).spriteFrame=self.node.getChildByName(url).getComponent(cc.Sprite).spriteFrame\r\n            target.getComponent(cc.Sprite).spriteFrame=self.cardAtlas.getSpriteFrame(url)\r\n        }, this.card3);\r\n        var fun4=cc.callFunc(function(target){\r\n            target.x=x2\r\n            target.y=y2\r\n            card04=card04+1000;\r\n            var url=\"card_\"+card04+\"@2x\"\r\n            //target.getComponent(cc.Sprite).spriteFrame=self.node.getChildByName(url).getComponent(cc.Sprite).spriteFrame\r\n            target.getComponent(cc.Sprite).spriteFrame=self.cardAtlas.getSpriteFrame(url)\r\n        }, this.card4);\r\n\r\n        var fun11=cc.callFunc(function(target){\r\n            target.x=card1origposx\r\n            target.y=card1origposy\r\n        }, this.card1);\r\n        \r\n        var fun22=cc.callFunc(function(target){\r\n            target.x=card2origposx\r\n            target.y=card2origposy\r\n        }, this.card2);\r\n        var fun33=cc.callFunc(function(target){\r\n            target.x=card3origposx\r\n            target.y=card3origposy\r\n        }, this.card3);\r\n        var fun44=cc.callFunc(function(target){\r\n            target.x=card4origposx\r\n            target.y=card4origposy\r\n        }, this.card4);\r\n\r\n        B_act1=cc.moveTo(1,cc.v2(card1origposx,card1origposy))\r\n        B_act2=cc.moveTo(1,cc.v2(card2origposx,card2origposy))\r\n        B_act3=cc.moveTo(1,cc.v2(card3origposx,card3origposy))\r\n        B_act4=cc.moveTo(1,cc.v2(card4origposx,card4origposy))\r\n\r\n        if(eid==12345){//各回各家2张\r\n            this.card1.runAction(cc.sequence(fun1,B_act1,fun11,funcount2))\r\n            this.card2.runAction(cc.sequence(fun2,B_act2,fun22,funcount2))\r\n            this.card3.runAction(cc.sequence(fun3,B_act3,fun33,funcount2))\r\n            this.card4.runAction(cc.sequence(fun4,B_act4,fun44,funcount2))\r\n\r\n        }\r\n        else{ //一家四张\r\n            this.card1.runAction(cc.sequence(A_act1,fun1,funcount1,cc.delayTime(1),B_act1,fun11,funcount2))\r\n            this.card2.runAction(cc.sequence(A_act2,fun2,funcount1,cc.delayTime(1),B_act2,fun22,funcount2))\r\n            this.card3.runAction(cc.sequence(A_act3,fun3,funcount1,cc.delayTime(1),B_act3,fun33,funcount2))\r\n            this.card4.runAction(cc.sequence(A_act4,fun4,funcount1,cc.delayTime(1),B_act4,fun44,funcount2))\r\n        }\r\n\r\n        /////////////////////////////\r\n\r\n        cc.log(\"wwwwwwnewTurn\",avatar.id, second,card01,card02,card03,card04)\r\n\r\n        this.opt.active=true\r\n        this.act=[]\r\n  \r\n       \r\n    },\r\n\r\n    onGameOver: function(avatarID, isWin, hp, totalTime, totalHarm, score) {\r\n        if(avatarID == KBEngine.app.player().id) {\r\n            HP = hp;\r\n            TOTAL_TIME = totalTime;\r\n            OtherHP = totalHarm;\r\n            SCORE = score;\r\n            LVlevel=Math.round(100*SCORE)\r\n            this.unInstallEvents();\r\n            if(isWin) {\r\n                cc.director.loadScene(\"WinScene\");\r\n            } else {\r\n                cc.director.loadScene(\"LoseScene\");\r\n            }\r\n        }\r\n        //cc.log(\"8888888888888888888888888888888888888888888888888888888888888888888888888888888888888\")\r\n        //this.disEnableControlPlayer();\r\n        //this.unInstallEvents();\r\n        this.player = null;\r\n    },\r\n    invatefriend:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        //this.yaoqing.active=false\r\n        this.matching=this.node.getChildByName(\"bg2\").getChildByName(\"matching2\")\r\n        this.matching.active=true\r\n        var self=this;\r\n        ///////////////////////////\r\n        cc.loader.loadRes(\"sound/share\",function(err,data){\r\n            var selff=self;\r\n            wx.shareAppMessage({\r\n                title: self.RoomID.string,\r\n                imageUrl: data.url,\r\n                //query: \"Roomid=\" + self.roomKeyc + \"&UserName=\" + KBEngine.app.entities[KBEngine.app.player().id].accountName,// 别人点击链接时会得到的数据\r\n                //query: \"nick=\" + nick + \"&gender=\" + gender + \"&city=\" + city,\r\n                query:\"Roomid=\"+ self.roomKeyc+\"&UserName=\"+ KBEngine.app.entities[KBEngine.app.player().id].accountName,\r\n                success(res) {               \r\n                    cc.log(\"分享成功\" + res);         \r\n                },\r\n                fail(res) {\r\n                    cc.log(\"分享失败\" + res);\r\n                    //this.yaoqing.active=true\r\n                }\r\n            });\r\n            selff.yaoqing.active=false \r\n            \r\n            \r\n        });\r\n         \r\n    },\r\n    createPlayer: function(avatar) {\r\n       // SCALE=1;\r\n        cc.log(\"new createPlayer this.player=，avatar.modelID=\",this.player,avatar.modelID )\r\n\r\n        if(!this.player) {\r\n            if(avatar.id==KBEngine.app.player().id) {\r\n                this.seat1.active=true\r\n                this.seat1.getComponent(\"Seat\")._userName=avatar.accountName\r\n                this.seat1.getComponent(\"Seat\").avatarUrl=avatar.avatarUrl\r\n                //this.seat1.getComponent(\"Seat\")._isReady=true\r\n                this.seat1.getComponent(\"Seat\").refresh();\r\n                this.player =  this.seat1;\r\n                \r\n            }else{\r\n                this.seat2.active=true\r\n                //this.seat2.getComponent(\"Seat\")._isReady=true\r\n                this.seat2.getComponent(\"Seat\")._userName=avatar.accountName\r\n                this.seat2.getComponent(\"Seat\").avatarUrl=avatar.avatarUrl\r\n                this.seat2.getComponent(\"Seat\").refresh();\r\n                this.player =  this.seat2;\r\n          \r\n            }\r\n   \r\n            //this.player.setPosition(avatar.position.x*SCALE, avatar.position.z*SCALE);\r\n          \r\n        }\r\n        cc.log(\"after createPlayer this.player=，avatar.modelID=\",this.player,avatar.modelID )\r\n    },\r\n\r\n    onAvatarContinueGame: function(avatar) {\r\n       this.createPlayer(avatar);\r\n    },\r\n});\r\n"]}