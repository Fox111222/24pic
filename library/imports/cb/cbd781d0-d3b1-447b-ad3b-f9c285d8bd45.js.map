{"version":3,"sources":["assets\\scripts\\JoinGameInput.js"],"names":["cc","Class","Component","properties","nums","type","Label","_inputIndex","onLoad","onEnable","onResetClicked","onInputFinished","roomId","node","parent","getComponent","joinPrivateRoominputcallback","onInput","num","window","AudioMgr","playSFX","length","string","parseRoomID","log","onN0Clicked","onN1Clicked","onN2Clicked","onN3Clicked","onN4Clicked","onN5Clicked","onN6Clicked","onN7Clicked","onN8Clicked","onN9Clicked","i","onDelClicked","onCloseClicked","active","strs","push","forEach","item","index","parseInt"],"mappings":"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","sourceRoot":"/","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        nums:{\r\n            default:[],\r\n            type:[cc.Label]\r\n        },\r\n        _inputIndex:0,\r\n        // foo: {\r\n        //    default: null,\r\n        //    url: cc.Texture2D,  // optional, default is typeof default\r\n        //    serializable: true, // optional, default is true\r\n        //    visible: true,      // optional, default is true\r\n        //    displayName: 'Foo', // optional\r\n        //    readonly: false,    // optional, default is false\r\n        // },\r\n        // ...\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        \r\n    },\r\n    \r\n    onEnable:function(){\r\n        this.onResetClicked();\r\n    },\r\n    \r\n    onInputFinished:function(roomId){\r\n        this.node.parent.parent.getComponent(\"StartScene\").joinPrivateRoominputcallback(roomId)\r\n        /*\r\n        cc.vv.userMgr.enterRoom(roomId,function(ret){\r\n            if(ret.errcode == 0){\r\n                this.node.active = false;\r\n            }\r\n            else{\r\n                var content = \"房间[\"+ roomId +\"]不存在，请重新输入!\";\r\n                if(ret.errcode == 4){\r\n                    content = \"房间[\"+ roomId + \"]已满!\";\r\n                }\r\n                cc.vv.alert.show(\"提示\",content);\r\n                this.onResetClicked();\r\n            }\r\n        }.bind(this)); \r\n        */\r\n    },\r\n    \r\n    onInput:function(num){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        if(this._inputIndex >= this.nums.length){\r\n            return;\r\n        }\r\n        this.nums[this._inputIndex].string = num;\r\n        this._inputIndex += 1;\r\n        \r\n        if(this._inputIndex == this.nums.length){\r\n            var roomId = this.parseRoomID();\r\n            cc.log(\"ok:\" + roomId);\r\n            this.onInputFinished(roomId);\r\n        }\r\n    },\r\n    \r\n    onN0Clicked:function(){\r\n        this.onInput(0);  \r\n    },\r\n    onN1Clicked:function(){\r\n        this.onInput(1);  \r\n    },\r\n    onN2Clicked:function(){\r\n        this.onInput(2);\r\n    },\r\n    onN3Clicked:function(){\r\n        this.onInput(3);\r\n    },\r\n    onN4Clicked:function(){\r\n        this.onInput(4);\r\n    },\r\n    onN5Clicked:function(){\r\n        this.onInput(5);\r\n    },\r\n    onN6Clicked:function(){\r\n        this.onInput(6);\r\n    },\r\n    onN7Clicked:function(){\r\n        this.onInput(7);\r\n    },\r\n    onN8Clicked:function(){\r\n        this.onInput(8);\r\n    },\r\n    onN9Clicked:function(){\r\n        this.onInput(9);\r\n    },\r\n    onResetClicked:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        for(var i = 0; i < this.nums.length; ++i){\r\n            this.nums[i].string = \"\";\r\n        }\r\n        this._inputIndex = 0;\r\n    },\r\n    onDelClicked:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        if(this._inputIndex > 0){\r\n            this._inputIndex -= 1;\r\n            this.nums[this._inputIndex].string = \"\";\r\n        }\r\n    },\r\n    onCloseClicked:function(){\r\n        window.AudioMgr.playSFX(\"ui_click\")\r\n        this.node.active = false;\r\n    },\r\n    \r\n    parseRoomID:function(){\r\n        //var str = \"\";\r\n        var strs =[];\r\n        for(var i = 0; i < this.nums.length; ++i){\r\n            //str += this.nums[i].string;\r\n            strs.push(this.nums[i].string)\r\n        }\r\n        strs.forEach((item,index) =>{\r\n\t        strs[index] = parseInt(strs[index])\r\n        })\r\n        return strs; //转成数字数组\r\n    }\r\n\r\n    // called every frame, uncomment this function to activate update callback\r\n    // update: function (dt) {\r\n\r\n    // },\r\n});\r\n"]}