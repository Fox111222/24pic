window.__require=function e(t,o,c){function n(r,i){if(!o[r]){if(!t[r]){var s=r.split("/");if(s=s[s.length-1],!t[s]){var l="function"==typeof __require&&__require;if(!i&&l)return l(s,!0);if(a)return a(s,!0);throw new Error("Cannot find module '"+r+"'")}r=s}var g=o[r]={exports:{}};t[r][0].call(g.exports,function(e){return n(t[r][1][e]||e)},g,g.exports,e,t,o,c)}return o[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<c.length;r++)n(c[r]);return n}({GameRankingList:[function(e,t,o){"use strict";cc._RF.push(t,"5b927M8yFlKoayzI+NDxP/u","GameRankingList"),cc.Class({extends:cc.Component,properties:{rankingScrollView:cc.ScrollView,scrollViewContent:cc.Node,prefabRankItem:cc.Prefab,myScore:cc.Label},start:function(){var e=this;void 0!=window.wx&&wx.onMessage(function(t){switch(console.log("\u6536\u5230\u4e3b\u57df\u53d1\u6765\u7684\u6d88\u606f: ",t),cc.log("\u6536\u5230\u4e3b\u57df\u53d1\u6765\u7684\u6d88\u606f: ",t),t.message){case"Show":e.show();break;case"Hide":e.hide()}})},show:function(){void 0!=window.wx&&this.fetchFriendData()},hide:function(){this.removeChild()},removeChild:function(){this.scrollViewContent.removeAllChildren()},fetchFriendData:function(){var e=this;void 0!=window.wx&&(this.removeChild(),wx.getUserInfo({openIdList:["selfOpenId"],success:function(t){console.log("getUserInfo success  ",t.data),cc.log("getUserInfo success  ",t.data);var o=t.data[0];wx.getFriendCloudStorage({keyList:["score"],success:function(t){console.log("wx.getFriendCloudStorage success",t);var c=t.data;c.sort(function(e,t){return 0==e.KVDataList.length&&0==t.KVDataList.length?0:0==e.KVDataList.length?1:0==t.KVDataList.length?-1:t.KVDataList[0].value-e.KVDataList[0].value});for(var n=0;n<c.length;n++){var a=c[n],r=cc.instantiate(e.prefabRankItem);r.getComponent("RankItem").init(n,a),e.scrollViewContent.addChild(r),c[n].avatarUrl==o.avatarUrl&&(e.myScore.string="\u6211\u7684\u80dc\u7387: "+c[n].KVDataList[0].value+"%, \u6392\u540d: "+(n+1))}e.rankingScrollView.scrollToTop(.1)},fail:function(e){console.log("wx.getFriendCloudStorage fail",e)}})},fail:function(e){console.log("wx.getUserInfo fail",e)}}))},onLoad:function(){cc.macro.ENABLE_TRANSPARENT_CANVAS=!0,cc.director.setClearColor(new cc.Color(255,255,255,0))}}),cc._RF.pop()},{}],RankItem:[function(t,o,c){"use strict";cc._RF.push(o,"0c1cd8aKgxMl7vTM0wrjXeF","RankItem"),cc.Class({extends:cc.Component,properties:{backSprite:cc.Node,rankLabel:cc.Label,avatarImgSprite:cc.Sprite,nickLabel:cc.Label,topScoreLabel:cc.Label},init:function(e,t){var o=t.avatarUrl,c=t.nickname,n=0!=t.KVDataList.length?t.KVDataList[0].value:0;e%2==0&&(this.backSprite.color=new cc.Color(55,55,55,255)),0==e?this.rankLabel.node.color=new cc.Color(255,0,0,255):1==e?this.rankLabel.node.color=new cc.Color(255,255,0,255):2==e&&(this.rankLabel.node.color=new cc.Color(100,255,0,255)),this.rankLabel.string=(e+1).toString(),this.createImage(o),this.nickLabel.string=c,this.topScoreLabel.string="\u80dc\u7387:"+n.toString()+"%"},createImage:function(t){var o=this;if(void 0!=window.wx)try{var c=wx.createImage();c.src=t,c.onload=function(){try{console.log("wx load image success");var e=new cc.Texture2D;e.initWithElement(c),e.handleLoadedTexture(),o.avatarImgSprite.spriteFrame=new cc.SpriteFrame(e),o.avatarImgSprite.node.setScale(1)}catch(e){console.log("wx init image error: ",e),o.avatarImgSprite.node.active=!1}}}catch(e){console.log("wx create image error: ",e),this.avatarImgSprite.node.active=!1}else cc.loader.load({url:t,type:"jpg"},function(t,c){console.log("load image : ",e),o.avatarImgSprite.spriteFrame=new cc.SpriteFrame(c)})}}),cc._RF.pop()},{}],"use_v2.0.x_cc.Toggle_event":[function(e,t,o){"use strict";cc._RF.push(t,"3915e1CvoZKibSS8H1XYyP3","use_v2.0.x_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_check=!0),cc._RF.pop()},{}]},{},["use_v2.0.x_cc.Toggle_event","GameRankingList","RankItem"]);